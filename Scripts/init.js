/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
(function(b,l){var e,p=function(){},n=function(a){for(var c in a)return 0;return 1},q={}.toString,m=function(a){return"[object Function]"==q.call(a)},k=function(a){return"[object String]"==q.call(a)},h=function(a){return"[object Array]"==q.call(a)},a=function(a,c){if(a)for(var b=0;b<a.length;)c(a[b++])},f=function(a,c){for(var b in c)a[b]=c[b];return a},d=function(a,c){return f(Error(a),{src:"dojoLoader",info:c})},c=1,g=function(){return"_"+c++},r=function(a,c,b){return La(a,c,b,0,r)},t=this,v=t.document,
u=v&&v.createElement("DiV"),s=r.has=function(a){return m(x[a])?x[a]=x[a](t,v,u):x[a]},x=s.cache=l.hasCache;s.add=function(a,c,b,d){(void 0===x[a]||d)&&(x[a]=c);return b&&s(a)};s.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);s("host-webworker")&&(f(l.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1}),l.loaderPatch={injectUrl:function(a,c){try{importScripts(a),c()}catch(b){console.info("failed to load resource ("+
a+")"),console.error(b)}}});for(var A in b.has)s.add(A,b.has[A],0,1);var w=0,F=[],y=0,C=p,I=p,O;r.isXdUrl=p;r.initSyncLoader=function(a,c,b){y||(y=a,C=c,I=b);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:F,modules:z,execQ:Q,getModule:V,injectModule:pa,setArrived:ba,signal:D,finishExec:ga,execModule:ha,dojoRequirePlugin:y,getLegacyMode:function(){return w},guardCheckComplete:ia}};var P=location.protocol,K=location.host;r.isXdUrl=function(a){return/^\./.test(a)?
!1:/^\/\//.test(a)?!0:(a=a.match(/^([^\/\:]+\:)\/+([^\/]+)/))&&(a[1]!=P||K&&a[2]!=K)};s.add("dojo-force-activex-xhr",!v.addEventListener&&"file:"==window.location.protocol);s.add("native-xhr","undefined"!=typeof XMLHttpRequest);if(s("native-xhr")&&!s("dojo-force-activex-xhr"))O=function(){return new XMLHttpRequest};else{var S=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],B;for(e=0;3>e;)try{if(B=S[e++],new ActiveXObject(B))break}catch(G){}O=function(){return new ActiveXObject(B)}}r.getXhr=
O;s.add("dojo-gettext-api",1);r.getText=function(a,c,b){var f=O();f.open("GET",qa(a),!1);f.send(null);if(200==f.status||!location.host&&!f.status)b&&b(f.responseText,c);else throw d("xhrFailed",f.status);return f.responseText};var M=new Function("return eval(arguments[0]);");r.eval=function(a,c){return M(a+"\r\n////@ sourceURL\x3d"+c)};var E={},D=r.signal=function(c,b){var d=E[c];a(d&&d.slice(0),function(a){a.apply(null,h(b)?b:[b])})},N=r.on=function(a,c){var b=E[a]||(E[a]=[]);b.push(c);return{remove:function(){for(var a=
0;a<b.length;a++)if(b[a]===c){b.splice(a,1);break}}}},da=[],Y={},$=[],L={},J=r.map={},T=[],z={},H="",W={},U={},ea={},X=0,ra=function(a){var c,b,d,f;for(c in U)b=U[c],(d=c.match(/^url\:(.+)/))?W["url:"+Ma(d[1],a)]=b:"*now"==c?f=b:"*noref"!=c&&(d=ja(c,a,!0),W[d.mid]=W["url:"+d.url]=b);f&&f(Ba(a));U={}},Na=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},Ca=function(a,c){c.splice(0,c.length);for(var b in a)c.push([b,a[b],RegExp("^"+Na(b)+"(/|$)"),b.length]);c.sort(function(a,
c){return c[3]-a[3]});return c},$a=function(c,b){a(c,function(a){b.push([k(a[0])?RegExp("^"+Na(a[0])+"$"):a[0],a[1]])})},Oa=function(a){var c=a.name;c||(c=a,a={name:c});a=f({main:"main"},a);a.location=a.location?a.location:c;a.packageMap&&(J[c]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));L[c]=a},Pa=[],ka=function(c,b,d){for(var g in c){"waitSeconds"==g&&(r.waitms=1E3*(c[g]||0));"cacheBust"==g&&(H=c[g]?k(c[g])?c[g]:(new Date).getTime()+"":"");if("baseUrl"==g||"combo"==g)r[g]=c[g];
if("async"==g){var h=c[g];r.legacyMode=w=k(h)&&/sync|legacyAsync/.test(h)?h:!h?"sync":!1;r.async=!w}c[g]!==x&&(r.rawConfig[g]=c[g],"has"!=g&&s.add("config-"+g,c[g],0,b))}r.baseUrl||(r.baseUrl="./");/\/$/.test(r.baseUrl)||(r.baseUrl+="/");for(g in c.has)s.add(g,c.has[g],0,b);a(c.packages,Oa);for(var q in c.packagePaths)a(c.packagePaths[q],function(a){var c=q+"/"+a;k(a)&&(a={name:a});a.location=c;Oa(a)});Ca(f(J,c.map),T);a(T,function(a){a[1]=Ca(a[1],[]);"*"==a[0]&&(T.star=a)});Ca(f(Y,c.paths),$);$a(c.aliases,
da);if(b)Pa.push({config:c.config});else for(g in c.config)b=V(g,d),b.config=f(b.config||{},c.config[g]);c.cache&&(ra(),U=c.cache,c.cache["*noref"]&&ra());D("config",[c,r.rawConfig])};s("dojo-cdn");var sa=v.getElementsByTagName("script");e=0;for(var Z,ca,ta,la;e<sa.length;){Z=sa[e++];if((ta=Z.getAttribute("src"))&&(la=ta.match(/(((.*)\/)|^)dojo\.js(\W|$)/i)))ca=la[3]||"",l.baseUrl=l.baseUrl||ca,X=Z;if(ta=Z.getAttribute("data-dojo-config")||Z.getAttribute("djConfig"))ea=r.eval("({ "+ta+" })","data-dojo-config"),
X=Z}r.rawConfig={};ka(l,1);s("dojo-cdn")&&((L.dojo.location=ca)&&(ca+="/"),L.dijit.location=ca+"../dijit/",L.dojox.location=ca+"../dojox/");ka(b,1);ka(ea,1);var ma=function(c){ia(function(){a(c.deps,pa)})},La=function(a,c,b,s,q){var e;if(k(a)){if((e=V(a,s,!0))&&e.executed)return e.result;throw d("undefinedModule",a);}h(a)||(ka(a,0,s),a=c,c=b);if(h(a))if(a.length){b="require*"+g();for(var m,t=[],n=0;n<a.length;)m=a[n++],t.push(V(m,s));e=f(ua("",b,0,""),{injected:2,deps:t,def:c||p,require:s?s.require:
r,gc:1});z[e.mid]=e;ma(e);var l=na&&"sync"!=w;ia(function(){ha(e,l)});e.executed||Q.push(e);fa()}else c&&c();return q},Ba=function(a){if(!a)return r;var c=a.require;c||(c=function(b,d,f){return La(b,d,f,a,c)},a.require=f(c,r),c.module=a,c.toUrl=function(c){return Ma(c,a)},c.toAbsMid=function(c){return Da(c,a)},s("dojo-undef-api")&&(c.undef=function(c){r.undef(c,a)}),c.syncLoadNls=function(c){c=ja(c,a);var b=z[c.mid];if(!b||!b.executed)if(aa=W[c.mid]||W["url:"+c.url])va(aa),b=z[c.mid];return b&&b.executed&&
b.result});return c},Q=[],wa=[],R={},ab=function(a){a.injected=1;R[a.mid]=1;a.url&&(R[a.url]=a.pack||1);Qa()},ba=function(a){a.injected=2;delete R[a.mid];a.url&&delete R[a.url];n(R)&&(xa(),"xd"==w&&(w="sync"))},bb=r.idle=function(){return!wa.length&&n(R)&&!Q.length&&!na},Ea=function(a,c){if(c)for(var b=0;b<c.length;b++)if(c[b][2].test(a))return c[b];return 0},Ra=function(a){var c=[],b,d;for(a=a.replace(/\\/g,"/").split("/");a.length;)b=a.shift(),".."==b&&c.length&&".."!=d?(c.pop(),d=c[c.length-1]):
"."!=b&&c.push(d=b);return c.join("/")},ua=function(a,c,b,d){var f=r.isXdUrl(d);return{pid:a,mid:c,pack:b,url:d,executed:0,def:0,isXd:f,isAmd:!!(f||L[a]&&L[a].isAmd)}},Sa=function(c,b,f,g,h,r,q,e,k){var t,n,l,y;y=/^\./.test(c);if(/(^\/)|(\:)|(\.js$)/.test(c)||y&&!b)return ua(0,c,0,c);c=Ra(y?b.mid+"/../"+c:c);if(/^\./.test(c))throw d("irrationalPath",c);b&&(l=Ea(b.mid,r));(l=(l=l||r.star)&&Ea(c,l[1]))&&(c=l[1]+c.substring(l[3]));b=(la=c.match(/^([^\/]+)(\/(.+))?$/))?la[1]:"";(t=f[b])?c=b+"/"+(n=la[3]||
t.main):b="";var u=0;a(e,function(a){var b=c.match(a[0]);b&&0<b.length&&(u=m(a[1])?c.replace(a[0],a[1]):a[1])});if(u)return Sa(u,0,f,g,h,r,q,e,k);if(f=g[c])return k?ua(f.pid,f.mid,f.pack,f.url):g[c];g=(l=Ea(c,q))?l[1]+c.substring(l[3]):b?t.location+"/"+n:s("config-tlmSiblingOfDojo")?"../"+c:c;/(^\/)|(\:)/.test(g)||(g=h+g);return ua(b,c,t,Ra(g+".js"))},ja=function(a,c,b){return Sa(a,c,L,z,r.baseUrl,b?[]:T,b?[]:$,b?[]:da)},Ta=function(a,c,b){return a.normalize?a.normalize(c,function(a){return Da(a,
b)}):Da(c,b)},Ua=0,V=function(a,c,b){var d,f;(d=a.match(/^(.+?)\!(.*)$/))?(f=V(d[1],c,b),"sync"==w&&!f.executed&&(pa(f),2===f.injected&&!f.executed&&ia(function(){ha(f)}),f.executed?ya(f):Q.unshift(f)),5===f.executed&&!f.load&&ya(f),f.load?(d=Ta(f,d[2],c),a=f.mid+"!"+(f.dynamic?++Ua+"!":"")+d):(d=d[2],a=f.mid+"!"+ ++Ua+"!waitingForPlugin"),a={plugin:f,mid:a,req:Ba(c),prid:d}):a=ja(a,c);return z[a.mid]||!b&&(z[a.mid]=a)},Da=r.toAbsMid=function(a,c){return ja(a,c).mid},Ma=r.toUrl=function(a,c){var b=
ja(a+"/x",c),d=b.url;return qa(0===b.pid?a:d.substring(0,d.length-5))},Va={injected:2,executed:5,def:3,result:3},Fa=function(a){return z[a]=f({mid:a},Va)},cb=Fa("require"),db=Fa("exports"),eb=Fa("module"),za={},Ga=0,ya=function(a){var c=a.result;a.dynamic=c.dynamic;a.normalize=c.normalize;a.load=c.load;return a},fb=function(c){var b={};a(c.loadQ,function(a){var d=Ta(c,a.prid,a.req.module),g=c.dynamic?a.mid.replace(/waitingForPlugin$/,d):c.mid+"!"+d,d=f(f({},a),{mid:g,prid:d,injected:0});z[g]||Wa(z[g]=
d);b[a.mid]=z[g];ba(a);delete z[a.mid]});c.loadQ=0;var d=function(a){for(var c=a.deps||[],d=0;d<c.length;d++)(a=b[c[d].mid])&&(c[d]=a)},g;for(g in z)d(z[g]);a(Q,d)},ga=function(c){r.trace("loader-finish-exec",[c.mid]);c.executed=5;c.defOrder=Ga++;a(c.provides,function(a){a()});c.loadQ&&(ya(c),fb(c));for(e=0;e<Q.length;)Q[e]===c?Q.splice(e,1):e++;/^require\*/.test(c.mid)&&delete z[c.mid]},gb=[],ha=function(a,c){if(4===a.executed)return r.trace("loader-circular-dependency",[gb.concat(a.mid).join("-\x3e")]),
!a.def||c?za:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return za;var b=a.mid,f=a.deps||[],g,h=[],q=0;for(a.executed=4;g=f[q++];){g=g===cb?Ba(a):g===db?a.cjs.exports:g===eb?a.cjs:ha(g,c);if(g===za)return a.executed=0,r.trace("loader-exec-module",["abort",b]),za;h.push(g)}r.trace("loader-run-factory",[a.mid]);var b=a.def,e;F.unshift(a);if(s("config-dojo-loader-catches"))try{e=m(b)?b.apply(null,h):b}catch(k){D("error",a.result=d("factoryThrew",[a,k]))}else e=m(b)?b.apply(null,h):b;a.result=void 0===
e&&a.cjs?a.cjs.exports:e;F.shift(a);ga(a)}return a.result},na=0,ia=function(a){try{na++,a()}finally{na--}bb()&&D("idle",[])},fa=function(){na||ia(function(){C();for(var a,c,b=0;b<Q.length;)a=Ga,c=Q[b],ha(c),a!=Ga?(C(),b=0):b++})};s("dojo-undef-api")&&(r.undef=function(a,c){var b=V(a,c);ba(b);f(b,{def:0,executed:0,injected:0,node:0})});void 0===s("dojo-loader-eval-hint-url")&&s.add("dojo-loader-eval-hint-url",1);var qa="function"==typeof b.fixupUrl?b.fixupUrl:function(a){a+="";return a+(H?(/\?/.test(a)?
"\x26":"?")+H:"")},Wa=function(a){var c=a.plugin;5===c.executed&&!c.load&&ya(c);var b=function(c){a.result=c;ba(a);ga(a);fa()};c.load?c.load(a.prid,a.req,b):c.loadQ?c.loadQ.push(a):(c.loadQ=[a],Q.unshift(c),pa(c))},aa=0,oa=0,Ha=0,va=function(a,c){s("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));Ha=1;if(s("config-dojo-loader-catches"))try{a===aa?aa.call(null):r.eval(a,s("dojo-loader-eval-hint-url")?c.url:c.mid)}catch(b){D("error",d("evalModuleThrew",c))}else a===aa?aa.call(null):r.eval(a,
s("dojo-loader-eval-hint-url")?c.url:c.mid);Ha=0},pa=function(c){var b=c.mid,g=c.url;if(!c.executed&&!c.injected&&!(R[b]||c.url&&(c.pack&&R[c.url]===c.pack||1==R[c.url])))if(ab(c),c.plugin)Wa(c);else{var h=function(){Xa(c);if(2!==c.injected){if(s("dojo-enforceDefine")){D("error",d("noDefine",c));return}ba(c);f(c,Va);r.trace("loader-define-nonmodule",[c.url])}w?!F.length&&fa():fa()};if(aa=W[b]||W["url:"+c.url])r.trace("loader-inject",["cache",c.mid,g]),va(aa,c),h();else{if(w)if(c.isXd)"sync"==w&&(w=
"xd");else if(!(c.isAmd&&"sync"!=w)){var q=function(d){if("sync"==w){F.unshift(c);va(d,c);F.shift();Xa(c);c.cjs||(ba(c),ga(c));if(c.finish){d=b+"*finish";var f=c.finish;delete c.finish;Ia(d,["dojo",("dojo/require!"+f.join(",")).replace(/\./g,"/")],function(c){a(f,function(a){c.require(a)})});Q.unshift(V(d))}h()}else(d=I(c,d))?(va(d,c),h()):(oa=c,r.injectUrl(qa(g),h,c),oa=0)};r.trace("loader-inject",["xhr",c.mid,g,"sync"!=w]);if(s("config-dojo-loader-catches"))try{r.getText(g,"sync"!=w,q)}catch(e){D("error",
d("xhrInjectFailed",[c,e]))}else r.getText(g,"sync"!=w,q);return}r.trace("loader-inject",["script",c.mid,g]);oa=c;r.injectUrl(qa(g),h,c);oa=0}}},Ja=function(a,c,b){r.trace("loader-define-module",[a.mid,c]);var g=a.mid;if(2===a.injected)return D("error",d("multipleDefine",a)),a;f(a,{deps:c,def:b,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(c){a.cjs.exports=c},config:function(){return a.config}}});for(var h=0;c[h];h++)c[h]=V(c[h],a);w&&!R[g]&&(ma(a),Q.push(a),fa());ba(a);!m(b)&&!c.length&&
(a.result=b,ga(a));return a},Xa=function(c,b){for(var d=[],f,g;wa.length;)g=wa.shift(),b&&(g[0]=b.shift()),f=g[0]&&V(g[0])||c,d.push([f,g[1],g[2]]);ra(c);a(d,function(a){ma(Ja.apply(null,a))})},Aa=0,xa=p,Qa=p,xa=function(){Aa&&clearTimeout(Aa);Aa=0},Qa=function(){xa();r.waitms&&(Aa=t.setTimeout(function(){xa();D("error",d("timeout",R))},r.waitms))};s.add("ie-event-behavior",v.attachEvent&&"undefined"===typeof Windows&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var Ka=function(a,
c,b,d){if(s("ie-event-behavior"))return a.attachEvent(b,d),function(){a.detachEvent(b,d)};a.addEventListener(c,d,!1);return function(){a.removeEventListener(c,d,!1)}},hb=Ka(window,"load","onload",function(){r.pageLoaded=1;"complete"!=v.readyState&&(v.readyState="complete");hb()}),sa=v.getElementsByTagName("script");for(e=0;!X;)if(!/^dojo/.test((Z=sa[e++])&&Z.type))X=Z;r.injectUrl=function(a,c,b){b=b.node=v.createElement("script");var f=Ka(b,"load","onreadystatechange",function(a){a=a||window.event;
var b=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(b.readyState))f(),g(),c&&c()}),g=Ka(b,"error","onerror",function(c){f();g();D("error",d("scriptError",[a,c]))});b.type="text/javascript";b.charset="utf-8";b.src=a;X.parentNode.insertBefore(b,X);return b};r.log=function(){try{for(var a=0;a<arguments.length;a++)console.log(arguments[a])}catch(c){}};r.trace=p;var Ia=function(a,c,b){var f=arguments.length,g=["require","exports","module"],h=[0,a,c];1==f?h=[0,m(a)?g:[],a]:2==f&&k(a)?
h=[a,m(c)?g:[],c]:3==f&&(h=[a,c,b]);r.trace("loader-define",h.slice(0,2));if((f=h[0]&&V(h[0]))&&!R[f.mid])ma(Ja(f,h[1],h[2]));else if(!s("ie-event-behavior")||Ha)wa.push(h);else{f=f||oa;if(!f)for(a in R)if((g=z[a])&&g.node&&"interactive"===g.node.readyState){f=g;break}f?(ra(f),ma(Ja(f,h[1],h[2]))):D("error",d("ieDefineFailed",h[0]));fa()}};Ia.amd={vendor:"dojotoolkit.org"};f(f(r,l.loaderPatch),b.loaderPatch);N("error",function(a){try{if(console.error(a),a instanceof Error){for(var c in a)console.log(c+
":",a[c]);console.log(".")}}catch(b){}});f(r,{uid:g,cache:W,packs:L});if(t.define)D("error",d("defineAlreadyDefined",0));else{t.define=Ia;t.require=r;a(Pa,function(a){ka(a)});var Ya=ea.deps||b.deps||l.deps,Za=ea.callback||b.callback||l.callback;r.boot=Ya||Za?[Ya||[],Za]:0}})(this.dojoConfig||this.djConfig||this.require||{},{async:0,baseUrl:(location.protocol === 'file:' ? 'http:' : location.protocol) + '//' + "[HOSTNAME_AND_PATH_TO_JSAPI]dojo",hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,
dom:1,"extend-esri":1,"host-browser":1},packages:[{location:"../dojox",name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dijit",name:"dijit"},{location:"../xstyle",name:"xstyle"},{location:"../esri",name:"esri"},{location:".",name:"dojo"},{location:"../put-selector",main:"put",name:"put-selector"}]});
require({cache:{"dojo/request/default":function(){define(["exports","require","../has"],function(b,l,e){var p=e("config-requestProvider");p||(p="./xhr");b.getPlatformDefaultId=function(){return"./xhr"};b.load=function(b,q,e,k){l(["platform"==b?"./xhr":p],function(b){e(b)})}})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(b,l,e,p,n,q,m,k,h){var a=e.mixin,f={},d=f._Line=function(a,c){this.start=a;this.end=
c};d.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var c=f.Animation=function(c){a(this,c);e.isArray(this.curve)&&(this.curve=new d(this.curve[0],this.curve[1]))};c.prototype=new p;e.extend(c,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,c=this.easing;return c?c(a):a},_fire:function(a,c){var b=c||[];if(this[a])if(l.debugAtAllCosts)this[a].apply(this,b);else try{this[a].apply(this,b)}catch(d){console.error("exception in animation handler for:",
a),console.error(d)}return this},play:function(a,c){this._delayTimer&&this._clearTimer();if(c)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var b=a||this.delay,d=e.hitch(this,"_play",c);if(0<b)return this._delayTimer=setTimeout(d,b),this;d();return this},_play:function(a){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);
this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,c){this._stopTimer();this._active=this._paused=!0;this._percent=
a;c&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=
a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var g=0,r=null,t={run:function(){}};
e.extend(c,{_startTimer:function(){this._timer||(this._timer=q.after(t,"run",e.hitch(this,"_cycle"),!0),g++);r||(r=setInterval(e.hitch(t,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,g--);0>=g&&(clearInterval(r),r=null,g=0)}});var v=m("ie")?function(a){var c=a.style;!c.width.length&&"auto"==h.get(a,"width")&&(c.width="auto")}:function(){};f._fade=function(c){c.node=k.byId(c.node);var b=a({properties:{}},c);c=b.properties.opacity={};c.start=!("start"in
b)?function(){return+h.get(b.node,"opacity")||0}:b.start;c.end=b.end;c=f.animateProperty(b);q.after(c,"beforeBegin",e.partial(v,b.node),!0);return c};f.fadeIn=function(c){return f._fade(a({end:1},c))};f.fadeOut=function(c){return f._fade(a({end:0},c))};f._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var u=function(a){this._properties=a;for(var c in a){var b=a[c];b.start instanceof n&&(b.tempColor=new n)}};u.prototype.getValue=function(a){var c={},b;for(b in this._properties){var d=
this._properties[b],f=d.start;f instanceof n?c[b]=n.blendColors(f,d.end,a,d.tempColor).toCss():e.isArray(f)||(c[b]=(d.end-f)*a+f+("opacity"!=b?d.units||"px":0))}return c};f.animateProperty=function(d){var f=d.node=k.byId(d.node);d.easing||(d.easing=b._defaultEasing);d=new c(d);q.after(d,"beforeBegin",e.hitch(d,function(){var c={},b;for(b in this.properties){if("width"==b||"height"==b)this.node.display="block";var d=this.properties[b];e.isFunction(d)&&(d=d(f));d=c[b]=a({},e.isObject(d)?d:{end:d});
e.isFunction(d.start)&&(d.start=d.start(f));e.isFunction(d.end)&&(d.end=d.end(f));var g=0<=b.toLowerCase().indexOf("color"),r=function(a,c){var b={height:a.offsetHeight,width:a.offsetWidth}[c];if(void 0!==b)return b;b=h.get(a,c);return"opacity"==c?+b:g?b:parseFloat(b)};"end"in d?"start"in d||(d.start=r(f,b)):d.end=r(f,b);g?(d.start=new n(d.start),d.end=new n(d.end)):d.start="opacity"==b?+d.start:parseFloat(d.start)}this.curve=new u(c)}),!0);q.after(d,"onAnimate",e.hitch(h,"set",d.node),!0);return d};
f.anim=function(a,b,d,g,h,r){return f.animateProperty({node:a,duration:d||c.prototype.duration,properties:b,easing:g,onEnd:h}).play(r||0)};a(b,f);b._Animation=c;return f})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(b,l,e,p){var n={fieldToObject:function(b){var e=null;if(b=l.byId(b)){var k=b.name,h=(b.type||"").toLowerCase();if(k&&h&&!b.disabled)if("radio"==h||"checkbox"==h)b.checked&&(e=b.value);else if(b.multiple){e=[];for(b=[b.firstChild];b.length;)for(k=
b.pop();k;k=k.nextSibling)if(1==k.nodeType&&"option"==k.tagName.toLowerCase())k.selected&&e.push(k.value);else{k.nextSibling&&b.push(k.nextSibling);k.firstChild&&b.push(k.firstChild);break}}else e=b.value}return e},toObject:function(e){var m={};e=l.byId(e).elements;for(var k=0,h=e.length;k<h;++k){var a=e[k],f=a.name,d=(a.type||"").toLowerCase();if(f&&d&&0>"file|submit|image|reset|button".indexOf(d)&&!a.disabled){var c=m,g=f,a=n.fieldToObject(a);if(null!==a){var r=c[g];"string"==typeof r?c[g]=[r,a]:
b.isArray(r)?r.push(a):c[g]=a}"image"==d&&(m[f+".x"]=m[f+".y"]=m[f].x=m[f].y=0)}}return m},toQuery:function(b){return e.objectToQuery(n.toObject(b))},toJson:function(b,e){return p.stringify(n.toObject(b),null,e?4:0)}};return n})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(b,l,e,p,n,q,m,k,h){e.add("dojo-preload-i18n-Api",1);var a=b.i18n={},f=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,d=function(a,
c,b,d){var f=[b+d];c=c.split("-");for(var g="",h=0;h<c.length;h++)if(g+=(g?"-":"")+c[h],!a||a[g])f.push(b+g+"/"+d),f.specificity=g;return f},c={},g=function(a,c,d){d=d?d.toLowerCase():b.locale;a=a.replace(/\./g,"/");c=c.replace(/\./g,"/");return/root/i.test(d)?a+"/nls/"+c:a+"/nls/"+d+"/"+c},r=b.getL10nName=function(a,c,b){return h.id+"!"+g(a,c,b)},t=function(a,b,f,g,h,r){a([b],function(e){var k=q.clone(e.root||e.ROOT),t=d(!e._v1x&&e,h,f,g);a(t,function(){for(var a=1;a<t.length;a++)k=q.mixin(q.clone(k),
arguments[a]);c[b+"/"+h]=k;k.$locale=t.specificity;r()})})},v=function(a){var c=n.extraLocale||[],c=q.isArray(c)?c:[c];c.push(a);return c},u=function(a,d,g){if(e("dojo-preload-i18n-Api")){var h=a.split("*"),r="preload"==h[1];r&&(c[a]||(c[a]=1,F(h[2],k.parse(h[3]),1,d)),g(1));if(!(h=r))A&&w.push([a,d,g]),h=A;if(h)return}a=f.exec(a);var s=a[1]+"/",n=a[5]||a[4],m=s+n,h=(a=a[5]&&a[4])||b.locale||"",l=m+"/"+h;a=a?[h]:v(h);var u=a.length,x=function(){--u||g(q.delegate(c[l]))};p.forEach(a,function(a){var b=
m+"/"+a;e("dojo-preload-i18n-Api")&&y(b);c[b]?x():t(d,m,s,n,a,x)})};if(e("dojo-unit-tests"))var s=a.unitTests=[];e("dojo-preload-i18n-Api");var x=a.normalizeLocale=function(a){a=a?a.toLowerCase():b.locale;return"root"==a?"ROOT":a},A=0,w=[],F=a._preloadLocalizations=function(a,d,f,g){function h(a,c){g.isXdUrl(l.toUrl(a+".js"))||f?g([a],c):O([a],c,g)}function r(a,c){for(var b=a.split("-");b.length;){if(c(b.join("-")))return;b.pop()}c("ROOT")}function e(){for(--A;!A&&w.length;)u.apply(null,w.shift())}
function k(b){b=x(b);r(b,function(f){if(0<=p.indexOf(d,f)){var k=a.replace(/\./g,"/")+"_"+f;A++;h(k,function(a){for(var d in a){var h=a[d],k=d.match(/(.+)\/([^\/]+)$/),t;if(k){t=k[2];k=k[1]+"/";h._localized=h._localized||{};var s;if("ROOT"===f){var n=s=h._localized;delete h._localized;n.root=h;c[l.toAbsMid(d)]=n}else s=h._localized,c[l.toAbsMid(k+t+"/"+f)]=h;f!==b&&function(a,d,f,h){var k=[],t=[];r(b,function(c){h[c]&&(k.push(l.toAbsMid(a+c+"/"+d)),t.push(l.toAbsMid(a+d+"/"+c)))});k.length?(A++,g(k,
function(){for(var g=0;g<k.length;g++)f=q.mixin(q.clone(f),arguments[g]),c[t[g]]=f;c[l.toAbsMid(a+d+"/"+b)]=q.clone(f);e()})):c[l.toAbsMid(a+d+"/"+b)]=f}(k,t,h,s)}}e()});return!0}return!1})}g=g||l;k();p.forEach(b.config.extraLocale,k)},y=function(){},C={},I=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
O=function(a,b,d){var f=[];p.forEach(a,function(a){function b(d){d=I(d,y,a,C);d===C?f.push(c[g]=C.result):(d instanceof Error&&(console.error("failed to evaluate i18n bundle; url\x3d"+g,d),d={}),f.push(c[g]=/nls\/[^\/]+\/[^\/]+$/.test(g)?d:{root:d,_v1x:1}))}var g=d.toUrl(a+".js");if(c[g])f.push(c[g]);else{var h=d.syncLoadNls(a);if(h)f.push(h);else if(m)m.get({url:g,sync:!0,load:b,error:function(){f.push(c[g]={})}});else try{d.getText(g,!0,b)}catch(r){f.push(c[g]={})}}});b&&b.apply(null,f)},y=function(a){for(var d,
f=a.split("/"),g=b.global[f[0]],h=1;g&&h<f.length-1;g=g[f[h++]]);g&&((d=g[f[h]])||(d=g[f[h].replace(/-/g,"_")]),d&&(c[a]=d));return d};a.getLocalization=function(a,c,b){var d;a=g(a,c,b);u(a,!l.isXdUrl(l.toUrl(a+".js"))?function(a,c){O(a,c,l)}:l,function(a){d=a});return d};e("dojo-unit-tests")&&s.push(function(a){a.register("tests.i18n.unit",function(a){var c;c=I("{prop:1}",y,"nonsense",C);a.is({prop:1},c);a.is(void 0,c[1]);c=I("({prop:1})",y,"nonsense",C);a.is({prop:1},c);a.is(void 0,c[1]);c=I("{'prop-x':1}",
y,"nonsense",C);a.is({"prop-x":1},c);a.is(void 0,c[1]);c=I("({'prop-x':1})",y,"nonsense",C);a.is({"prop-x":1},c);a.is(void 0,c[1]);c=I("define({'prop-x':1})",y,"nonsense",C);a.is(C,c);a.is({"prop-x":1},C.result);c=I("define('some/module', {'prop-x':1})",y,"nonsense",C);a.is(C,c);a.is({"prop-x":1},C.result);c=I("this is total nonsense and should throw an error",y,"nonsense",C);a.is(c instanceof Error,!0)})});return q.mixin(a,{dynamic:!0,normalize:function(a,c){return/^\./.test(a)?c(a):a},load:u,cache:c,
getL10nName:r})})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(b,l,e){function p(b){setTimeout(function(){q.apply(n,b)},0)}var n=new e,q=n.emit;n.emit=null;l.prototype.trace=function(){var e=b._toArray(arguments);this.then(function(b){p(["resolved",b].concat(e))},function(b){p(["rejected",b].concat(e))},function(b){p(["progress",b].concat(e))});return this};l.prototype.traceRejected=function(){var e=b._toArray(arguments);this.otherwise(function(b){p(["rejected",
b].concat(e))});return this};return n})},"dojo/errors/RequestError":function(){define(["./create"],function(b){return b("RequestError",function(b,e){this.response=e})})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(b,l,e,p,n,q,m,k){b.byId=l.byId;b.isDescendant=l.isDescendant;b.setSelectable=l.setSelectable;b.getAttr=p.get;b.setAttr=p.set;b.hasAttr=p.has;b.removeAttr=p.remove;b.getNodeProp=
p.getNodeProp;b.attr=function(b,a,f){return 2==arguments.length?p["string"==typeof a?"get":"set"](b,a):p.set(b,a,f)};b.hasClass=q.contains;b.addClass=q.add;b.removeClass=q.remove;b.toggleClass=q.toggle;b.replaceClass=q.replace;b._toDom=b.toDom=m.toDom;b.place=m.place;b.create=m.create;b.empty=function(b){m.empty(b)};b._destroyElement=b.destroy=function(b){m.destroy(b)};b._getPadExtents=b.getPadExtents=k.getPadExtents;b._getBorderExtents=b.getBorderExtents=k.getBorderExtents;b._getPadBorderExtents=
b.getPadBorderExtents=k.getPadBorderExtents;b._getMarginExtents=b.getMarginExtents=k.getMarginExtents;b._getMarginSize=b.getMarginSize=k.getMarginSize;b._getMarginBox=b.getMarginBox=k.getMarginBox;b.setMarginBox=k.setMarginBox;b._getContentBox=b.getContentBox=k.getContentBox;b.setContentSize=k.setContentSize;b._isBodyLtr=b.isBodyLtr=k.isBodyLtr;b._docScroll=b.docScroll=k.docScroll;b._getIeDocumentElementOffset=b.getIeDocumentElementOffset=k.getIeDocumentElementOffset;b._fixIeBiDiScrollLeft=b.fixIeBiDiScrollLeft=
k.fixIeBiDiScrollLeft;b.position=k.position;b.marginBox=function(b,a){return a?k.setMarginBox(b,a):k.getMarginBox(b)};b.contentBox=function(b,a){return a?k.setContentSize(b,a):k.getContentBox(b)};b.coords=function(h,a){b.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");h=l.byId(h);var f=e.getComputedStyle(h),f=k.getMarginBox(h,f),d=k.position(h,a);f.x=d.x;f.y=d.y;return f};b.getProp=n.get;b.setProp=n.set;b.prop=function(b,a,f){return 2==arguments.length?n["string"==typeof a?
"get":"set"](b,a):n.set(b,a,f)};b.getStyle=e.get;b.setStyle=e.set;b.getComputedStyle=e.getComputedStyle;b.__toPixelValue=b.toPixelValue=e.toPixelValue;b.style=function(b,a,f){switch(arguments.length){case 1:return e.get(b);case 2:return e["string"==typeof a?"get":"set"](b,a)}return e.set(b,a,f)};return b})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(b,l,e,p){var n,q;n=function(){return this}();var m={},k={},h={config:l,global:n,dijit:m,dojox:k},m={dojo:["dojo",
h],dijit:["dijit",m],dojox:["dojox",k]};p=e.map&&e.map[p.id.match(/[^\/]+/)[0]];for(q in p)m[q]?m[q][0]=p[q]:m[q]=[p[q],{}];for(q in m)p=m[q],p[1]._scopeName=p[0],l.noGlobals||(n[p[0]]=p[1]);h.scopeMap=m;h.baseUrl=h.config.baseUrl=e.baseUrl;h.isAsync=e.async;h.locale=l.locale;n="$Rev: e124479 $".match(/[0-9a-f]{7,}/);h.version={major:1,minor:10,patch:0,flag:"",revision:n?n[0]:NaN,toString:function(){var a=h.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(h);
h.exit=function(){};"undefined"!=typeof console||(console={});p="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var a;for(n=0;a=p[n++];)console[a]||function(){var b=a+"";console[b]="log"in console?function(){var a=Array.prototype.slice.call(arguments);a.unshift(b+":");console.log(a.join(" "))}:function(){};console[b]._fake=!0}();b.add("dojo-debug-messages",!!l.isDebug);h.deprecated=h.experimental=function(){};b("dojo-debug-messages")&&
(h.deprecated=function(a,b,c){a="DEPRECATED: "+a;b&&(a+=" "+b);c&&(a+=" -- will be removed in version: "+c);console.warn(a)},h.experimental=function(a,b){var c="EXPERIMENTAL: "+a+" -- APIs subject to change without notice.";b&&(c+=" "+b);console.warn(c)});if(l.modulePaths){h.deprecated("dojo.modulePaths","use paths configuration");b={};for(q in l.modulePaths)b[q.replace(/\./g,"/")]=l.modulePaths[q];e({paths:b})}h.moduleUrl=function(a,b){h.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var c=
null;a&&(c=e.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")+"/*.*").replace(/\/\*\.\*/,"")+(b?"":"/"));return c};h._hasResource={};return h})},"dojo/io-query":function(){define(["./_base/lang"],function(b){var l={};return{objectToQuery:function(e){var p=encodeURIComponent,n=[],q;for(q in e){var m=e[q];if(m!=l[q]){var k=p(q)+"\x3d";if(b.isArray(m))for(var h=0,a=m.length;h<a;++h)n.push(k+p(m[h]));else n.push(k+p(m))}}return n.join("\x26")},queryToObject:function(e){var l=decodeURIComponent;e=e.split("\x26");
for(var n={},q,m,k=0,h=e.length;k<h;++k)if(m=e[k],m.length){var a=m.indexOf("\x3d");0>a?(q=l(m),m=""):(q=l(m.slice(0,a)),m=l(m.slice(a+1)));"string"==typeof n[q]&&(n[q]=[n[q]]);b.isArray(n[q])?n[q].push(m):n[q]=m}return n}}})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(b,l,e,p,n,q,m){var k=function(){},h=Object.freeze||function(){},a=b.Deferred=function(b){function d(a){if(r)throw Error("This deferred has already been resolved");
g=a;r=!0;c()}function c(){for(var a;!a&&x;){var c=x;x=x.next;if(a=c.progress==k)r=!1;var b=u?c.error:c.resolved;n("config-useDeferredInstrumentation")&&u&&l.instrumentRejected&&l.instrumentRejected(g,!!b);if(b)try{var d=b(g);d&&"function"===typeof d.then?d.then(q.hitch(c.deferred,"resolve"),q.hitch(c.deferred,"reject"),q.hitch(c.deferred,"progress")):(b=a&&void 0===d,a&&!b&&(u=d instanceof Error),c.deferred[b&&u?"reject":"resolve"](b?g:d))}catch(f){c.deferred.reject(f)}else u?c.deferred.reject(g):
c.deferred.resolve(g)}}var g,r,t,m,u,s,x,A=this.promise=new e;this.isResolved=A.isResolved=function(){return 0==m};this.isRejected=A.isRejected=function(){return 1==m};this.isFulfilled=A.isFulfilled=function(){return 0<=m};this.isCanceled=A.isCanceled=function(){return t};this.resolve=this.callback=function(a){this.fired=m=0;this.results=[a,null];d(a)};this.reject=this.errback=function(a){u=!0;this.fired=m=1;n("config-useDeferredInstrumentation")&&l.instrumentRejected&&l.instrumentRejected(a,!!x);
d(a);this.results=[null,a]};this.progress=function(a){for(var c=x;c;){var b=c.progress;b&&b(a);c=c.next}};this.addCallbacks=function(a,c){this.then(a,c,k);return this};A.then=this.then=function(b,d,f){var g=f==k?this:new a(A.cancel);b={resolved:b,error:d,progress:f,deferred:g};x?s=s.next=b:x=s=b;r&&c();return g.promise};var w=this;A.cancel=this.cancel=function(){if(!r){var a=b&&b(w);r||(a instanceof Error||(a=new p(a)),a.log=!1,w.reject(a))}t=!0};h(A)};q.extend(a,{addCallback:function(a){return this.addCallbacks(q.hitch.apply(b,
arguments))},addErrback:function(a){return this.addCallbacks(null,q.hitch.apply(b,arguments))},addBoth:function(a){var d=q.hitch.apply(b,arguments);return this.addCallbacks(d,d)},fired:-1});a.when=b.when=m;return a})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(b,l,e,p,n,q,m,k,h){function a(a){return function(c,b,d){return 2==arguments.length?a["string"==typeof b?"get":
"set"](c,b):a.set(c,b,d)}}var f=function(a){return 1==a.length&&"string"==typeof a[0]},d=function(a){var c=a.parentNode;c&&c.removeChild(a)},c=l.NodeList,g=c._adaptWithCondition,r=c._adaptAsForEach,t=c._adaptAsMap;p.extend(c,{_normalize:function(a,c){var d=!0===a.parse;if("string"==typeof a.template){var f=a.templateFunc||b.string&&b.string.substitute;a=f?f(a.template,a):a}f=typeof a;"string"==f||"number"==f?(a=q.toDom(a,c&&c.ownerDocument),a=11==a.nodeType?p._toArray(a.childNodes):[a]):p.isArrayLike(a)?
p.isArray(a)||(a=p._toArray(a)):a=[a];d&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,c,d,f){if(!(1!=c.nodeType&&"only"==d))for(var g,h=a.length,r=h-1;0<=r;r--){var e=f?this._cloneNode(a[r]):a[r];if(a._runParse&&b.parser&&b.parser.parse){g||(g=c.ownerDocument.createElement("div"));g.appendChild(e);b.parser.parse(g);for(e=g.firstChild;g.firstChild;)g.removeChild(g.firstChild)}r==h-1?q.place(e,c,d):c.parentNode.insertBefore(e,c);c=e}},position:t(m.position),
attr:g(a(k),f),style:g(a(h),f),addClass:r(n.add),removeClass:r(n.remove),toggleClass:r(n.toggle),replaceClass:r(n.replace),empty:r(q.empty),removeAttr:r(k.remove),marginBox:t(m.getMarginBox),place:function(a,c){var b=l(a)[0];return this.forEach(function(a){q.place(a,b,c)})},orphan:function(a){return(a?l._filterResult(this,a):this).forEach(d)},adopt:function(a,c){return l(a).place(this[0],c)._stash(this)},query:function(a){if(!a)return this;var b=new c;this.map(function(c){l(a,c).forEach(function(a){void 0!==
a&&b.push(a)})});return b._stash(this)},filter:function(a){var c=arguments,b=this,d=0;if("string"==typeof a){b=l._filterResult(this,c[0]);if(1==c.length)return b._stash(this);d=1}return this._wrap(e.filter(b,c[d],c[d+1]),this)},addContent:function(a,c){a=this._normalize(a,this[0]);for(var b=0,d;d=this[b];b++)a.length?this._place(a,d,c,0<b):q.empty(d);return this}});return c})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),
function(b,l,e,p,n,q,m,k){function h(a,c){var b=function(b,d){if("string"==typeof d&&(d=e.byId(d),!d))return new c([]);var f="string"==typeof b?a(b,d):b?b.end&&b.on?b:[b]:[];return f.end&&f.on?f:new c(f)};b.matches=a.match||function(a,c,d){return 0<b.filter([a],c,d).length};b.filter=a.filter||function(a,c,d){return b(c,d).filter(function(c){return-1<n.indexOf(a,c)})};if("function"!=typeof a){var d=a.search;a=function(a,c){return d(c||document,a)}}return b}l.add("array-extensible",function(){return 1==
q.delegate([],{length:1}).length&&!l("bug-for-in-skips-shadowed")});var a=Array.prototype,f=a.slice,d=a.concat,c=n.forEach,g=function(a,c,d){c=[0].concat(f.call(c,0));d=d||b.global;return function(b){c[0]=b;return a.apply(d,c)}},r=function(a){var c=this instanceof t&&l("array-extensible");"number"==typeof a&&(a=Array(a));var b=a&&"length"in a?a:arguments;if(c||!b.sort){for(var d=c?this:[],f=d.length=b.length,g=0;g<f;g++)d[g]=b[g];if(c)return d;b=d}q._mixin(b,v);b._NodeListCtor=function(a){return t(a)};
return b},t=r,v=t.prototype=l("array-extensible")?[]:{};t._wrap=v._wrap=function(a,c,b){a=new (b||this._NodeListCtor||t)(a);return c?a._stash(c):a};t._adaptAsMap=function(a,c){return function(){return this.map(g(a,arguments,c))}};t._adaptAsForEach=function(a,c){return function(){this.forEach(g(a,arguments,c));return this}};t._adaptAsFilter=function(a,c){return function(){return this.filter(g(a,arguments,c))}};t._adaptWithCondition=function(a,c,d){return function(){var f=arguments,h=g(a,f,d);if(c.call(d||
b.global,f))return this.map(h);this.forEach(h);return this}};c(["slice","splice"],function(c){var b=a[c];v[c]=function(){return this._wrap(b.apply(this,arguments),"slice"==c?this:null)}});c(["indexOf","lastIndexOf","every","some"],function(a){var c=n[a];v[a]=function(){return c.apply(b,[this].concat(f.call(arguments,0)))}});q.extend(r,{constructor:t,_NodeListCtor:t,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,c){var b=this.map(function(b){return p(b,
a,c)});b.remove=function(){for(var a=0;a<b.length;a++)b[a].remove()};return b},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var c=f.call(this,0),b=n.map(arguments,function(a){return f.call(a,0)});return this._wrap(d.apply(c,b),this)},map:function(a,c){return this._wrap(n.map(this,a,c),this)},forEach:function(a,b){c(this,a,b);return this},filter:function(a){var c=arguments,b=this,d=0;if("string"==typeof a){b=u._filterResult(this,c[0]);if(1==c.length)return b._stash(this);
d=1}return this._wrap(n.filter(b,c[d],c[d+1]),this)},instantiate:function(a,c){var b=q.isFunction(a)?a:q.getObject(a);c=c||{};return this.forEach(function(a){new b(c,a)})},at:function(){var a=new this._NodeListCtor(0);c(arguments,function(c){0>c&&(c=this.length+c);this[c]&&a.push(this[c])},this);return a._stash(this)}});var u=h(k,r);b.query=h(k,function(a){return r(a)});u.load=function(a,c,b){m.load(a,c,function(a){b(h(a,r))})};b._filterQueryResult=u._filterResult=function(a,c,b){return new r(u.filter(a,
c,b))};b.NodeList=u.NodeList=r;return u})},"dojo/has":function(){define(["require","module"],function(b,l){var e=b.has||function(){};if(!e("dojo-has-api")){var p="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document,n=function(){return this}(),q=p&&document,m=q&&q.createElement("DiV"),k=l.config&&l.config()||{},e=function(b){return"function"==typeof k[b]?k[b]=k[b](n,q,m):k[b]};e.cache=k;e.add=function(b,a,f,d){("undefined"==
typeof k[b]||d)&&(k[b]=a);return f&&e(b)}}e.add("dom-addeventlistener",!!document.addEventListener);e.add("touch","ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints);e.add("touch-events","ontouchstart"in document);e.add("pointer-events","onpointerdown"in document);e.add("MSPointer","msMaxTouchPoints"in navigator);e.add("device-width",screen.availWidth||innerWidth);p=document.createElement("form");e.add("dom-attributes-explicit",0==
p.attributes.length);e.add("dom-attributes-specified-flag",0<p.attributes.length&&40>p.attributes.length);e.clearElement=function(b){b.innerHTML="";return b};e.normalize=function(b,a){var f=b.match(/[\?:]|[^:\?]*/g),d=0,c=function(a){var b=f[d++];if(":"==b)return 0;if("?"==f[d++]){if(!a&&e(b))return c();c(!0);return c(a)}return b||0};return(b=c())&&a(b)};e.load=function(b,a,f){b?a([b],f):f()};return e})},"dojo/_base/loader":function(){define("./kernel ../has require module ../json ./lang ./array".split(" "),
function(b,l,e,p,n,q,m){var k=function(a){return a.replace(/\./g,"/")},h=/\/\/>>built/,a=[],f=[],d=function(b,d,g){a.push(g);m.forEach(b.split(","),function(a){a=K(a,d.module);f.push(a);S(a)});c()},c=function(){var c,b;for(b in O)if(c=O[b],void 0===c.noReqPluginCheck&&(c.noReqPluginCheck=/loadInit\!/.test(b)||/require\!/.test(b)?1:0),!c.executed&&!c.noReqPluginCheck&&c.injected==A)return;N(function(){var c=a;a=[];m.forEach(c,function(a){a(1)})})},g=function(a,c,d){var f=/\(|\)/g,g=1;for(f.lastIndex=
c;(c=f.exec(a))&&!(g=")"==c[0]?g-1:g+1,0==g););if(0!=g)throw"unmatched paren around character "+f.lastIndex+" in: "+a;return[b.trim(a.substring(d,f.lastIndex))+";\n",f.lastIndex]},r=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,t=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,v=/(^|\s)(require|define)\s*\(/m,u=function(a,c){var b,d,f,h=[],e=[];b=[];for(c=c||a.replace(r,function(a){t.lastIndex=v.lastIndex=0;return t.test(a)||v.test(a)?"":a});b=t.exec(c);)d=
t.lastIndex,f=d-b[0].length,d=g(c,d,f),"loadInit"==b[2]?h.push(d[0]):e.push(d[0]),t.lastIndex=d[1];b=h.concat(e);return b.length||!v.test(c)?[a.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 \x26\x26 dojo.loadInit("),b.join(""),b]:0},s=e.initSyncLoader(d,c,function(a,c){var b,d,f=[],g=[];if(h.test(c)||!(b=u(c)))return 0;d=a.mid+"-*loadInit";for(var e in K("dojo",a).result.scopeMap)f.push(e),g.push('"'+e+'"');return"// xdomain rewrite of "+a.mid+"\ndefine('"+d+"',{\n\tnames:"+n.stringify(f)+",\n\tdef:function("+
f.join(",")+"){"+b[1]+"}});\n\ndefine("+n.stringify(f.concat(["dojo/loadInit!"+d]))+", function("+f.join(",")+"){\n"+b[0]+"});"}),x=s.sync,A=s.requested,w=s.arrived,F=s.nonmodule,y=s.executing,C=s.executed,I=s.syncExecStack,O=s.modules,P=s.execQ,K=s.getModule,S=s.injectModule,B=s.setArrived,G=s.signal,M=s.finishExec,E=s.execModule,D=s.getLegacyMode,N=s.guardCheckComplete,d=s.dojoRequirePlugin;b.provide=function(a){var c=I[0],b=q.mixin(K(k(a),e.module),{executed:y,result:q.getObject(a,!0)});B(b);c&&
(c.provides||(c.provides=[])).push(function(){b.result=q.getObject(a);delete b.provides;b.executed!==C&&M(b)});return b.result};l.add("config-publishRequireResult",1,0,0);b.require=function(a,c){var b=function(a,c){var b=K(k(a),e.module);if(I.length&&I[0].finish)I[0].finish.push(a);else{if(b.executed)return b.result;c&&(b.result=F);var d=D();S(b);d=D();b.executed!==C&&b.injected===w&&s.guardCheckComplete(function(){E(b)});if(b.executed)return b.result;d==x?b.cjs?P.unshift(b):I.length&&(I[0].finish=
[a]):P.push(b)}}(a,c);l("config-publishRequireResult")&&(!q.exists(a)&&void 0!==b)&&q.setObject(a,b);return b};b.loadInit=function(a){a()};b.registerModulePath=function(a,c){var b={};b[a.replace(/\./g,"/")]=c;e({paths:b})};b.platformRequire=function(a){a=(a.common||[]).concat(a[b._name]||a["default"]||[]);for(var c;a.length;)q.isArray(c=a.shift())?b.require.apply(b,c):b.require(c)};b.requireIf=b.requireAfterIf=function(a,c,d){a&&b.require(c,d)};b.requireLocalization=function(a,c,b){e(["../i18n"],
function(d){d.getLocalization(a,c,b)})};return{extractLegacyApiApplications:u,require:d,loadInit:function(a,c,f){c([a],function(a){c(a.names,function(){for(var g="",h=[],e=0;e<arguments.length;e++)g+="var "+a.names[e]+"\x3d arguments["+e+"]; ",h.push(arguments[e]);eval(g);var r=c.module,q=[],t,g={provide:function(a){a=k(a);a=K(a,r);a!==r&&B(a)},require:function(a,c){a=k(a);c&&(K(a,r).result=F);q.push(a)},requireLocalization:function(a,c,d){t||(t=["dojo/i18n"]);d=(d||b.locale).toLowerCase();a=k(a)+
"/nls/"+(/root/i.test(d)?"":d+"/")+k(c);K(a,r).isXd&&t.push("dojo/i18n!"+a)},loadInit:function(a){a()}},e={},n;try{for(n in g)e[n]=b[n],b[n]=g[n];a.def.apply(null,h)}catch(m){G("error",[{src:p.id,id:"failedDojoLoadInit"},m])}finally{for(n in g)b[n]=e[n]}t&&(q=q.concat(t));q.length?d(q.join(","),c,f):f()})})}}})},"dojo/json":function(){define(["./has"],function(b){var l="undefined"!=typeof JSON;b.add("json-parse",l);b.add("json-stringify",l&&'{"a":1}'==JSON.stringify({a:0},function(b,e){return e||
1}));if(b("json-stringify"))return JSON;var e=function(b){return('"'+b.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:b("json-parse")?JSON.parse:function(b,e){if(e&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(b))throw new SyntaxError("Invalid characters in JSON");return eval("("+b+")")},stringify:function(b,n,q){function m(b,
a,f){n&&(b=n(f,b));var d;d=typeof b;if("number"==d)return isFinite(b)?b+"":"null";if("boolean"==d)return b+"";if(null===b)return"null";if("string"==typeof b)return e(b);if("function"==d||"undefined"==d)return k;if("function"==typeof b.toJSON)return m(b.toJSON(f),a,f);if(b instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,c,d){a=b["getUTC"+c]()+(d?1:0);return 10>a?"0"+a:a});if(b.valueOf()!==b)return m(b.valueOf(),a,f);var c=q?a+q:
"",g=q?" ":"",r=q?"\n":"";if(b instanceof Array){var g=b.length,t=[];for(f=0;f<g;f++)d=m(b[f],c,f),"string"!=typeof d&&(d="null"),t.push(r+c+d);return"["+t.join(",")+r+a+"]"}t=[];for(f in b){var l;if(b.hasOwnProperty(f)){if("number"==typeof f)l='"'+f+'"';else if("string"==typeof f)l=e(f);else continue;d=m(b[f],c,f);"string"==typeof d&&t.push(r+c+l+":"+g+d)}}return"{"+t.join(",")+r+a+"}"}var k;"string"==typeof n&&(q=n,n=null);return m(b,"","")}}})},"dojo/_base/declare":function(){define(["./kernel",
"../has","./lang"],function(b,l,e){function p(a,c){throw Error("declare"+(c?" "+c:"")+": "+a);}function n(a,c,b){var d,f,g,e,h,r,k,q=this._inherited=this._inherited||{};"string"==typeof a&&(d=a,a=c,c=b);b=0;e=a.callee;(d=d||e.nom)||p("can't deduce a name to call inherited()",this.declaredClass);h=this.constructor._meta;g=h.bases;k=q.p;if(d!=y){if(q.c!==e&&(k=0,r=g[0],h=r._meta,h.hidden[d]!==e)){(f=h.chains)&&"string"==typeof f[d]&&p("calling chained method with inherited: "+d,this.declaredClass);
do if(h=r._meta,f=r.prototype,h&&(f[d]===e&&f.hasOwnProperty(d)||h.hidden[d]===e))break;while(r=g[++k]);k=r?k:-1}if(r=g[++k])if(f=r.prototype,r._meta&&f.hasOwnProperty(d))b=f[d];else{e=x[d];do if(f=r.prototype,(b=f[d])&&(r._meta?f.hasOwnProperty(d):b!==e))break;while(r=g[++k])}b=r&&b||x[d]}else{if(q.c!==e&&(k=0,(h=g[0]._meta)&&h.ctor!==e)){f=h.chains;for((!f||"manual"!==f.constructor)&&p("calling chained constructor with inherited",this.declaredClass);(r=g[++k])&&!((h=r._meta)&&h.ctor===e););k=r?
k:-1}for(;(r=g[++k])&&!(b=(h=r._meta)?h.ctor:r););b=r&&b}q.c=b;q.p=k;if(b)return!0===c?b:b.apply(this,c||a)}function q(a,c){return"string"==typeof a?this.__inherited(a,c,!0):this.__inherited(a,!0)}function m(a,c,b){var d=this.getInherited(a,c);if(d)return d.apply(this,b||c||a)}function k(a){for(var c=this.constructor._meta.bases,b=0,d=c.length;b<d;++b)if(c[b]===a)return!0;return this instanceof a}function h(a,c){for(var b in c)b!=y&&c.hasOwnProperty(b)&&(a[b]=c[b]);if(l("bug-for-in-skips-shadowed"))for(var d=
e._extraNames,f=d.length;f;)b=d[--f],b!=y&&c.hasOwnProperty(b)&&(a[b]=c[b])}function a(a){u.safeMixin(this.prototype,a);return this}function f(a,c){a instanceof Array||"function"==typeof a||(c=a,a=void 0);c=c||{};a=a||[];return u([this].concat(a),c)}function d(a,c){return function(){var b=arguments,d=b,f=b[0],g,e;e=a.length;var r;if(!(this instanceof b.callee))return v(b);if(c&&(f&&f.preamble||this.preamble)){r=Array(a.length);r[0]=b;for(g=0;;){if(f=b[0])(f=f.preamble)&&(b=f.apply(this,b)||b);f=a[g].prototype;
(f=f.hasOwnProperty("preamble")&&f.preamble)&&(b=f.apply(this,b)||b);if(++g==e)break;r[g]=b}}for(g=e-1;0<=g;--g)f=a[g],(f=(e=f._meta)?e.ctor:f)&&f.apply(this,r?r[g]:b);(f=this.postscript)&&f.apply(this,d)}}function c(a,c){return function(){var b=arguments,d=b,f=b[0];if(!(this instanceof b.callee))return v(b);c&&(f&&(f=f.preamble)&&(d=f.apply(this,d)||d),(f=this.preamble)&&f.apply(this,d));a&&a.apply(this,b);(f=this.postscript)&&f.apply(this,b)}}function g(a){return function(){var c=arguments,b=0,
d,f;if(!(this instanceof c.callee))return v(c);for(;d=a[b];++b)if(d=(f=d._meta)?f.ctor:d){d.apply(this,c);break}(d=this.postscript)&&d.apply(this,c)}}function r(a,c,b){return function(){var d,f,g=0,e=1;b&&(g=c.length-1,e=-1);for(;d=c[g];g+=e)f=d._meta,(d=(f?f.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function t(a){w.prototype=a.prototype;a=new w;w.prototype=null;return a}function v(a){var c=a.callee,b=t(c);c.apply(b,a);return b}function u(b,m,l){"string"!=typeof b&&(l=m,m=b,b="");l=l||{};
var v,w,B,G,M,E,D,N=1,da=m;if("[object Array]"==A.call(m)){N=b;B=[];G=[{cls:0,refs:[]}];E={};for(var Y=1,$=m.length,L=0,J,T,z,H;L<$;++L){(J=m[L])?"[object Function]"!=A.call(J)&&p("mixin #"+L+" is not a callable constructor.",N):p("mixin #"+L+" is unknown. Did you use dojo.require to pull it in?",N);T=J._meta?J._meta.bases:[J];z=0;for(J=T.length-1;0<=J;--J)H=T[J].prototype,H.hasOwnProperty("declaredClass")||(H.declaredClass="uniqName_"+F++),H=H.declaredClass,E.hasOwnProperty(H)||(E[H]={count:0,refs:[],
cls:T[J]},++Y),H=E[H],z&&z!==H&&(H.refs.push(z),++z.count),z=H;++z.count;G[0].refs.push(z)}for(;G.length;){z=G.pop();B.push(z.cls);for(--Y;w=z.refs,1==w.length;){z=w[0];if(!z||--z.count){z=0;break}B.push(z.cls);--Y}if(z){L=0;for($=w.length;L<$;++L)z=w[L],--z.count||G.push(z)}}Y&&p("can't build consistent linearization",N);J=m[0];B[0]=J?J._meta&&J===B[B.length-J._meta.bases.length]?J._meta.bases.length:1:0;E=B;B=E[0];N=E.length-B;m=E[N]}else E=[0],m?"[object Function]"==A.call(m)?(B=m._meta,E=E.concat(B?
B.bases:m)):p("base class is not a callable constructor.",b):null!==m&&p("unknown base class. Did you use dojo.require to pull it in?",b);if(m)for(w=N-1;;--w){v=t(m);if(!w)break;B=E[w];(B._meta?h:s)(v,B.prototype);G=new Function;G.superclass=m;G.prototype=v;m=v.constructor=G}else v={};u.safeMixin(v,l);B=l.constructor;B!==x.constructor&&(B.nom=y,v.constructor=B);for(w=N-1;w;--w)(B=E[w]._meta)&&B.chains&&(D=s(D||{},B.chains));v["-chains-"]&&(D=s(D||{},v["-chains-"]));B=!D||!D.hasOwnProperty(y);E[0]=
G=D&&"manual"===D.constructor?g(E):1==E.length?c(l.constructor,B):d(E,B);G._meta={bases:E,hidden:l,chains:D,parents:da,ctor:l.constructor};G.superclass=m&&m.prototype;G.extend=a;G.createSubclass=f;G.prototype=v;v.constructor=G;v.getInherited=q;v.isInstanceOf=k;v.inherited=C;v.__inherited=n;b&&(v.declaredClass=b,e.setObject(b,G));if(D)for(M in D)v[M]&&("string"==typeof D[M]&&M!=y)&&(B=v[M]=r(M,E,"after"===D[M]),B.nom=M);return G}var s=e.mixin,x=Object.prototype,A=x.toString,w=new Function,F=0,y="constructor",
C=b.config.isDebug?m:n;b.safeMixin=u.safeMixin=function(a,c){var b,d;for(b in c)if(d=c[b],(d!==x[b]||!(b in x))&&b!=y)"[object Function]"==A.call(d)&&(d.nom=b),a[b]=d;if(l("bug-for-in-skips-shadowed"))for(var f=e._extraNames,g=f.length;g;)if(b=f[--g],d=c[b],(d!==x[b]||!(b in x))&&b!=y)"[object Function]"==A.call(d)&&(d.nom=b),a[b]=d;return a};return b.declare=u})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(b,l){if(7>=b("ie"))try{document.execCommand("BackgroundImageCache",
!1,!0)}catch(e){}var p={};b("ie")?p.byId=function(b,e){if("string"!=typeof b)return b;var k=e||l.doc,h=b&&k.getElementById(b);if(h&&(h.attributes.id.value==b||h.id==b))return h;k=k.all[b];if(!k||k.nodeName)k=[k];for(var a=0;h=k[a++];)if(h.attributes&&h.attributes.id&&h.attributes.id.value==b||h.id==b)return h}:p.byId=function(b,e){return("string"==typeof b?(e||l.doc).getElementById(b):b)||null};p.isDescendant=function(b,e){try{b=p.byId(b);for(e=p.byId(e);b;){if(b==e)return!0;b=b.parentNode}}catch(k){}return!1};
b.add("css-user-select",function(b,e,k){if(!k)return!1;b=k.style;e=["Khtml","O","Moz","Webkit"];k=e.length;var h="userSelect";do if("undefined"!==typeof b[h])return h;while(k--&&(h=e[k]+"UserSelect"));return!1});var n=b("css-user-select");p.setSelectable=n?function(b,e){p.byId(b).style[n]=e?"":"none"}:function(b,e){b=p.byId(b);var k=b.getElementsByTagName("*"),h=k.length;if(e)for(b.removeAttribute("unselectable");h--;)k[h].removeAttribute("unselectable");else for(b.setAttribute("unselectable","on");h--;)k[h].setAttribute("unselectable",
"on")};return p})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(b){return b})},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(b,l,e,p,n){var q=p.trim,m=e.forEach,k="BackCompat"==n.doc.compatMode,h=!1,a=function(){return!0},f=function(a){a=0<="\x3e~+".indexOf(a.slice(-1))?
a+" * ":a+" ";for(var c=function(c,b){return q(a.slice(c,b))},b=[],d=-1,f=-1,g=-1,e=-1,r=-1,k=-1,t=-1,n,l="",m="",p,u=0,y=a.length,s=null,v=null,x=function(){0<=k&&(s.id=c(k,u).replace(/\\/g,""),k=-1);if(0<=t){var a=t==u?null:c(t,u);s[0>"\x3e~+".indexOf(a)?"tag":"oper"]=a;t=-1}0<=r&&(s.classes.push(c(r+1,u).replace(/\\/g,"")),r=-1)};l=m,m=a.charAt(u),u<y;u++)if("\\"!=l)if(s||(p=u,s={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return h?this.otag:this.tag}},
t=u),n)m==n&&(n=null);else if("'"==m||'"'==m)n=m;else if(0<=d)if("]"==m){v.attr?v.matchFor=c(g||d+1,u):v.attr=c(d+1,u);if((d=v.matchFor)&&('"'==d.charAt(0)||"'"==d.charAt(0)))v.matchFor=d.slice(1,-1);v.matchFor&&(v.matchFor=v.matchFor.replace(/\\/g,""));s.attrs.push(v);v=null;d=g=-1}else"\x3d"==m&&(g=0<="|~^$*".indexOf(l)?l:"",v.type=g+m,v.attr=c(d+1,u-g.length),g=u+1);else 0<=f?")"==m&&(0<=e&&(v.value=c(f+1,u)),e=f=-1):"#"==m?(x(),k=u+1):"."==m?(x(),r=u):":"==m?(x(),e=u):"["==m?(x(),d=u,v={}):"("==
m?(0<=e&&(v={name:c(e+1,u),value:null},s.pseudos.push(v)),f=u):" "==m&&l!=m&&(x(),0<=e&&s.pseudos.push({name:c(e+1,u)}),s.loops=s.pseudos.length||s.attrs.length||s.classes.length,s.oquery=s.query=c(p,u),s.otag=s.tag=s.oper?null:s.tag||"*",s.tag&&(s.tag=s.tag.toUpperCase()),b.length&&b[b.length-1].oper&&(s.infixOper=b.pop(),s.query=s.infixOper.query+" "+s.query),b.push(s),s=null);return b},d=function(a,c){return!a?c:!c?a:function(){return a.apply(window,arguments)&&c.apply(window,arguments)}},c=function(a,
c){var b=c||[];a&&b.push(a);return b},g=function(a){return 1==a.nodeType},r=function(a,c){return!a?"":"class"==c?a.className||"":"for"==c?a.htmlFor||"":"style"==c?a.style.cssText||"":(h?a.getAttribute(c):a.getAttribute(c,2))||""},t={"*\x3d":function(a,c){return function(b){return 0<=r(b,a).indexOf(c)}},"^\x3d":function(a,c){return function(b){return 0==r(b,a).indexOf(c)}},"$\x3d":function(a,c){return function(b){b=" "+r(b,a);var d=b.lastIndexOf(c);return-1<d&&d==b.length-c.length}},"~\x3d":function(a,
c){var b=" "+c+" ";return function(c){return 0<=(" "+r(c,a)+" ").indexOf(b)}},"|\x3d":function(a,c){var b=c+"-";return function(d){d=r(d,a);return d==c||0==d.indexOf(b)}},"\x3d":function(a,c){return function(b){return r(b,a)==c}}},v="undefined"==typeof n.doc.firstChild.nextElementSibling,u=!v?"nextElementSibling":"nextSibling",s=!v?"previousElementSibling":"previousSibling",x=v?g:a,A=function(a){for(;a=a[s];)if(x(a))return!1;return!0},w=function(a){for(;a=a[u];)if(x(a))return!1;return!0},F=function(a){var c=
a.parentNode,c=7!=c.nodeType?c:c.nextSibling,b=0,d=c.children||c.childNodes,f=a._i||a.getAttribute("_i")||-1,g=c._l||("undefined"!==typeof c.getAttribute?c.getAttribute("_l"):-1);if(!d)return-1;d=d.length;if(g==d&&0<=f&&0<=g)return f;l("ie")&&"undefined"!==typeof c.setAttribute?c.setAttribute("_l",d):c._l=d;f=-1;for(c=c.firstElementChild||c.firstChild;c;c=c[u])x(c)&&(l("ie")?c.setAttribute("_i",++b):c._i=++b,a===c&&(f=b));return f},y=function(a){return!(F(a)%2)},C=function(a){return F(a)%2},I={checked:function(a,
c){return function(a){return!!("checked"in a?a.checked:a.selected)}},disabled:function(a,c){return function(a){return a.disabled}},enabled:function(a,c){return function(a){return!a.disabled}},"first-child":function(){return A},"last-child":function(){return w},"only-child":function(a,c){return function(a){return A(a)&&w(a)}},empty:function(a,c){return function(a){var c=a.childNodes;for(a=a.childNodes.length-1;0<=a;a--){var b=c[a].nodeType;if(1===b||3==b)return!1}return!0}},contains:function(a,c){var b=
c.charAt(0);if('"'==b||"'"==b)c=c.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(c)}},not:function(a,c){var b=f(c)[0],d={el:1};"*"!=b.tag&&(d.tag=1);b.classes.length||(d.classes=1);var g=P(b,d);return function(a){return!g(a)}},"nth-child":function(a,c){var b=parseInt;if("odd"==c)return C;if("even"==c)return y;if(-1!=c.indexOf("n")){var d=c.split("n",2),f=d[0]?"-"==d[0]?-1:b(d[0]):1,g=d[1]?b(d[1]):0,e=0,r=-1;0<f?0>g?g=g%f&&f+g%f:0<g&&(g>=f&&(e=g-g%f),g%=f):0>f&&(f*=-1,0<g&&(r=g,g%=f));
if(0<f)return function(a){a=F(a);return a>=e&&(0>r||a<=r)&&a%f==g};c=g}var h=b(c);return function(a){return F(a)==h}}},O=9>l("ie")||9==l("ie")&&l("quirks")?function(a){var c=a.toLowerCase();"class"==c&&(a="className");return function(b){return h?b.getAttribute(a):b[a]||b[c]}}:function(a){return function(c){return c&&c.getAttribute&&c.hasAttribute(a)}},P=function(c,b){if(!c)return a;b=b||{};var f=null;"el"in b||(f=d(f,g));"tag"in b||"*"!=c.tag&&(f=d(f,function(a){return a&&(h?a.tagName:a.tagName.toUpperCase())==
c.getTag()}));"classes"in b||m(c.classes,function(a,c,b){var g=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");f=d(f,function(a){return g.test(a.className)});f.count=c});"pseudos"in b||m(c.pseudos,function(a){var c=a.name;I[c]&&(f=d(f,I[c](c,a.value)))});"attrs"in b||m(c.attrs,function(a){var c,b=a.attr;a.type&&t[a.type]?c=t[a.type](b,a.matchFor):b.length&&(c=O(b));c&&(f=d(f,c))});"id"in b||c.id&&(f=d(f,function(a){return!!a&&a.id==c.id}));f||"default"in b||(f=a);return f},K=function(a){return function(c,b,d){for(;c=
c[u];)if(!v||g(c)){(!d||U(c,d))&&a(c)&&b.push(c);break}return b}},S=function(a){return function(c,b,d){for(c=c[u];c;){if(x(c)){if(d&&!U(c,d))break;a(c)&&b.push(c)}c=c[u]}return b}},B=function(c){c=c||a;return function(a,b,d){for(var f=0,g=a.children||a.childNodes;a=g[f++];)x(a)&&((!d||U(a,d))&&c(a,f))&&b.push(a);return b}},G={},M=function(d){var f=G[d.query];if(f)return f;var g=d.infixOper,g=g?g.oper:"",e=P(d,{el:1}),r="*"==d.tag,h=n.doc.getElementsByClassName;if(g)h={el:1},r&&(h.tag=1),e=P(d,h),
"+"==g?f=K(e):"~"==g?f=S(e):"\x3e"==g&&(f=B(e));else if(d.id)e=!d.loops&&r?a:P(d,{el:1,id:1}),f=function(a,f){var g=b.byId(d.id,a.ownerDocument||a);if(g&&e(g)){if(9==a.nodeType)return c(g,f);for(var r=g.parentNode;r&&r!=a;)r=r.parentNode;if(r)return c(g,f)}};else if(h&&/\{\s*\[native code\]\s*\}/.test(String(h))&&d.classes.length&&!k)var e=P(d,{el:1,classes:1,id:1}),t=d.classes.join(" "),f=function(a,b,d){b=c(0,b);for(var f,g=0,r=a.getElementsByClassName(t);f=r[g++];)e(f,a)&&U(f,d)&&b.push(f);return b};
else!r&&!d.loops?f=function(a,b,f){b=c(0,b);for(var g=0,e=d.getTag(),e=e?a.getElementsByTagName(e):[];a=e[g++];)U(a,f)&&b.push(a);return b}:(e=P(d,{el:1,tag:1,id:1}),f=function(a,b,f){b=c(0,b);for(var g,r=0,h=(g=d.getTag())?a.getElementsByTagName(g):[];g=h[r++];)e(g,a)&&U(g,f)&&b.push(g);return b});return G[d.query]=f},E={},D={},N=function(a){var b=f(q(a));if(1==b.length){var d=M(b[0]);return function(a){if(a=d(a,[]))a.nozip=!0;return a}}return function(a){a=c(a);for(var d,f,g=b.length,e,r,h=0;h<
g;h++){r=[];d=b[h];f=a.length-1;0<f&&(e={},r.nozip=!0);f=M(d);for(var k=0;d=a[k];k++)f(d,r,e);if(!r.length)break;a=r}return r}},da=l("ie")?"commentStrip":"nozip",Y=!!n.doc.querySelectorAll,$=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,L=function(a,c,b,d){return b?(c?c+" ":"")+b+(d?" "+d:""):a},J=/([^[]*)([^\]]*])?/g,T=function(a,c,b){return c.replace($,L)+(b||"")},z=function(a,c){a=a.replace(J,T);if(Y){var b=D[a];if(b&&!c)return b}if(b=E[a])return b;var b=a.charAt(0),d=-1==a.indexOf(" ");0<=a.indexOf("#")&&
d&&(c=!0);if(Y&&!c&&-1=="\x3e~+".indexOf(b)&&(!l("ie")||-1==a.indexOf(":"))&&!(k&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf(":checked")&&-1==a.indexOf("|\x3d")){var f=0<="\x3e~+".indexOf(a.charAt(a.length-1))?a+" *":a;return D[a]=function(c){try{if(!(9==c.nodeType||d))throw"";var b=c.querySelectorAll(f);b[da]=!0;return b}catch(g){return z(a,!0)(c)}}}var g=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return E[a]=2>g.length?N(a):function(a){for(var c=0,b=[],d;d=
g[c++];)b=b.concat(N(d)(a));return b}},H=0,W=l("ie")?function(a){return h?a.getAttribute("_uid")||a.setAttribute("_uid",++H)||H:a.uniqueID}:function(a){return a._uid||(a._uid=++H)},U=function(a,c){if(!c)return 1;var b=W(a);return!c[b]?c[b]=1:0},ea=function(a){if(a&&a.nozip)return a;if(!a||!a.length)return[];if(2>a.length)return[a[0]];var c=[];H++;var b,d;if(l("ie")&&h){var f=H+"";for(b=0;b<a.length;b++)if((d=a[b])&&d.getAttribute("_zipIdx")!=f)c.push(d),d.setAttribute("_zipIdx",f)}else if(l("ie")&&
a.commentStrip)try{for(b=0;b<a.length;b++)(d=a[b])&&g(d)&&c.push(d)}catch(e){}else for(b=0;b<a.length;b++)if((d=a[b])&&d._zipIdx!=H)c.push(d),d._zipIdx=H;return c},X=function(a,c){c=c||n.doc;h="div"===(c.ownerDocument||c).createElement("div").tagName;var b=z(a)(c);return b&&b.nozip?b:ea(b)};X.filter=function(a,c,d){for(var g=[],r=f(c),r=1==r.length&&!/[^\w#\.]/.test(c)?P(r[0]):function(a){return-1!=e.indexOf(X(c,b.byId(d)),a)},h=0,k;k=a[h];h++)r(k)&&g.push(k);return g};return X})},"dojo/errors/RequestTimeoutError":function(){define(["./create",
"./RequestError"],function(b,l){return b("RequestTimeoutError",null,l,{dojoType:"timeout"})})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(b,l){function e(c,d,e){d=d.toLowerCase();if(b("ie")||b("trident")){if("auto"==e){if("height"==d)return c.offsetHeight;if("width"==d)return c.offsetWidth}if("fontweight"==d)switch(e){case 700:return"bold";default:return"normal"}}d in a||(a[d]=f.test(d));return a[d]?q(c,e):e}var p,n={};p=b("webkit")?function(a){var b;if(1==a.nodeType){var d=a.ownerDocument.defaultView;
b=d.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=d.getComputedStyle(a,null))}return b||{}}:b("ie")&&(9>b("ie")||b("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};n.getComputedStyle=p;var q;q=b("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var d=a.style,f=a.runtimeStyle,e=d.left,h=f.left;f.left=a.currentStyle.left;
try{d.left=b,b=d.pixelLeft}catch(k){b=0}d.left=e;f.left=h;return b}:function(a,b){return parseFloat(b)||0};n.toPixelValue=q;var m=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){return b?{}:null}},k=9>b("ie")||10>b("ie")&&b("quirks")?function(a){try{return m(a).Opacity/100}catch(b){return 1}}:function(a){return p(a).opacity},h=9>b("ie")||10>b("ie")&&b("quirks")?function(a,b){""===b&&(b=1);var d=100*b;1===b?(a.style.zoom="",m(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,
""))):(a.style.zoom=1,m(a)?m(a,1).Opacity=d:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+d+")",m(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(d=a.firstChild;d;d=d.nextSibling)"td"==d.tagName.toLowerCase()&&h(d,b);return b}:function(a,b){return a.style.opacity=b},a={left:!0,top:!0},f=/margin|padding|width|height|max|min|offset/,d={cssFloat:1,styleFloat:1,"float":1};n.get=function(a,b){var f=l.byId(a),h=arguments.length;if(2==h&&"opacity"==b)return k(f);b=d[b]?"cssFloat"in
f.style?"cssFloat":"styleFloat":b;var m=n.getComputedStyle(f);return 1==h?m:e(f,b,m[b]||f.style[b])};n.set=function(a,b,f){var e=l.byId(a),k=arguments.length,m="opacity"==b;b=d[b]?"cssFloat"in e.style?"cssFloat":"styleFloat":b;if(3==k)return m?h(e,f):e.style[b]=f;for(var q in b)n.set(a,q,b[q]);return n.getComputedStyle(e)};return n})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(b,l,e,p){function n(a,b,d,c,g,e){e=e||"px";a=a.style;isNaN(b)||(a.left=
b+e);isNaN(d)||(a.top=d+e);0<=c&&(a.width=c+e);0<=g&&(a.height=g+e)}function q(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function m(a){return"border-box"==k.boxModel||"table"==a.tagName.toLowerCase()||q(a)}var k={boxModel:"content-box"};b("ie")&&(k.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");k.getPadExtents=function(a,b){a=e.byId(a);var d=b||p.getComputedStyle(a),c=p.toPixelValue,g=
c(a,d.paddingLeft),h=c(a,d.paddingTop),k=c(a,d.paddingRight),d=c(a,d.paddingBottom);return{l:g,t:h,r:k,b:d,w:g+k,h:h+d}};k.getBorderExtents=function(a,b){a=e.byId(a);var d=p.toPixelValue,c=b||p.getComputedStyle(a),g="none"!=c.borderLeftStyle?d(a,c.borderLeftWidth):0,h="none"!=c.borderTopStyle?d(a,c.borderTopWidth):0,k="none"!=c.borderRightStyle?d(a,c.borderRightWidth):0,d="none"!=c.borderBottomStyle?d(a,c.borderBottomWidth):0;return{l:g,t:h,r:k,b:d,w:g+k,h:h+d}};k.getPadBorderExtents=function(a,b){a=
e.byId(a);var d=b||p.getComputedStyle(a),c=k.getPadExtents(a,d),d=k.getBorderExtents(a,d);return{l:c.l+d.l,t:c.t+d.t,r:c.r+d.r,b:c.b+d.b,w:c.w+d.w,h:c.h+d.h}};k.getMarginExtents=function(a,b){a=e.byId(a);var d=b||p.getComputedStyle(a),c=p.toPixelValue,g=c(a,d.marginLeft),h=c(a,d.marginTop),k=c(a,d.marginRight),d=c(a,d.marginBottom);return{l:g,t:h,r:k,b:d,w:g+k,h:h+d}};k.getMarginBox=function(a,f){a=e.byId(a);var d=f||p.getComputedStyle(a),c=k.getMarginExtents(a,d),g=a.offsetLeft-c.l,h=a.offsetTop-
c.t,m=a.parentNode,n=p.toPixelValue;if(b("mozilla")){var q=parseFloat(d.left),d=parseFloat(d.top);!isNaN(q)&&!isNaN(d)?(g=q,h=d):m&&m.style&&(m=p.getComputedStyle(m),"visible"!=m.overflow&&(g+="none"!=m.borderLeftStyle?n(a,m.borderLeftWidth):0,h+="none"!=m.borderTopStyle?n(a,m.borderTopWidth):0))}else if((b("opera")||8==b("ie")&&!b("quirks"))&&m)m=p.getComputedStyle(m),g-="none"!=m.borderLeftStyle?n(a,m.borderLeftWidth):0,h-="none"!=m.borderTopStyle?n(a,m.borderTopWidth):0;return{l:g,t:h,w:a.offsetWidth+
c.w,h:a.offsetHeight+c.h}};k.getContentBox=function(a,f){a=e.byId(a);var d=f||p.getComputedStyle(a),c=a.clientWidth,g=k.getPadExtents(a,d),h=k.getBorderExtents(a,d);c?(d=a.clientHeight,h.w=h.h=0):(c=a.offsetWidth,d=a.offsetHeight);b("opera")&&(g.l+=h.l,g.t+=h.t);return{l:g.l,t:g.t,w:c-g.w-h.w,h:d-g.h-h.h}};k.setContentSize=function(a,b,d){a=e.byId(a);var c=b.w;b=b.h;m(a)&&(d=k.getPadBorderExtents(a,d),0<=c&&(c+=d.w),0<=b&&(b+=d.h));n(a,NaN,NaN,c,b)};var h={l:0,t:0,w:0,h:0};k.setMarginBox=function(a,
f,d){a=e.byId(a);var c=d||p.getComputedStyle(a);d=f.w;var g=f.h,r=m(a)?h:k.getPadBorderExtents(a,c),c=k.getMarginExtents(a,c);if(b("webkit")&&q(a)){var l=a.style;0<=d&&!l.width&&(l.width="4px");0<=g&&!l.height&&(l.height="4px")}0<=d&&(d=Math.max(d-r.w-c.w,0));0<=g&&(g=Math.max(g-r.h-c.h,0));n(a,f.l,f.t,d,g)};k.isBodyLtr=function(a){a=a||l.doc;return"ltr"==(l.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};k.docScroll=function(a){a=a||l.doc;var f=l.doc.parentWindow||l.doc.defaultView;return"pageXOffset"in
f?{x:f.pageXOffset,y:f.pageYOffset}:(f=b("quirks")?l.body(a):a.documentElement)&&{x:k.fixIeBiDiScrollLeft(f.scrollLeft||0,a),y:f.scrollTop||0}};b("ie")&&(k.getIeDocumentElementOffset=function(a){a=a||l.doc;a=a.documentElement;if(8>b("ie")){var f=a.getBoundingClientRect(),d=f.left,f=f.top;7>b("ie")&&(d+=a.clientLeft,f+=a.clientTop);return{x:0>d?0:d,y:0>f?0:f}}return{x:0,y:0}});k.fixIeBiDiScrollLeft=function(a,f){f=f||l.doc;var d=b("ie");if(d&&!k.isBodyLtr(f)){var c=b("quirks"),g=c?l.body(f):f.documentElement,
e=l.global;6==d&&(!c&&e.frameElement&&g.scrollHeight>g.clientHeight)&&(a+=g.clientLeft);return 8>d||c?a+g.clientWidth-g.scrollWidth:-a}return a};k.position=function(a,f){a=e.byId(a);var d=l.body(a.ownerDocument),c=a.getBoundingClientRect(),c={x:c.left,y:c.top,w:c.right-c.left,h:c.bottom-c.top};if(9>b("ie")){var g=k.getIeDocumentElementOffset(a.ownerDocument);c.x-=g.x+(b("quirks")?d.clientLeft+d.offsetLeft:0);c.y-=g.y+(b("quirks")?d.clientTop+d.offsetTop:0)}f&&(d=k.docScroll(a.ownerDocument),c.x+=
d.x,c.y+=d.y);return c};k.getMarginSize=function(a,b){a=e.byId(a);var d=k.getMarginExtents(a,b||p.getComputedStyle(a)),c=a.getBoundingClientRect();return{w:c.right-c.left+d.w,h:c.bottom-c.top+d.h}};k.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!b("dom-addeventlistener")){var f=a.target,f=f&&f.ownerDocument||document,d=b("quirks")?f.body:f.documentElement,c=k.getIeDocumentElementOffset(f);a.pageX=a.clientX+k.fixIeBiDiScrollLeft(d.scrollLeft||0,f)-c.x;a.pageY=
a.clientY+(d.scrollTop||0)-c.y}};return k})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(b,l,e,p,n,q,m,k){function h(a){var b="";a=a.childNodes;for(var d=0,f;f=a[d];d++)8!=f.nodeType&&(b=1==f.nodeType?b+h(f):b+f.nodeValue);return b}var a={},f=0,d=l._scopeName+"attrid";e.add("dom-textContent",function(a,b,d){return"textContent"in d});b.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",
readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};b.get=function(a,d){a=n.byId(a);var f=d.toLowerCase(),f=b.names[f]||d;return"textContent"==f&&!e("dom-textContent")?h(a):a[f]};b.set=function(c,g,h){c=n.byId(c);if(2==arguments.length&&"string"!=typeof g){for(var l in g)b.set(c,l,g[l]);return c}l=g.toLowerCase();l=b.names[l]||g;if("style"==l&&"string"!=typeof h)return q.set(c,h),c;if("innerHTML"==l)return e("ie")&&c.tagName.toLowerCase()in
{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(m.empty(c),c.appendChild(m.toDom(h,c.ownerDocument))):c[l]=h,c;if("textContent"==l&&!e("dom-textContent"))return m.empty(c),c.appendChild(c.ownerDocument.createTextNode(h)),c;if(p.isFunction(h)){var v=c[d];v||(v=f++,c[d]=v);a[v]||(a[v]={});var u=a[v][l];if(u)k.disconnect(u);else try{delete c[l]}catch(s){}h?a[v][l]=k.connect(c,l,h):c[l]=null;return c}c[l]=h;return c}})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],
function(b,l){return function(e,p,n,q){var m=e&&"function"===typeof e.then,k=m&&e instanceof l;if(m)k||(m=new b(e.cancel),e.then(m.resolve,m.reject,m.progress),e=m.promise);else return 1<arguments.length?p?p(e):e:(new b).resolve(e);return p||n||q?e.then(p,n,q):e}})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(b,l,e,p,n,q){function m(a,b){var d=a.getAttributeNode&&a.getAttributeNode(b);return d&&d.specified}var k={innerHTML:1,textContent:1,
className:1,htmlFor:l("ie"),value:1},h={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};b.has=function(a,b){var d=b.toLowerCase();return k[q.names[d]||b]||m(p.byId(a),h[d]||b)};b.get=function(a,b){a=p.byId(a);var d=b.toLowerCase(),c=q.names[d]||b,g=a[c];if(k[c]&&"undefined"!=typeof g)return g;if("textContent"==c)return q.get(a,c);if("href"!=c&&("boolean"==typeof g||e.isFunction(g)))return g;d=h[d]||b;return m(a,d)?a.getAttribute(d):null};b.set=function(a,f,d){a=p.byId(a);
if(2==arguments.length){for(var c in f)b.set(a,c,f[c]);return a}c=f.toLowerCase();var g=q.names[c]||f,r=k[g];if("style"==g&&"string"!=typeof d)return n.set(a,d),a;if(r||"boolean"==typeof d||e.isFunction(d))return q.set(a,f,d);a.setAttribute(h[c]||f,d);return a};b.remove=function(a,b){p.byId(a).removeAttribute(h[b.toLowerCase()]||b)};b.getNodeProp=function(a,b){a=p.byId(a);var d=b.toLowerCase(),c=q.names[d]||b;if(c in a&&"href"!=c)return a[c];d=h[d]||b;return m(a,d)?a.getAttribute(d):null}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),
function(b,l,e,p,n,q){function m(a,b){var c=b.parentNode;c&&c.insertBefore(a,b)}function k(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(b){}for(var c;c=a.lastChild;)a.removeChild(c)}var h={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},a=/<\s*([\w\:]+)/,f={},d=0,c="__"+l._scopeName+"ToDomId",g;for(g in h)h.hasOwnProperty(g)&&
(l=h[g],l.pre="option"==g?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+l.join("\x3e\x3c")+"\x3e",l.post="\x3c/"+l.reverse().join("\x3e\x3c/")+"\x3e");var r;8>=e("ie")&&(r=function(a){a.__dojo_html5_tested="yes";var b=t("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(b){a.createElement(b)});
v(b)});b.toDom=function(b,g){g=g||p.doc;var k=g[c];k||(g[c]=k=++d+"",f[k]=g.createElement("div"));8>=e("ie")&&!g.__dojo_html5_tested&&g.body&&r(g);b+="";var m=b.match(a),l=m?m[1].toLowerCase():"",k=f[k];if(m&&h[l]){m=h[l];k.innerHTML=m.pre+b+m.post;for(m=m.length;m;--m)k=k.firstChild}else k.innerHTML=b;if(1==k.childNodes.length)return k.removeChild(k.firstChild);for(l=g.createDocumentFragment();m=k.firstChild;)l.appendChild(m);return l};b.place=function(a,c,d){c=n.byId(c);"string"==typeof a&&(a=/^\s*</.test(a)?
b.toDom(a,c.ownerDocument):n.byId(a));if("number"==typeof d){var f=c.childNodes;!f.length||f.length<=d?c.appendChild(a):m(a,f[0>d?0:d])}else switch(d){case "before":m(a,c);break;case "after":d=a;(f=c.parentNode)&&(f.lastChild==c?f.appendChild(d):f.insertBefore(d,c.nextSibling));break;case "replace":c.parentNode.replaceChild(a,c);break;case "only":b.empty(c);c.appendChild(a);break;case "first":if(c.firstChild){m(a,c.firstChild);break}default:c.appendChild(a)}return a};var t=b.create=function(a,c,d,
f){var g=p.doc;d&&(d=n.byId(d),g=d.ownerDocument);"string"==typeof a&&(a=g.createElement(a));c&&q.set(a,c);d&&b.place(a,d,f);return a};b.empty=function(a){k(n.byId(a))};var v=b.destroy=function(a){if(a=n.byId(a)){var b=a;a=a.parentNode;b.firstChild&&k(b);a&&(e("ie")&&a.canHaveChildren&&"removeNode"in b?b.removeNode(!1):a.removeChild(b))}}})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(b,l,e,p,n){function q(a,c){var d=a.xhr;a.status=
a.xhr.status;try{a.text=d.responseText}catch(f){}"xml"===a.options.handleAs&&(a.data=d.responseXML);if(!c)try{e(a)}catch(g){c=g}c?this.reject(c):p.checkStatus(d.status)?this.resolve(a):(c=new b("Unable to load "+a.url+" status: "+d.status,a),this.reject(c))}function m(a){return this.xhr.getResponseHeader(a)}function k(e,t,v){var A=n("native-formdata")&&t&&t.data&&t.data instanceof FormData,w=p.parseArgs(e,p.deepCreate(r,t),A);e=w.url;t=w.options;var F,y=p.deferred(w,c,a,f,q,function(){F&&F()}),C=
w.xhr=k._create();if(!C)return y.cancel(new b("XHR was not created")),v?y:y.promise;w.getHeader=m;d&&(F=d(C,y,w));var I=t.data,O=!t.sync,P=t.method;try{C.open(P,e,O,t.user||g,t.password||g);t.withCredentials&&(C.withCredentials=t.withCredentials);n("native-response-type")&&t.handleAs in h&&(C.responseType=h[t.handleAs]);var K=t.headers;e=A?!1:"application/x-www-form-urlencoded";if(K)for(var S in K)"content-type"===S.toLowerCase()?e=K[S]:K[S]&&C.setRequestHeader(S,K[S]);e&&!1!==e&&C.setRequestHeader("Content-Type",
e);(!K||!("X-Requested-With"in K))&&C.setRequestHeader("X-Requested-With","XMLHttpRequest");p.notify&&p.notify.emit("send",w,y.promise.cancel);C.send(I)}catch(B){y.reject(B)}l(y);C=null;return v?y:y.promise}n.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});n.add("dojo-force-activex-xhr",function(){return n("activex")&&!document.addEventListener&&"file:"===window.location.protocol});n.add("native-xhr2",function(){if(n("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==
typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});n.add("native-formdata",function(){return"undefined"!==typeof FormData});n.add("native-response-type",function(){return n("native-xhr")&&"undefined"!==typeof(new XMLHttpRequest).responseType});n.add("native-xhr2-blob",function(){if(n("native-response-type")){var a=new XMLHttpRequest;a.open("GET","/",!0);a.responseType="blob";var b=a.responseType;a.abort();return"blob"===b}});var h={blob:n("native-xhr2-blob")?
"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"},a,f,d,c;n("native-xhr2")?(a=function(a){return!this.isFulfilled()},c=function(a,b){b.xhr.abort()},d=function(a,c,d){function f(a){c.handleResponse(d)}function g(a){a=new b("Unable to load "+d.url+" status: "+a.target.status,d);c.handleResponse(d,a)}function e(a){a.lengthComputable?(d.loaded=a.loaded,d.total=a.total,c.progress(d)):3===d.xhr.readyState&&(d.loaded=a.position,c.progress(d))}a.addEventListener("load",f,!1);a.addEventListener("error",
g,!1);a.addEventListener("progress",e,!1);return function(){a.removeEventListener("load",f,!1);a.removeEventListener("error",g,!1);a.removeEventListener("progress",e,!1);a=null}}):(a=function(a){return a.xhr.readyState},f=function(a){return 4===a.xhr.readyState},c=function(a,b){var c=b.xhr,d=typeof c.abort;("function"===d||"object"===d||"unknown"===d)&&c.abort()});var g,r={data:null,query:null,sync:!1,method:"GET"};k._create=function(){throw Error("XMLHTTP not available");};if(n("native-xhr")&&!n("dojo-force-activex-xhr"))k._create=
function(){return new XMLHttpRequest};else if(n("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),k._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(t){try{new ActiveXObject("Microsoft.XMLHTTP"),k._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(v){}}p.addCommonMethods(k);return k})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(b,l,e,p){var n;n=function(a,b,d){p(a,{sync:!!b,headers:{"X-Requested-With":null}}).then(d)};
var q={},m=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},k={},h={};b.cache=function(a,b,d){var c;"string"==typeof a?/\//.test(a)?(c=a,d=b):c=l.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")):(c=a+"",d=b);a=void 0!=d&&"string"!=typeof d?d.value:d;d=d&&d.sanitize;if("string"==typeof a)return q[c]=a,d?m(a):a;if(null===a)return delete q[c],null;c in q||n(c,!0,function(a){q[c]=
a});return d?m(q[c]):q[c]};return{dynamic:!0,normalize:function(a,b){var d=a.split("!"),c=d[0];return(/^\./.test(c)?b(c):c)+(d[1]?"!"+d[1]:"")},load:function(a,b,d){a=a.split("!");var c=1<a.length,g=a[0],e=b.toUrl(a[0]);a="url:"+e;var l=k,p=function(a){d(c?m(a):a)};g in q?l=q[g]:b.cache&&a in b.cache?l=b.cache[a]:e in q&&(l=q[e]);if(l===k)if(h[e])h[e].push(p);else{var u=h[e]=[p];n(e,!b.async,function(a){q[g]=q[e]=a;for(var b=0;b<u.length;)u[b++](a);delete h[e]})}else p(l)}}})},"dojo/keys":function(){define(["./_base/kernel",
"./sniff"],function(b,l){return b.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:l("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,
NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:l("mac")&&!l("air")?l("safari")?91:224:17}})},"dojo/domReady":function(){define(["./has"],function(b){function l(a){h.push(a);k&&e()}function e(){if(!a){for(a=!0;h.length;)try{h.shift()(n)}catch(b){console.log("Error on domReady callback: "+b)}a=
!1;l._onQEmpty()}}var p=function(){return this}(),n=document,q={loaded:1,complete:1},m="string"!=typeof n.readyState,k=!!q[n.readyState],h=[],a;l.load=function(a,b,c){l(c)};l._Q=h;l._onQEmpty=function(){};m&&(n.readyState="loading");if(!k){var f=[],d=function(a){a=a||p.event;k||"readystatechange"==a.type&&!q[n.readyState]||(m&&(n.readyState="complete"),k=1,e())},c=function(a,b){a.addEventListener(b,d,!1);h.push(function(){a.removeEventListener(b,d,!1)})};if(!b("dom-addeventlistener")){var c=function(a,
b){b="on"+b;a.attachEvent(b,d);h.push(function(){a.detachEvent(b,d)})},g=n.createElement("div");try{g.doScroll&&null===p.frameElement&&f.push(function(){try{return g.doScroll("left"),1}catch(a){}})}catch(r){}}c(n,"DOMContentLoaded");c(p,"load");"onreadystatechange"in n?c(n,"readystatechange"):m||f.push(function(){return q[n.readyState]});if(f.length){var t=function(){if(!k){for(var a=f.length;a--;)if(f[a]()){d("poller");return}setTimeout(t,30)}};t()}}return l})},"dojo/_base/lang":function(){define(["./kernel",
"../has","../sniff"],function(b,l){l.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var e=l("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],p=e.length,n=function(a,f,d){d||(d=a[0]&&b.scopeMap[a[0]]?b.scopeMap[a.shift()][1]:b.global);try{for(var c=0;c<a.length;c++){var g=a[c];if(!(g in d))if(f)d[g]={};else return;d=d[g]}return d}catch(e){}},q=Object.prototype.toString,
m=function(a,b,d){return(d||[]).concat(Array.prototype.slice.call(a,b||0))},k=/\{([^\}]+)\}/g,h={_extraNames:e,_mixin:function(a,b,d){var c,g,h,k={};for(c in b)if(g=b[c],!(c in a)||a[c]!==g&&(!(c in k)||k[c]!==g))a[c]=d?d(g):g;if(l("bug-for-in-skips-shadowed")&&b)for(h=0;h<p;++h)if(c=e[h],g=b[c],!(c in a)||a[c]!==g&&(!(c in k)||k[c]!==g))a[c]=d?d(g):g;return a},mixin:function(a,b){a||(a={});for(var d=1,c=arguments.length;d<c;d++)h._mixin(a,arguments[d]);return a},setObject:function(a,b,d){var c=a.split(".");
a=c.pop();return(d=n(c,!0,d))&&a?d[a]=b:void 0},getObject:function(a,b,d){return n(a?a.split("."):[],b,d)},exists:function(a,b){return void 0!==h.getObject(a,!1,b)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===q.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||h.isArray(a)||h.isFunction(a))},isArrayLike:function(a){return a&&
void 0!==a&&!h.isString(a)&&!h.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(h.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!h.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,b){for(var d=1,c=arguments.length;d<c;d++)h._mixin(a.prototype,arguments[d]);return a},_hitchArgs:function(a,f){var d=h._toArray(arguments,2),c=h.isString(f);return function(){var g=h._toArray(arguments),e=c?(a||b.global)[f]:f;return e&&e.apply(a||this,d.concat(g))}},
hitch:function(a,f){if(2<arguments.length)return h._hitchArgs.apply(b,arguments);f||(f=a,a=null);if(h.isString(f)){a=a||b.global;if(!a[f])throw['lang.hitch: scope["',f,'"] is null (scope\x3d"',a,'")'].join("");return function(){return a[f].apply(a,arguments||[])}}return!a?f:function(){return f.apply(a,arguments||[])}},delegate:function(){function a(){}return function(b,d){a.prototype=b;var c=new a;a.prototype=null;d&&h._mixin(c,d);return c}}(),_toArray:l("ie")?function(){function a(a,b,c){c=c||[];
for(b=b||0;b<a.length;b++)c.push(a[b]);return c}return function(b){return(b.item?a:m).apply(this,arguments)}}():m,partial:function(a){return h.hitch.apply(b,[null].concat(h._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||h.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var b,d,c;if(h.isArray(a)){b=[];d=0;for(c=a.length;d<c;++d)d in a&&b.push(h.clone(a[d]))}else b=
a.constructor?new a.constructor:{};return h._mixin(b,a,h.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,b,d){return a.replace(d||k,h.isFunction(b)?b:function(a,d){return h.getObject(d,!1,b)})}};h.mixin(b,h);return h})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),function(b,
l,e,p,n,q,m,k){function h(a){return f(a)}function a(a){return a.data||a.text}b.deepCopy=function(a,c){for(var f in c){var e=a[f],h=c[f];e!==h&&(e&&"object"===typeof e&&h&&"object"===typeof h?b.deepCopy(e,h):a[f]=h)}return a};b.deepCreate=function(a,c){c=c||{};var f=m.delegate(a),e,h;for(e in a)(h=a[e])&&"object"===typeof h&&(f[e]=b.deepCreate(h,c[e]));return b.deepCopy(f,c)};var f=Object.freeze||function(a){return a};b.deferred=function(d,c,g,r,n,q){var u=new p(function(a){c&&c(u,d);return!a||!(a instanceof
l)&&!(a instanceof e)?new e("Request canceled",d):a});u.response=d;u.isValid=g;u.isReady=r;u.handleResponse=n;g=u.then(h).otherwise(function(a){a.response=d;throw a;});b.notify&&g.then(m.hitch(b.notify,"emit","load"),m.hitch(b.notify,"emit","error"));r=g.then(a);n=new k;for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s]);n.response=g;f(n);q&&u.then(function(a){q.call(u,a)},function(a){q.call(u,d,a)});u.promise=n;u.then=n.then;return u};b.addCommonMethods=function(a,b){q.forEach(b||["GET","POST","PUT",
"DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,f){f=m.delegate(f||{});f.method=b;return a(c,f)}})};b.parseArgs=function(a,b,f){var e=b.data,h=b.query;e&&!f&&"object"===typeof e&&(b.data=n.objectToQuery(e));h?("object"===typeof h&&(h=n.objectToQuery(h)),b.preventCache&&(h+=(h?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(h="request.preventCache\x3d"+ +new Date);a&&h&&(a+=(~a.indexOf("?")?"\x26":"?")+h);return{url:a,options:b,getHeader:function(a){return null}}};
b.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/Evented":function(){define(["./aspect","./on"],function(b,l){function e(){}var p=b.after;e.prototype={on:function(b,e){return l.parse(this,b,e,function(b,k){return p(b,"on"+k,e,!0)})},emit:function(b,e){var m=[this];m.push.apply(m,arguments);return l.emit.apply(l,m)}};return e})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(b,l,e,p,n){function q(b,e){var h=function(a,
f){return l(a,b,function(b){if(e)return e(b,f);if(!p.isDescendant(b.relatedTarget,a))return f.call(this,b)})};h.bubble=function(a){return q(b,function(b,d){var c=a(b.target),g=b.relatedTarget;if(c&&c!=(g&&1==g.nodeType&&a(g)))return d.call(c,b)})};return h}e.add("dom-quirks",n.doc&&"BackCompat"==n.doc.compatMode);e.add("events-mouseenter",n.doc&&"onmouseenter"in n.doc.createElement("div"));e.add("events-mousewheel",n.doc&&"onmousewheel"in n.doc);n=e("dom-quirks")&&e("ie")||!e("dom-addeventlistener")?
{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(b,e){return b.button&e},isLeft:function(b){return b.button&1},isMiddle:function(b){return b.button&4},isRight:function(b){return b.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(b,e){return b.button==e},isLeft:function(b){return 0==b.button},isMiddle:function(b){return 1==b.button},isRight:function(b){return 2==b.button}};b.mouseButtons=n;b=e("events-mousewheel")?"mousewheel":function(b,e){return l(b,"DOMMouseScroll",function(b){b.wheelDelta=-b.detail;
e.call(this,b)})};return{_eventHandler:q,enter:q("mouseover"),leave:q("mouseout"),wheel:b,isLeft:n.isLeft,isMiddle:n.isMiddle,isRight:n.isRight}})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),function(b,l,e,p,n,q,m,k,h,a,f,d,c,g,r,t){b._xhrObj=r._create;var v=b.config;b.objectToQuery=p.objectToQuery;b.queryToObject=p.queryToObject;b.fieldToObject=
q.fieldToObject;b.formToObject=q.toObject;b.formToQuery=q.toQuery;b.formToJson=q.toJson;b._blockAsync=!1;l.add("native-xhr2-blob",function(){if(l("native-xhr2")){var a=new XMLHttpRequest;a.open("GET","/",!0);a.responseType="blob";var b=a.responseType;a.abort();return"blob"===b}});var u=b._contentHandlers=b.contentHandlers={text:function(a){return a.responseText},json:function(a){return h.fromJson(a.responseText||null)},"json-comment-filtered":function(a){k.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
a=a.responseText;var b=a.indexOf("/*"),c=a.lastIndexOf("*/");if(-1==b||-1==c)throw Error("JSON was not comment filtered");return h.fromJson(a.substring(b+2,c))},javascript:function(a){return b.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&(l("dom-qsa2.1")&&!b.querySelectorAll&&l("dom-parser"))&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(l("ie")&&(!b||!b.documentElement)){var c=function(a){return"MSXML"+a+".DOMDocument"},c=["Microsoft.XMLDOM",c(6),c(4),
c(3),c(2)];f.some(c,function(c){try{var d=new ActiveXObject(c);d.async=!1;d.loadXML(a.responseText);b=d}catch(f){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?u["json-comment-filtered"](a):u.json(a)}};l("native-xhr2")&&(u.arraybuffer=u.blob=u.document=function(a,b){return"blob"===b.args.handleAs&&!l("native-xhr2-blob")?new Blob([a.response],{type:a.getResponseHeader("Content-Type")}):a.response});b._ioSetArgs=function(c,
d,f,g){var e={args:c,url:c.url},h=null;if(c.form){var h=n.byId(c.form),k=h.getAttributeNode("action");e.url=e.url||(k?k.value:null);h=q.toObject(h)}k=[{}];h&&k.push(h);c.content&&k.push(c.content);c.preventCache&&k.push({"dojo.preventCache":(new Date).valueOf()});e.query=p.objectToQuery(a.mixin.apply(null,k));e.handleAs=c.handleAs||"text";var l=new m(function(a){a.canceled=!0;d&&d(a);var b=a.ioArgs.error;b||(b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b);return b});l.addCallback(f);
var r=c.load;r&&a.isFunction(r)&&l.addCallback(function(a){return r.call(c,a,e)});var t=c.error;t&&a.isFunction(t)&&l.addErrback(function(a){return t.call(c,a,e)});var s=c.handle;s&&a.isFunction(s)&&l.addBoth(function(a){return s.call(c,a,e)});l.addErrback(function(a){return g(a,l)});v.ioPublish&&(b.publish&&!1!==e.args.ioPublish)&&(l.addCallbacks(function(a){b.publish("/dojo/io/load",[l,a]);return a},function(a){b.publish("/dojo/io/error",[l,a]);return a}),l.addBoth(function(a){b.publish("/dojo/io/done",
[l,a]);return a}));l.ioArgs=e;return l};var s=function(a){a=u[a.ioArgs.handleAs](a.ioArgs.xhr,a.ioArgs);return void 0===a?null:a},x=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},A=function(a){0>=w&&(w=0,v.ioPublish&&(b.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish))&&b.publish("/dojo/io/stop"))},w=0;c.after(g,"_onAction",function(){w-=1});c.after(g,"_onInFlight",A);b._ioCancelAll=g.cancelAll;b._ioNotifyStart=function(a){v.ioPublish&&(b.publish&&!1!==a.ioArgs.args.ioPublish)&&(w||
b.publish("/dojo/io/start"),w+=1,b.publish("/dojo/io/send",[a]))};b._ioWatch=function(b,c,d,f){b.ioArgs.options=b.ioArgs.args;a.mixin(b,{response:b.ioArgs,isValid:function(a){return c(b)},isReady:function(a){return d(b)},handleResponse:function(a){return f(b)}});g(b);A(b)};b._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};b.xhr=function(a,c,d){var f,g=b._ioSetArgs(c,function(a){f&&f.cancel()},s,x),e=g.ioArgs;"postData"in c?e.query=c.postData:
"putData"in c?e.query=c.putData:"rawBody"in c?e.query=c.rawBody:(2<arguments.length&&!d||-1==="POST|PUT".indexOf(a.toUpperCase()))&&b._ioAddQueryToUrl(e);var h;l("native-xhr2")&&(h={arraybuffer:1,blob:1,document:1});h=l("native-xhr2")&&h[c.handleAs]?c.handleAs:"text";"blob"===h&&!l("native-xhr2-blob")&&(h="arraybuffer");h={method:a,handleAs:h,responseType:c.responseType,timeout:c.timeout,withCredentials:c.withCredentials,ioArgs:e};"undefined"!==typeof c.headers&&(h.headers=c.headers);"undefined"!==
typeof c.contentType&&(h.headers||(h.headers={}),h.headers["Content-Type"]=c.contentType);"undefined"!==typeof e.query&&(h.data=e.query);"undefined"!==typeof c.sync&&(h.sync=c.sync);b._ioNotifyStart(g);try{f=r(e.url,h,!0)}catch(k){return g.cancel(),g}g.ioArgs.xhr=f.response.xhr;f.then(function(){g.resolve(g)}).otherwise(function(a){e.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);g.reject(a)});return g};b.xhrGet=function(a){return b.xhr("GET",
a)};b.rawXhrPost=b.xhrPost=function(a){return b.xhr("POST",a,!0)};b.rawXhrPut=b.xhrPut=function(a){return b.xhr("PUT",a,!0)};b.xhrDelete=function(a){return b.xhr("DELETE",a)};b._isDocumentOk=function(a){return t.checkStatus(a.status)};b._getText=function(a){var c;b.xhrGet({url:a,sync:!0,load:function(a){c=a}});return c};a.mixin(b.xhr,{_xhrObj:b._xhrObj,fieldToObject:q.fieldToObject,formToObject:q.toObject,objectToQuery:p.objectToQuery,formToQuery:q.toQuery,formToJson:q.toJson,queryToObject:p.queryToObject,
contentHandlers:u,_ioSetArgs:b._ioSetArgs,_ioCancelAll:b._ioCancelAll,_ioNotifyStart:b._ioNotifyStart,_ioWatch:b._ioWatch,_ioAddQueryToUrl:b._ioAddQueryToUrl,_isDocumentOk:b._isDocumentOk,_getText:b._getText,get:b.xhrGet,post:b.xhrPost,put:b.xhrPut,del:b.xhrDelete});return b.xhr})},"dojo/topic":function(){define(["./Evented"],function(b){var l=new b;return{publish:function(b,p){return l.emit.apply(l,arguments)},subscribe:function(b,p){return l.on.apply(l,arguments)}}})},"dojo/loadInit":function(){define(["./_base/loader"],
function(b){return{dynamic:0,normalize:function(b){return b},load:b.loadInit}})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(b,l,e){var p=window,n={addOnWindowUnload:function(n,m){b.windowUnloaded||e(p,"unload",b.windowUnloaded=function(){});e(p,"unload",l.hitch(n,m))},addOnUnload:function(b,m){e(p,"beforeunload",l.hitch(b,m))}};b.addOnWindowUnload=n.addOnWindowUnload;b.addOnUnload=n.addOnUnload;return n})},"dojo/require":function(){define(["./_base/loader"],function(b){return{dynamic:0,
normalize:function(b){return b},load:b.require}})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(b,l,e,p,n){var q=Object.freeze||function(){},m=function(a,b,g,e,h){2===b&&(f.instrumentRejected&&0===a.length)&&f.instrumentRejected(g,!1,e,h);for(h=0;h<a.length;h++)k(a[h],b,g,e)},k=function(b,c,g,e){var k=b[c],l=b.deferred;if(k)try{var m=k(g);if(0===c)"undefined"!==typeof m&&a(l,c,m);else{if(m&&"function"===
typeof m.then){b.cancel=m.cancel;m.then(h(l,1),h(l,2),h(l,0));return}a(l,1,m)}}catch(n){a(l,2,n)}else a(l,c,g);2===c&&f.instrumentRejected&&f.instrumentRejected(g,!!k,e,l.promise)},h=function(b,c){return function(f){a(b,c,f)}},a=function(a,b,f){if(!a.isCanceled())switch(b){case 0:a.progress(f);break;case 1:a.resolve(f);break;case 2:a.reject(f)}},f=function(a){var b=this.promise=new p,g=this,h,l,n,u=!1,s=[];Error.captureStackTrace&&(Error.captureStackTrace(g,f),Error.captureStackTrace(b,f));this.isResolved=
b.isResolved=function(){return 1===h};this.isRejected=b.isRejected=function(){return 2===h};this.isFulfilled=b.isFulfilled=function(){return!!h};this.isCanceled=b.isCanceled=function(){return u};this.progress=function(a,d){if(h){if(!0===d)throw Error("This deferred has already been fulfilled.");return b}m(s,0,a,null,g);return b};this.resolve=function(a,d){if(h){if(!0===d)throw Error("This deferred has already been fulfilled.");return b}m(s,h=1,l=a,null,g);s=null;return b};var x=this.reject=function(a,
d){if(h){if(!0===d)throw Error("This deferred has already been fulfilled.");return b}Error.captureStackTrace&&Error.captureStackTrace(n={},x);m(s,h=2,l=a,n,g);s=null;return b};this.then=b.then=function(a,d,e){var g=[e,a,d];g.cancel=b.cancel;g.deferred=new f(function(a){return g.cancel&&g.cancel(a)});h&&!s?k(g,h,l,n):s.push(g);return g.deferred.promise};this.cancel=b.cancel=function(b,c){if(h){if(!0===c)throw Error("This deferred has already been fulfilled.");}else{if(a){var f=a(b);b="undefined"===
typeof f?b:f}u=!0;if(h){if(2===h&&l===b)return b}else return"undefined"===typeof b&&(b=new e),x(b),b}};q(b)};f.prototype.toString=function(){return"[object Deferred]"};n&&n(f);return f})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(b,l,e){l=l.NodeList;var p=l.prototype;p.connect=l._adaptAsForEach(function(){return b.connect.apply(this,arguments)});p.coords=l._adaptAsMap(b.coords);l.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");
e.forEach(l.events,function(b){var e="on"+b;p[e]=function(b,k){return this.connect(e,b,k)}});return b.NodeList=l})},"dojo/request":function(){define(["./request/default!"],function(b){return b})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(b,l,e,p){var n=b.Color=function(b){b&&this.setColor(b)};n.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,
128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:p.transparentColor||[0,0,0,0]};l.extend(n,{r:255,g:255,b:255,a:1,_set:function(b,e,k,h){this.r=b;this.g=e;this.b=k;this.a=h},setColor:function(b){l.isString(b)?n.fromString(b,this):l.isArray(b)?n.fromArray(b,this):(this._set(b.r,b.g,b.b,b.a),b instanceof n||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},
toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+e.map(["r","g","b"],function(b){b=this[b].toString(16);return 2>b.length?"0"+b:b},this).join("")},toCss:function(b){var e=this.r+", "+this.g+", "+this.b;return(b?"rgba("+e+", "+this.a:"rgb("+e)+")"},toString:function(){return this.toCss(!0)}});n.blendColors=b.blendColors=function(b,l,k,h){var a=h||new n;e.forEach(["r","g","b","a"],function(f){a[f]=b[f]+(l[f]-b[f])*k;"a"!=f&&(a[f]=Math.round(a[f]))});return a.sanitize()};
n.fromRgb=b.colorFromRgb=function(b,e){var k=b.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return k&&n.fromArray(k[1].split(/\s*,\s*/),e)};n.fromHex=b.colorFromHex=function(b,l){var k=l||new n,h=4==b.length?4:8,a=(1<<h)-1;b=Number("0x"+b.substr(1));if(isNaN(b))return null;e.forEach(["b","g","r"],function(f){var d=b&a;b>>=h;k[f]=4==h?17*d:d});k.a=1;return k};n.fromArray=b.colorFromArray=function(b,e){var k=e||new n;k._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));isNaN(k.a)&&(k.a=1);
return k.sanitize()};n.fromString=b.colorFromString=function(b,e){var k=n.named[b];return k&&n.fromArray(k,e)||n.fromRgb(b,e)||n.fromHex(b,e)};return n})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(b,l,e,p){function n(a,b,f){var e="";a&&a.stack&&(e+=a.stack);b&&b.stack&&(e+="\n    ----------------------------------------\n    rejected"+b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));f&&f.stack&&(e+="\n    ----------------------------------------\n"+
f.stack);console.error(a,e)}function q(a,b,f,e){b||n(a,f,e)}function m(b,c,e,l){c?p.some(h,function(a,c){if(a.error===b)return h.splice(c,1),!0}):p.some(h,function(a){return a.error===b})||h.push({error:b,rejection:e,deferred:l,timestamp:(new Date).getTime()});a||(a=setTimeout(k,f))}function k(){var b=(new Date).getTime(),c=b-f;h=p.filter(h,function(a){return a.timestamp<c?(n(a.error,a.rejection,a.deferred),!1):!0});a=h.length?setTimeout(k,h[0].timestamp+f-b):!1}l.add("config-useDeferredInstrumentation",
"report-unhandled-rejections");var h=[],a=!1,f=1E3;return function(a){var c=l("config-useDeferredInstrumentation");if(c){b.on("resolved",e.hitch(console,"log","resolved"));b.on("rejected",e.hitch(console,"log","rejected"));b.on("progress",e.hitch(console,"log","progress"));var g=[];"string"===typeof c&&(g=c.split(","),c=g.shift());if("report-rejections"===c)a.instrumentRejected=q;else if("report-unhandled-rejections"===c||!0===c||1===c)a.instrumentRejected=m,f=parseInt(g[0],10)||f;else throw Error("Unsupported instrumentation usage \x3c"+
c+"\x3e");}}})},"dojo/selector/_loader":function(){define(["../has","require"],function(b,l){var e=document.createElement("div");b.add("dom-qsa2.1",!!e.querySelectorAll);b.add("dom-qsa3",function(){try{return e.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==e.querySelectorAll(".TEST:empty").length}catch(b){}});var p;return{load:function(e,q,m,k){k=l;e="default"==e?b("config-selectorEngine")||"css3":e;e="css2"==e||"lite"==e?"./lite":"css2.1"==e?b("dom-qsa2.1")?"./lite":"./acme":"css3"==e?b("dom-qsa3")?
"./lite":"./acme":"acme"==e?"./acme":(k=q)&&e;if("?"==e.charAt(e.length-1)){e=e.substring(0,e.length-1);var h=!0}if(h&&(b("dom-compliant-qsa")||p))return m(p);k([e],function(a){"./lite"!=e&&(p=a);m(a)})}}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(b){function l(){throw new TypeError("abstract");}return b.extend(function(){},{then:function(b,p,n){l()},cancel:function(b,p){l()},isResolved:function(){l()},isRejected:function(){l()},isFulfilled:function(){l()},isCanceled:function(){l()},
always:function(b){return this.then(b,b)},otherwise:function(b){return this.then(null,b)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(b,l,e,p,n,q){function m(){for(var b=+new Date,d=0,c;d<a.length&&(c=a[d]);d++){var e=c.response,
m=e.options;if(c.isCanceled&&c.isCanceled()||c.isValid&&!c.isValid(e))a.splice(d--,1),k._onAction&&k._onAction();else if(c.isReady&&c.isReady(e))a.splice(d--,1),c.handleResponse(e),k._onAction&&k._onAction();else if(c.startTime&&c.startTime+(m.timeout||0)<b)a.splice(d--,1),c.cancel(new l("Timeout exceeded",e)),k._onAction&&k._onAction()}k._onInFlight&&k._onInFlight(c);a.length||(clearInterval(h),h=null)}function k(b){b.response.options.timeout&&(b.startTime=+new Date);b.isFulfilled()||(a.push(b),
h||(h=setInterval(m,50)),b.response.options.sync&&m())}var h=null,a=[];k.cancelAll=function(){try{p.forEach(a,function(a){try{a.cancel(new e("All requests canceled."))}catch(b){}})}catch(b){}};n&&(q&&n.doc.attachEvent)&&q(n.global,"unload",function(){k.cancelAll()});return k})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(b,l,e){function p(a,b,c,f,l){if(f=b.match(/(.*):(.*)/))return b=f[2],f=f[1],k.selector(f,b).call(l,a,c);e("touch")&&(h.test(b)&&
(c=F(c)),!e("event-orientationchange")&&"orientationchange"==b&&(b="resize",a=window,c=F(c)));g&&(c=g(c));if(a.addEventListener){var m=b in d,n=m?d[b]:b;a.addEventListener(n,c,m);return{remove:function(){a.removeEventListener(n,c,m)}}}if(u&&a.attachEvent)return u(a,"on"+b,c);throw Error("Target must be an event emitter");}function n(){this.cancelable=!1;this.defaultPrevented=!0}function q(){this.bubbles=!1}var m=window.ScriptEngineMajorVersion;e.add("jscript",m&&m()+ScriptEngineMinorVersion()/10);
e.add("event-orientationchange",e("touch")&&!e("android"));e.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);e.add("event-focusin",function(a,b,c){return"onfocusin"in c});e("touch")&&e.add("touch-can-modify-event-delegate",function(){var a=function(){};a.prototype=document.createEvent("MouseEvents");try{var b=new a;b.target=null;return null===b.target}catch(c){return!1}});var k=function(a,b,c,d){return"function"==typeof a.on&&
"function"!=typeof b&&!a.nodeType?a.on(b,c):k.parse(a,b,c,p,d,this)};k.pausable=function(a,b,c,d){var f;a=k(a,b,function(){if(!f)return c.apply(this,arguments)},d);a.pause=function(){f=!0};a.resume=function(){f=!1};return a};k.once=function(a,b,c,d){var f=k(a,b,function(){f.remove();return c.apply(this,arguments)});return f};k.parse=function(a,b,c,d,f,e){if(b.call)return b.call(e,a,c);if(b instanceof Array)g=b;else if(-1<b.indexOf(","))var g=b.split(/\s*,\s*/);if(g){var h=[];b=0;for(var l;l=g[b++];)h.push(k.parse(a,
l,c,d,f,e));h.remove=function(){for(var a=0;a<h.length;a++)h[a].remove()};return h}return d(a,b,c,f,e)};var h=/^touch/;k.matches=function(a,b,c,d,f){f=f&&f.matches?f:l.query;d=!1!==d;1!=a.nodeType&&(a=a.parentNode);for(;!f.matches(a,b,c);)if(a==c||!1===d||!(a=a.parentNode)||1!=a.nodeType)return!1;return a};k.selector=function(a,b,c){return function(d,f){function e(b){return k.matches(b,a,d,c,g)}var g="function"==typeof a?{matches:a}:this,h=b.bubble;return h?k(d,h(e),f):k(d,b,function(a){var b=e(a.target);
if(b)return f.call(b,a)})}};var a=[].slice,f=k.emit=function(b,c,d){var f=a.call(arguments,2),e="on"+c;if("parentNode"in b){var g=f[0]={},h;for(h in d)g[h]=d[h];g.preventDefault=n;g.stopPropagation=q;g.target=b;g.type=c;d=g}do b[e]&&b[e].apply(b,f);while(d&&d.bubbles&&(b=b.parentNode));return d&&d.cancelable&&d},d=e("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!e("event-stopimmediatepropagation"))var c=function(){this.modified=this.immediatelyStopped=!0},g=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=
c,a.apply(this,arguments)}};if(e("dom-addeventlistener"))k.emit=function(a,b,c){if(a.dispatchEvent&&document.createEvent){var d=(a.ownerDocument||document).createEvent("HTMLEvents");d.initEvent(b,!!c.bubbles,!!c.cancelable);for(var e in c)e in d||(d[e]=c[e]);return a.dispatchEvent(d)&&d}return f.apply(k,arguments)};else{k._fixEvent=function(a,b){a||(a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event);if(!a)return a;try{r&&(a.type==r.type&&a.srcElement==r.target)&&(a=r)}catch(c){}if(!a.target)switch(a.target=
a.srcElement,a.currentTarget=b||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||(a.stopPropagation=s,a.preventDefault=x),a.type){case "keypress":var d="charCode"in a?a.charCode:a.keyCode;10==d?(d=0,a.keyCode=13):13==d||27==d?d=0:3==d&&(d=99);a.charCode=d;d=a;d.keyChar=d.charCode?String.fromCharCode(d.charCode):"";d.charOrCode=d.keyChar||d.keyCode}return a};var r,t=function(a){this.handle=a};t.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};
var v=function(a){return function(b){b=k._fixEvent(b,this);var c=a.call(this,b);b.modified&&(r||setTimeout(function(){r=null}),r=b);return c}},u=function(a,c,d){d=v(d);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>e("jscript"))&&!e("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var f=a[c];if(!f||!f.listeners){var g=f,f=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
f.listeners=[];a[c]=f;f.global=this;g&&f.listeners.push(_dojoIEListeners_.push(g)-1)}f.listeners.push(a=f.global._dojoIEListeners_.push(d)-1);return new t(a)}return b.after(a,c,d,!0)},s=function(){this.cancelBubble=!0},x=k._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(e("touch"))var A=function(){},w=window.orientation,F=function(a){return function(b){var c=b.corrected;if(!c){var d=
b.type;try{delete b.type}catch(f){}if(b.type){if(e("touch-can-modify-event-delegate"))A.prototype=b,c=new A;else{var c={},g;for(g in b)c[g]=b[g]}c.preventDefault=function(){b.preventDefault()};c.stopPropagation=function(){b.stopPropagation()}}else c=b,c.type=d;b.corrected=c;if("resize"==d){if(w==window.orientation)return null;w=window.orientation;c.type="orientationchange";return a.call(this,c)}"rotation"in c||(c.rotation=0,c.scale=1);var d=c.changedTouches[0],h;for(h in d)delete c[h],c[h]=d[h]}return a.call(this,
c)}};return k})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(b,l,e){b._name="browser";l.mixin(b,{isBrowser:!0,isFF:e("ff"),isIE:e("ie"),isKhtml:e("khtml"),isWebKit:e("webkit"),isMozilla:e("mozilla"),isMoz:e("mozilla"),isOpera:e("opera"),isSafari:e("safari"),isChrome:e("chrome"),isMac:e("mac"),isIos:e("ios"),isAndroid:e("android"),isWii:e("wii"),isQuirks:e("quirks"),isAir:e("air")});return e})},"dojo/errors/create":function(){define(["../_base/lang"],function(b){return function(l,
e,p,n){p=p||Error;var q=function(b){if(p===Error){Error.captureStackTrace&&Error.captureStackTrace(this,q);var k=Error.call(this,b),h;for(h in k)k.hasOwnProperty(h)&&(this[h]=k[h]);this.message=b;this.stack=k.stack}else p.apply(this,arguments);e&&e.apply(this,arguments)};q.prototype=b.delegate(p.prototype,n);q.prototype.name=l;return q.prototype.constructor=q}})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(b,l,e){function p(a){return m[a]=new Function("item","index",
"array",a)}function n(a){var b=!a;return function(d,c,e){var h=0,k=d&&d.length||0,l;k&&"string"==typeof d&&(d=d.split(""));"string"==typeof c&&(c=m[c]||p(c));if(e)for(;h<k;++h){if(l=!c.call(e,d[h],h,d),a^l)return!l}else for(;h<k;++h)if(l=!c(d[h],h,d),a^l)return!l;return b}}function q(a){var b=1,d=0,c=0;a||(b=d=c=-1);return function(e,l,m,n){if(n&&0<b)return h.lastIndexOf(e,l,m);n=e&&e.length||0;var q=a?n+c:d;m===k?m=a?d:n+c:0>m?(m=n+m,0>m&&(m=d)):m=m>=n?n+c:m;for(n&&"string"==typeof e&&(e=e.split(""));m!=
q;m+=b)if(e[m]==l)return m;return-1}}var m={},k,h={every:n(!1),some:n(!0),indexOf:q(!0),lastIndexOf:q(!1),forEach:function(a,b,d){var c=0,e=a&&a.length||0;e&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=m[b]||p(b));if(d)for(;c<e;++c)b.call(d,a[c],c,a);else for(;c<e;++c)b(a[c],c,a)},map:function(a,b,d,c){var e=0,h=a&&a.length||0;c=new (c||Array)(h);h&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=m[b]||p(b));if(d)for(;e<h;++e)c[e]=b.call(d,a[e],e,a);else for(;e<h;++e)c[e]=
b(a[e],e,a);return c},filter:function(a,b,d){var c=0,e=a&&a.length||0,h=[],k;e&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=m[b]||p(b));if(d)for(;c<e;++c)k=a[c],b.call(d,k,c,a)&&h.push(k);else for(;c<e;++c)k=a[c],b(k,c,a)&&h.push(k);return h},clearCache:function(){m={}}};e.mixin(b,h);return h})},"dojo/_base/json":function(){define(["./kernel","../json"],function(b,l){b.fromJson=function(b){return eval("("+b+")")};b._escapeString=l.stringify;b.toJsonIndentStr="\t";b.toJson=function(e,
p){return l.stringify(e,function(b,e){if(e){var l=e.__json__||e.json;if("function"==typeof l)return l.call(e)}return e},p&&b.toJsonIndentStr)};return b})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(b,l,e){var p={global:b.global,doc:b.global.document||null,body:function(e){e=e||b.doc;return e.body||e.getElementsByTagName("body")[0]},setContext:function(e,l){b.global=p.global=e;b.doc=p.doc=l},withGlobal:function(e,l,m,k){var h=b.global;try{return b.global=p.global=
e,p.withDoc.call(null,e.document,l,m,k)}finally{b.global=p.global=h}},withDoc:function(l,q,m,k){var h=p.doc,a=e("quirks"),f=e("ie"),d,c,g;try{b.doc=p.doc=l;b.isQuirks=e.add("quirks","BackCompat"==b.doc.compatMode,!0,!0);if(e("ie")&&(g=l.parentWindow)&&g.navigator)d=parseFloat(g.navigator.appVersion.split("MSIE ")[1])||void 0,(c=l.documentMode)&&(5!=c&&Math.floor(d)!=c)&&(d=c),b.isIE=e.add("ie",d,!0,!0);m&&"string"==typeof q&&(q=m[q]);return q.apply(m,k||[])}finally{b.doc=p.doc=h,b.isQuirks=e.add("quirks",
a,!0,!0),b.isIE=e.add("ie",f,!0,!0)}}};l.mixin(b,p);return p})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(b,l,e){function p(b){if("string"==typeof b||b instanceof String){if(b&&!q.test(b))return m[0]=b,m;b=b.split(q);b.length&&!b[0]&&b.shift();b.length&&!b[b.length-1]&&b.pop();return b}return!b?[]:l.filter(b,function(a){return a})}var n,q=/\s+/,m=[""],k={};return n={contains:function(b,a){return 0<=(" "+e.byId(b).className+" ").indexOf(" "+a+" ")},add:function(b,
a){b=e.byId(b);a=p(a);var f=b.className,d,f=f?" "+f+" ":" ";d=f.length;for(var c=0,g=a.length,k;c<g;++c)(k=a[c])&&0>f.indexOf(" "+k+" ")&&(f+=k+" ");d<f.length&&(b.className=f.substr(1,f.length-2))},remove:function(h,a){h=e.byId(h);var f;if(void 0!==a){a=p(a);f=" "+h.className+" ";for(var d=0,c=a.length;d<c;++d)f=f.replace(" "+a[d]+" "," ");f=b.trim(f)}else f="";h.className!=f&&(h.className=f)},replace:function(b,a,f){b=e.byId(b);k.className=b.className;n.remove(k,f);n.add(k,a);b.className!==k.className&&
(b.className=k.className)},toggle:function(b,a,f){b=e.byId(b);if(void 0===f){a=p(a);for(var d=0,c=a.length,g;d<c;++d)g=a[d],n[n.contains(b,g)?"remove":"add"](b,g)}else n[f?"add":"remove"](b,a);return f}}})},"dojo/_base/config":function(){define(["../has","require"],function(b,l){var e={},p=l.rawConfig,n;for(n in p)e[n]=p[n];if(!e.locale&&"undefined"!=typeof navigator&&(p=navigator.language||navigator.userLanguage))e.locale=p.toLowerCase();return e})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color ./has!dojo-firebug?./_firebug/firebug ./_base/browser ./_base/loader".split(" "),
function(b,l,e,p,n,q,m,k){m.isDebug&&e(["./_firebug/firebug"]);var h=m.require;h&&(h=q.map(n.isArray(h)?h:[h],function(a){return a.replace(/\./g,"/")}),b.isAsync?e(h):k(1,function(){e(h)}));return b})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(b,l,e,p){if(l._fixEvent){var n=l._fixEvent;l._fixEvent=function(b,e){(b=n(b,e))&&p.normalizeEvent(b);return b}}var q={fix:function(b,e){return l._fixEvent?l._fixEvent(b,e):b},stop:function(b){e("dom-addeventlistener")||
b&&b.preventDefault?(b.preventDefault(),b.stopPropagation()):(b=b||window.event,b.cancelBubble=!0,l._preventDefault.call(b))}};b.fixEvent=q.fix;b.stopEvent=q.stop;return q})},"dojo/sniff":function(){define(["./has"],function(b){var l=navigator,e=l.userAgent,l=l.appVersion,p=parseFloat(l);b.add("air",0<=e.indexOf("AdobeAIR"));b.add("msapp",parseFloat(e.split("MSAppHost/")[1])||void 0);b.add("khtml",0<=l.indexOf("Konqueror")?p:void 0);b.add("webkit",parseFloat(e.split("WebKit/")[1])||void 0);b.add("chrome",
parseFloat(e.split("Chrome/")[1])||void 0);b.add("safari",0<=l.indexOf("Safari")&&!b("chrome")?parseFloat(l.split("Version/")[1]):void 0);b.add("mac",0<=l.indexOf("Macintosh"));b.add("quirks","BackCompat"==document.compatMode);if(e.match(/(iPhone|iPod|iPad)/)){var n=RegExp.$1.replace(/P/,"p"),q=e.match(/OS ([\d_]+)/)?RegExp.$1:"1",q=parseFloat(q.replace(/_/,".").replace(/_/g,""));b.add(n,q);b.add("ios",q)}b.add("android",parseFloat(e.split("Android ")[1])||void 0);b.add("bb",(0<=e.indexOf("BlackBerry")||
0<=e.indexOf("BB10"))&&parseFloat(e.split("Version/")[1])||void 0);b.add("trident",parseFloat(l.split("Trident/")[1])||void 0);b.add("svg","undefined"!==typeof SVGAngle);b("webkit")||(0<=e.indexOf("Opera")&&b.add("opera",9.8<=p?parseFloat(e.split("Version/")[1])||p:p),0<=e.indexOf("Gecko")&&(!b("khtml")&&!b("webkit")&&!b("trident"))&&b.add("mozilla",p),b("mozilla")&&b.add("ff",parseFloat(e.split("Firefox/")[1]||e.split("Minefield/")[1])||void 0),document.all&&!b("opera")&&(e=parseFloat(l.split("MSIE ")[1])||
void 0,(l=document.documentMode)&&(5!=l&&Math.floor(e)!=l)&&(e=l),b.add("ie",e)),b.add("wii","undefined"!=typeof opera&&opera.wiiremote));return b})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(b,l,e,p){function n(b){var d=a[b.options.handleAs];b.data=d?d(b):b.data||b.text;return b}p.add("activex","undefined"!==typeof ActiveXObject);p.add("dom-parser",function(a){return"DOMParser"in a});var q;if(p("activex")){var m=
["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"],k;q=function(a){function b(a){try{var d=new ActiveXObject(a);d.async=!1;d.loadXML(g);c=d;k=a}catch(f){return!1}return!0}var c=a.data,g=a.text;c&&(p("dom-qsa2.1")&&!c.querySelectorAll&&p("dom-parser"))&&(c=(new DOMParser).parseFromString(g,"application/xml"));if(!c||!c.documentElement)(!k||!b(k))&&e.some(m,b);return c}}var h=function(a){return!p("native-xhr2-blob")&&"blob"===a.options.handleAs&&"undefined"!==
typeof Blob?new Blob([a.xhr.response],{type:a.xhr.getResponseHeader("Content-Type")}):a.xhr.response},a={javascript:function(a){return l.eval(a.text||"")},json:function(a){return b.parse(a.text||null)},xml:q,blob:h,arraybuffer:h,document:h};n.register=function(b,d){a[b]=d};return n})},"dojo/aspect":function(){define([],function(){function b(b,e,a,f){var d=b[e],c="around"==e,g;if(c){var l=a(function(){return d.advice(this,arguments)});g={remove:function(){l&&(l=b=a=null)},advice:function(a,b){return l?
l.apply(a,b):d.advice(a,b)}}}else g={remove:function(){if(g.advice){var c=g.previous,d=g.next;!d&&!c?delete b[e]:(c?c.next=d:b[e]=d,d&&(d.previous=c));b=a=g.advice=null}},id:p++,advice:a,receiveArguments:f};if(d&&!c)if("after"==e){for(;d.next&&(d=d.next););d.next=g;g.previous=d}else"before"==e&&(b[e]=g,g.next=d,d.previous=g);else b[e]=g;return g}function l(k){return function(h,a,f,d){var c=h[a],g;if(!c||c.target!=h)h[a]=g=function(){for(var a=p,b=arguments,c=g.before;c;)b=c.advice.apply(this,b)||
b,c=c.next;if(g.around)var d=g.around.advice(this,b);for(c=g.after;c&&c.id<a;){if(c.receiveArguments)var f=c.advice.apply(this,b),d=f===e?d:f;else d=c.advice.call(this,d,b);c=c.next}return d},c&&(g.around={advice:function(a,b){return c.apply(a,b)}}),g.target=h;h=b(g||c,k,f,d);f=null;return h}}var e,p=0,n=l("after"),q=l("before"),m=l("around");return{before:q,around:m,after:n}})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(b,l,e,p,n){var q=
0,m=[],k=0;l=function(){q=1;b._postLoad=b.config.afterOnLoad=!0;h()};var h=function(){if(!k){for(k=1;q&&(!p||0==p._Q.length)&&(e.idle?e.idle():1)&&m.length;){var a=m.shift();try{a()}catch(b){if(b.info=b.message,e.signal)e.signal("error",b);else throw b;}}k=0}};e.on&&e.on("idle",h);p&&(p._onQEmpty=h);var a=b.ready=b.addOnLoad=function(a,c,e){var f=n._toArray(arguments);"number"!=typeof a?(e=c,c=a,a=1E3):f.shift();e=e?n.hitch.apply(b,f):function(){c()};e.priority=a;for(f=0;f<m.length&&a>=m[f].priority;f++);
m.splice(f,0,e);h()},f=b.config.addOnLoad;if(f)a[n.isArray(f)?"apply":"call"](b,f);b.config.parseOnLoad&&!b.isAsync&&a(99,function(){b.parser||(b.deprecated("Add explicit require(['dojo/parser']);","","2.0"),e(["dojo/parser"]))});p?p(l):l();return a})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(b,l,e,p,n,q,m,k){function h(a,c,d,e,f){e=k.hitch(d,e);if(!a||!a.addEventListener&&!a.attachEvent)return p.after(a||
b.global,c,e,!0);"string"==typeof c&&"on"==c.substring(0,2)&&(c=c.substring(2));a||(a=b.global);if(!f)switch(c){case "keypress":c=g;break;case "mouseenter":c=q.enter;break;case "mouseleave":c=q.leave}return l(a,c,e,f)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}m.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,
!1,9,3)}catch(b){}return 0==a.charCode&&!m("opera")});var f={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},d=m("mac")?"metaKey":"ctrlKey",c=function(b,c){var d=k.mixin({},b,c);a(d);d.preventDefault=function(){b.preventDefault()};d.stopPropagation=function(){b.stopPropagation()};return d},g;g=m("events-keypress-typed")?function(a,b){var d=l(a,"keydown",function(a){var d=a.keyCode,e=13!=d&&32!=d&&(27!=d||!m("ie"))&&(48>d||90<d)&&(96>d||111<d)&&(186>
d||192<d)&&(219>d||222<d)&&229!=d;if(e||a.ctrlKey){e=e?0:d;if(a.ctrlKey){if(3==d||13==d)return b.call(a.currentTarget,a);e=95<e&&106>e?e-48:!a.shiftKey&&65<=e&&90>=e?e+32:f[e]||e}d=c(a,{type:"keypress",faux:!0,charCode:e});b.call(a.currentTarget,d);if(m("ie"))try{a.keyCode=d.keyCode}catch(g){}}}),e=l(a,"keypress",function(a){var d=a.charCode;a=c(a,{charCode:32<=d?d:0,faux:!0});return b.call(this,a)});return{remove:function(){d.remove();e.remove()}}}:m("opera")?function(a,b){return l(a,"keypress",
function(a){var d=a.which;3==d&&(d=99);d=32>d&&!a.shiftKey?0:d;a.ctrlKey&&(!a.shiftKey&&65<=d&&90>=d)&&(d+=32);return b.call(this,c(a,{charCode:d}))})}:function(b,c){return l(b,"keypress",function(b){a(b);return c.call(this,b)})};var r={_keypress:g,connect:function(a,b,c,d,e){var f=arguments,g=[],k=0;g.push("string"==typeof f[0]?null:f[k++],f[k++]);var l=f[k+1];g.push("string"==typeof l||"function"==typeof l?f[k++]:null,f[k++]);for(l=f.length;k<l;k++)g.push(f[k]);return h.apply(this,g)},disconnect:function(a){a&&
a.remove()},subscribe:function(a,b,c){return e.subscribe(a,k.hitch(b,c))},publish:function(a,b){return e.publish.apply(e,[a].concat(b))},connectPublisher:function(a,b,c){var d=function(){r.publish(a,arguments)};return c?r.connect(b,c,d):r.connect(b,d)},isCopyKey:function(a){return a[d]}};r.unsubscribe=r.disconnect;k.mixin(b,r);return r})},"dojo/errors/CancelError":function(){define(["./create"],function(b){return b("CancelError",null,null,{dojoType:"cancel"})})},"*noref":1}});
(function(){var b=this.require;b({cache:{}});!b.async&&b(["dojo"]);b.boot&&b.apply(null,b.boot)})();
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.11/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/TimeReference":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(f,l,p,r){f=f(null,{declaredClass:"esri.layers.TimeReference",constructor:function(d){d&&l.mixin(this,d)}});p("extend-esri")&&l.setObject("layers.TimeReference",f,r);return f})},"esri/symbols/Font":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang".split(" "),function(f,l,p,r,d,n){f=f(null,{declaredClass:"esri.symbol.Font",
constructor:function(d,g,a,b,c){d?l.isObject(d)?l.mixin(this,d):(this.size=d,parseFloat(this.size)==this.size&&(this.size+="px"),void 0!==g&&(this.style=g),void 0!==a&&(this.variant=a),void 0!==b&&(this.weight=b),void 0!==c&&(this.family=c)):l.mixin(this,r.defaultFont);parseFloat(this.size)==this.size&&(this.size+="pt");9>p("ie")&&(this.size&&l.isString(this.size)&&-1<this.size.indexOf("em"))&&(this.size=r.pt2px(12*parseFloat(this.size))+"px");this.size=this._convert2PxSize(this.size)},setSize:function(d){this.size=
this._convert2PxSize(d);return this},_convert2PxSize:function(d){var g;parseFloat(d)==d?g=d:l.isString(d)&&(-1<d.indexOf("pt")?g=r.pt2px(parseFloat(d)):-1<d.indexOf("px")?g=parseFloat(d):-1<d.indexOf("em")?g=r.pt2px(12*parseFloat(d)):-1<d.indexOf("%")&&(g=r.pt2px(0.12*parseFloat(d))));return g},setStyle:function(d){this.style=d;return this},setVariant:function(d){this.variant=d;return this},setWeight:function(d){this.weight=d;return this},setFamily:function(d){this.family=d;return this},setDecoration:function(d){this.decoration=
d;return this},toJson:function(){return n.fixJson({size:r.px2pt(this.size),style:this.style,variant:this.variant,decoration:this.decoration,weight:this.weight,family:this.family})}});l.mixin(f,{STYLE_NORMAL:"normal",STYLE_ITALIC:"italic",STYLE_OBLIQUE:"oblique",VARIANT_NORMAL:"normal",VARIANT_SMALLCAPS:"small-caps",WEIGHT_NORMAL:"normal",WEIGHT_BOLD:"bold",WEIGHT_BOLDER:"bolder",WEIGHT_LIGHTER:"lighter"});p("extend-esri")&&l.setObject("symbol.Font",f,d);return f})},"esri/sniff":function(){define(["dojo/_base/sniff",
"./kernel"],function(f,l){var p=f("ff"),r=f("ie"),d=void 0===r&&7<=f("trident"),n=f("webkit"),m=f("opera"),g=f("chrome"),a=f("safari"),b=navigator.userAgent,c;(c=b.match(/(iPhone|iPad|CPU)\s+OS\s+(\d+\_\d+)/i))&&f.add("esri-iphone",parseFloat(c[2].replace("_",".")));(c=b.match(/Android\s+(\d+\.\d+)/i))&&f.add("esri-android",parseFloat(c[1]));(c=b.match(/Fennec\/(\d+\.\d+)/i))&&f.add("esri-fennec",parseFloat(c[1]));0<=b.indexOf("BlackBerry")&&0<=b.indexOf("WebKit")&&f.add("esri-blackberry",1);f.add("esri-touch",
f("esri-iphone")||f("esri-android")||f("esri-blackberry")||6<=f("esri-fennec")||(p||n)&&document.createTouch?!0:!1);f.add("esri-pointer",navigator.pointerEnabled||navigator.msPointerEnabled);l._getDOMAccessor=function(a){var b="";p?b="Moz":n?b="Webkit":r?b="ms":m&&(b="O");return b+a.charAt(0).toUpperCase()+a.substr(1)};f.add("esri-phonegap",!!window.cordova);f.add("esri-cors",f("esri-phonegap")||"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest);f.add("esri-file-upload",window.FormData&&
window.FileList?!0:!1);f.add("esri-workers",window.Worker?!0:!1);f.add("esri-transforms",d||9<=r||3.5<=p||4<=g||3.1<=a||10.5<=m||3.2<=f("esri-iphone")||2.1<=f("esri-android"));f.add("esri-transitions",d||10<=r||4<=p||4<=g||3.1<=a||10.5<=m||3.2<=f("esri-iphone")||2.1<=f("esri-android"));f.add("esri-transforms3d",d||10<=p||12<=g||4<=a||3.2<=f("esri-iphone")||3<=f("esri-android"));f.add("esri-url-encodes-apostrophe",function(){var a=window.document.createElement("a");a.href="?'";return-1<a.href.indexOf("?%27")});
3>f("esri-android")&&(f.add("esri-transforms",!1,!1,!0),f.add("esri-transitions",!1,!1,!0),f.add("esri-transforms3d",!1,!1,!0));l._css=function(b){var c=f("esri-transforms3d");if(void 0!==b&&null!==b)c=b;else if(c&&(g||a&&!f("esri-iphone")))c=!1;var h=c?"translate3d(":"translate(",s=c?g?",-1px)":",0px)":")",q=c?"scale3d(":"scale(",t=c?",1)":")",d=c?"rotate3d(0,0,1,":"rotate(",l=c?"matrix3d(":"matrix(",v=c?",0,0,":",",C=c?",0,0,0,0,1,0,":",",z=c?",0,1)":")";return{names:{transition:n&&"-webkit-transition"||
p&&"MozTransition"||m&&"OTransition"||r&&"msTransition"||"transition",transform:n&&"-webkit-transform"||p&&"MozTransform"||m&&"OTransform"||r&&"msTransform"||"transform",transformName:n&&"-webkit-transform"||p&&"-moz-transform"||m&&"-o-transform"||r&&"-ms-transform"||"transform",origin:n&&"-webkit-transform-origin"||p&&"MozTransformOrigin"||m&&"OTransformOrigin"||r&&"msTransformOrigin"||"transformOrigin",endEvent:n&&"webkitTransitionEnd"||p&&"transitionend"||m&&"oTransitionEnd"||r&&"MSTransitionEnd"||
"transitionend"},translate:function(a,b){return h+a+"px,"+b+"px"+s},scale:function(a){return q+a+","+a+t},rotate:function(a){return d+a+"deg)"},matrix:function(a){return l+a.xx+","+a.xy+v+a.yx+","+a.yy+C+a.dx.toFixed(10)+(p?"px,":",")+a.dy.toFixed(10)+(p?"px":"")+z}}};f("extend-esri")&&(l.isiPhone=f("esri-iphone"),l.isAndroid=f("esri-android"),l.isFennec=f("esri-fennec"),l.isBlackBerry=f("esri-blackberry"),l.isTouchEnabled=f("esri-touch"),l.isPointerEnabled=f("esri-pointer"),l._hasCors=f("esri-cors"),
l._hasFileUpload=f("esri-file-upload"),l._hasTransforms=f("esri-transforms"),l._hasTransitions=f("esri-transitions"),l._has3DTransforms=f("esri-transforms3d"));return f})},"esri/layers/agscommon":function(){define("./ArcGISMapServiceLayer ./LayerInfo ./TimeInfo ./LayerTimeOptions ./TimeReference ./Field ./Domain ./RangeDomain ./CodedValueDomain ./InheritedDomain ./LayerSource ./LayerMapSource ./LayerDataSource ./DataSource ./TableDataSource ./QueryDataSource ./JoinDataSource ./RasterDataSource ./DynamicLayerInfo ./LayerDrawingOptions ../geometry ../utils".split(" "),
function(){return{}})},"esri/TimeExtent":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","./kernel"],function(f,l,p,r){var d=f(null,{declaredClass:"esri.TimeExtent",constructor:function(d){if(1<arguments.length)this._create(arguments[0],arguments[1]);else if(d)if(l.isArray(d)){var m=d[0],g=d[1];this.startTime=null===m||"null"===m?null:new Date(m);this.endTime=null===g||"null"===g?null:new Date(g)}else d instanceof Date&&this._create(d,null)},offset:function(n,m){var g=new d,a=
this.startTime,b=this.endTime;a&&(g.startTime=this._getOffsettedDate(a,n,m));b&&(g.endTime=this._getOffsettedDate(b,n,m));return g},intersection:function(d){return this._intersection(this,d)},toJson:function(){var d=[],m=this.startTime;d.push(m?m.getTime():"null");m=this.endTime;d.push(m?m.getTime():"null");return d},_create:function(d,m){this.startTime=d?new Date(d.getTime()):null;this.endTime=m?new Date(m.getTime()):null},_refData:{esriTimeUnitsMilliseconds:{getter:"getUTCMilliseconds",setter:"setUTCMilliseconds",
multiplier:1},esriTimeUnitsSeconds:{getter:"getUTCSeconds",setter:"setUTCSeconds",multiplier:1},esriTimeUnitsMinutes:{getter:"getUTCMinutes",setter:"setUTCMinutes",multiplier:1},esriTimeUnitsHours:{getter:"getUTCHours",setter:"setUTCHours",multiplier:1},esriTimeUnitsDays:{getter:"getUTCDate",setter:"setUTCDate",multiplier:1},esriTimeUnitsWeeks:{getter:"getUTCDate",setter:"setUTCDate",multiplier:7},esriTimeUnitsMonths:{getter:"getUTCMonth",setter:"setUTCMonth",multiplier:1},esriTimeUnitsYears:{getter:"getUTCFullYear",
setter:"setUTCFullYear",multiplier:1},esriTimeUnitsDecades:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:10},esriTimeUnitsCenturies:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:100}},_intersection:function(n,m){if(n&&m){var g=n.startTime,a=n.endTime,b=m.startTime,c=m.endTime,g=g?g.getTime():-Infinity,b=b?b.getTime():-Infinity,a=a?a.getTime():Infinity,c=c?c.getTime():Infinity,e,k;b>=g&&b<=a?e=b:g>=b&&g<=c&&(e=g);a>=b&&a<=c?k=a:c>=g&&c<=a&&(k=c);if(!isNaN(e)&&!isNaN(k))return g=
new d,g.startTime=-Infinity===e?null:new Date(e),g.endTime=Infinity===k?null:new Date(k),g}return null},_getOffsettedDate:function(d,m,g){var a=this._refData;d=new Date(d.getTime());m&&g&&(a=a[g],d[a.setter](d[a.getter]()+m*a.multiplier));return d}});p("extend-esri")&&(r.TimeExtent=d);return d})},"esri/symbols/FillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ./Symbol ./SimpleLineSymbol".split(" "),function(f,l,p,r,d,n){f=f(d,{declaredClass:"esri.symbol.FillSymbol",
constructor:function(d){d&&(l.isObject(d)&&d.outline)&&(this.outline=new n(d.outline))},setOutline:function(d){this.outline=d;return this},toJson:function(){var d=this.inherited("toJson",arguments);this.outline&&(d.outline=this.outline.toJson());return d}});p("extend-esri")&&l.setObject("symbol.FillSymbol",f,r);return f})},"esri/_coremap":function(){define("require module dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/Deferred dojo/_base/lang dojo/_base/array dojo/_base/event dojo/_base/unload dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/sniff dijit/registry dojox/gfx/matrix ./kernel ./config ./lang ./Evented ./fx ./deferredUtils ./tileUtils ./PluginTarget ./geometry/Point ./geometry/ScreenPoint ./geometry/Extent ./geometry/Rect ./geometry/mathUtils ./geometry/scaleUtils ./geometry/screenUtils ./geometry/webMercatorUtils ./layers/GraphicsLayer ./layers/TileInfo ./layers/LOD ./layers/ArcGISTiledMapServiceLayer ./layers/OpenStreetMapLayer ./dijit/Popup ./plugins/popupManager dojo/uacss".split(" "),
function(f,l,p,r,d,n,m,g,a,b,c,e,k,h,s,q,t,u,x,v,C,z,w,D,B,A,y,H,F,E,G,K,I,J,Q,P,M,S,T,Y,aa){function ca(a,b){var e=a.lods;e.sort(function(a,b){return a.scale>b.scale?-1:a.scale<b.scale?1:0});var c=[],e=g.filter(e,function(a){if(-1===W(c,a.scale))return c.push(a.scale),!0}),q=b.lods=[],h;g.forEach(e,function(a,b){h=q[b]=new S(a);h.level=b});b.tileInfo=new M(X(a,{lods:q}))}var Z,U=J.toMapPoint,L=J.toScreenPoint,$=d.connect,V=d.disconnect,N=m.hitch,R=q.set,W=g.indexOf,X=m.mixin,ba=0,O=C.defaults.map,
ea=function(){};r=r([w,y],{declaredClass:"esri._CoreMap",resizeDelay:300,invalidExtent:"Map does not have a valid extent.",invalidGeometry:"Geometry (wkid: ${geometry}) cannot be converted to spatial reference of the map (wkid: ${map})",unknownBasemap:'Unable to find basemap definition for: "${basemapName}". Try one of these: ${list}',invalidBasemap:'Unable to add basemap: "${basemapName}".',unknownLayerType:'Unknown basemap layer type: "${type}" found in basemap definition for: "${basemapName}".',
visible:!0,_eventMap:{"basemap-change":!0,"extent-change":["extent","delta","levelChange","lod"],"layer-add":["layer"],"layer-add-result":["layer","error"],"layer-remove":["layer"],"layer-reorder":["layer","index"],"layer-resume":["layer"],"layer-suspend":["layer"],"layers-add-result":["layers"],"layers-removed":!0,"layers-reordered":["layerIds"],load:["map"],pan:["extent","delta"],"pan-end":["extent","delta"],"pan-start":["extent","screenPoint"],reposition:["x","y"],resize:["extent","width","height"],
scale:["matrix","immediate"],"time-extent-change":["timeExtent"],"before-unload":["map"],unload:["map"],"update-end":["error"],"update-start":!0,zoom:["extent","zoomFactor","anchor"],"zoom-end":["extent","zoomFactor","anchor","level"],"zoom-start":["extent","zoomFactor","anchor","level"],click:!0,"dbl-click":!0,"key-down":!0,"key-up":!0,"mouse-down":!0,"mouse-drag":!0,"mouse-drag-end":!0,"mouse-drag-start":!0,"mouse-move":!0,"mouse-out":!0,"mouse-over":!0,"mouse-up":!0,"mouse-wheel":!0,"basic-tap":!0,
"double-tap":!0,"pinch-end":!0,"pinch-move":!0,"pinch-start":!0,"processed-double-tap":!0,"processed-tap":!0,"swipe-end":!0,"swipe-move":!0,"swipe-start":!0,tap:!0,"two-finger-tap":!0},constructor:function(a,q){var g=this;this.registerConnectEvents();X(this,{_internalLayerIds:[],_layers:[],_layerDivs:[],_layerSize:0,_connects:[],_zoomAnimDiv:null,_zoomAnim:null,_layersDiv:null,_firstLayerId:null,_delta:null,_cursor:null,_ratioW:1,_ratioH:1,_params:null,cursor:null,layerIds:[],graphicsLayerIds:[],
graphics:null,_labels:null,loaded:!1,__panning:!1,__zooming:!1,__container:null,root:null,__LOD:null,__tileInfo:null,__visibleRect:null,__visibleDelta:null,_rids:[]});var t=this.container=c.byId(a),d=this.id=e.get(t,"id")||u.getUniqueId(this.declaredClass);k.add(t,"map");var m=s.getContentBox(t),E=k.add,n=h.create;this.position=new F(0,0);this._reposition();var l=this.width=m.w||O.width,v=this.height=m.h||O.height;0===m.w&&R(t,"width",l+"px");0===m.h&&R(t,"height",v+"px");var r=this.root=n("div",
{id:d+"_root",style:{width:l+"px",height:v+"px",direction:"ltr"}});E(r,"container");m=this.__container=n("div",{id:d+"_container"},r);R(m,"position","absolute");E(m,"container");t.appendChild(r);t=this._params=X({slider:!0,nav:!1,zoom:-1,minZoom:-1,maxZoom:-1,scale:-1,minScale:0,maxScale:0,showInfoWindowOnClick:!0,displayGraphicsOnPan:!0,wrapAround180:!0,fitExtent:!1,optimizePanAnimation:!0},q||{});this.wrapAround180=t.wrapAround180;this.optimizePanAnimation=t.optimizePanAnimation;z.isDefined(t.resizeDelay)&&
(this.resizeDelay=t.resizeDelay);t.lods&&(ca({rows:512,cols:512,dpi:96,format:"JPEG",compressionQuality:75,origin:{x:-180,y:90},spatialReference:{wkid:4326},lods:t.lods},t),this.__tileInfo=t.tileInfo);this.extent=t.extent;this._extentUtil({mapCenter:t.center,targetLevel:t.zoom,targetScale:t.scale});this.__visibleRect=new G(0,0,l,v);this.__visibleDelta=new G(0,0,l,v);d=this._layersDiv=n("div",{id:d+"_layers"});E(d,"layersDiv");m.appendChild(d);this._zoomAnimDiv=n("div",{style:{position:"absolute"}});
t.infoWindow?this.infoWindow=t.infoWindow:(E=this.infoWindow=new aa(t.popupOptions,n("div")),E.startup(),E._ootb=!0,R(E.domNode,"zIndex",40));t.showLabels&&(f(["./layers/LabelLayer"],function(a){Z=a;g._createLabelLayer()}),this.on("load",function(){g._createLabelLayer()}));this.addPlugin(this._getAbsMid("./plugins/popupManager"),{enabled:t.showInfoWindowOnClick});this._zoomStartHandler=N(this,this._zoomStartHandler);this._zoomingHandler=N(this,this._zoomingHandler);this._zoomEndHandler=N(this,this._zoomEndHandler);
this._panningHandler=N(this,this._panningHandler);this._panEndHandler=N(this,this._panEndHandler);this._endTranslate=N(this,this._endTranslate);b.addOnWindowUnload(this,this.destroy)},_getAbsMid:function(a){return f.toAbsMid?f.toAbsMid(a):l.id.replace(/\/[^\/]*$/ig,"/")+a},_cleanUp:function(){var a=this.infoWindow;a&&(a._ootb&&a.destroy?a.destroy():a.unsetMap(this),delete this.infoWindow);V(this._tsTimeExtentChange_connect);this.removePlugin("./plugins/popupManager");h.destroy(this.root);this.root=
null},_addLayer:function(a,b,e){var c=a.id=a.id||(a instanceof P?O.graphicsLayerNamePrefix:O.layerNamePrefix)+ba++;this._layers[c]=a;var q,h;if(b===this.layerIds||b===this.graphicsLayerIds)q=this._layerSize,this._layerSize++;a._isRefLayer="top"===e;e=!z.isDefined(e)||0>e||e>b.length||"top"===e?b.length:e;0===q&&(this._firstLayerId=c);if(!a._isRefLayer)for(;(h=this.getLayer(b[e-1]))&&h._isRefLayer;)e--;b.splice(e,0,c);var k=N(this,this._addLayerHandler),t=this;e=this._connects;h=function(){a.loaded?
t._onLoadFix?(t._onLoadFix=!1,setTimeout(function(){k(a)},0)):k(a):(t[c+"_addtoken_load"]=$(a,"onLoad",t,"_addLayerHandler"),t[c+"_addtoken_err"]=$(a,"onError",t,function(e){k(a,e,b)}))};this.loaded||0===q||a.loaded&&-1===W(this.graphicsLayerIds,c)?h():e.push($(this,"onLoad",h));return a},_addLayerHandler:function(a,b,e){var c=this.id,q=a.id,h=W(a instanceof P?this.graphicsLayerIds:this.layerIds,q),k=h,t=!1,s=this._params;V(this[q+"_addtoken_load"]);V(this[q+"_addtoken_err"]);if(b)delete this._layers[q],
-1!==h&&(e.splice(h,1),this.onLayerAddResult(a,b));else{-1===h&&(h=W(this._internalLayerIds,q),k=20+h,t=!0);if(q===this._firstLayerId){b=a.spatialReference;if((e=this.extent&&this.extent.spatialReference)&&!e.equals(b)&&(a.tileInfo||!a.url))e=null;e=this.spatialReference=e||b;this.wrapAround180=this.wrapAround180&&e&&e._isWrappable()?!0:!1;a.tileInfo&&(this.__tileInfo?(b=this.__tileInfo.lods,this.__tileInfo=X({},a.tileInfo),this.__tileInfo.lods=b):(ca(X({},a.tileInfo),s),this.__tileInfo=s.tileInfo));
if(this.wrapAround180){b=this.__tileInfo;e=e._getInfo();if(!b||Math.abs(e.origin[0]-b.origin.x)>e.dx)this.wrapAround180=!1;this.wrapAround180&&b&&A._addFrameInfo(b,e)}s.units=a.units;if((b=this.__tileInfo&&this.__tileInfo.lods)&&b.length){e=s.minScale;var h=s.maxScale,g=-1,d=-1,m=!1,u=!1,n;for(n=0;n<b.length;n++)0<e&&(!m&&e>=b[n].scale)&&(g=b[n].level,m=!0),0<h&&(!u&&h>=b[n].scale)&&(d=0<n?b[n-1].level:-1,u=!0);-1===s.minZoom&&(s.minZoom=0===e?b[0].level:g);-1===s.maxZoom&&(s.maxZoom=0===h?b[b.length-
1].level:d);for(n=0;n<b.length;n++)s.minZoom===b[n].level&&(s.minScale=b[n].scale),s.maxZoom===b[n].level&&(s.maxScale=b[n].scale)}else s.minZoom=s.maxZoom=s.zoom=-1}a instanceof P?(this._gc||(this._gc=new P._GraphicsContainer,this._gc._setMap(this,this._layersDiv).id=c+"_gc"),k=a._setMap(this,this._gc._surface),k.id=c+"_"+q,this._layerDivs[q]=k,this._reorderLayers(this.graphicsLayerIds)):(k=a._setMap(this,this._layersDiv,k,this.__LOD),k.id=c+"_"+q,this._layerDivs[q]=k,this._reorderLayers(this.layerIds),
!t&&-1!==a.declaredClass.indexOf("VETiledLayer")&&this._onBingLayerAdd(a));q===this._firstLayerId&&(this.graphics=new P({id:c+"_graphics",displayOnPan:s.displayGraphicsOnPan}),this._addLayer(this.graphics,this._internalLayerIds,20));if(a===this.graphics){e=this._layers[this._firstLayerId];c=s.zoom;k=s.scale;b=s.center;e=e.initialExtent||e.fullExtent;this._firstLayerId=null;this.extent&&(this.extent=this._convertGeometry(this,this.extent));!this.extent&&e&&(b&&(b=this._convertGeometry(e,b)),b&&(e=
e.centerAt(b)));if(b=this.extent||e&&new E(e.toJson()))-1<c?b=this.__getExtentForLevel(c,null,b).extent:0<k&&(b=I.getExtentForScale(this,k,b));if(!b){console.log("Map: "+this.invalidExtent);return}c=this._fixExtent(b,s.fitExtent);this.extent=c.extent;this.__LOD=c.lod;this.__setExtent(this.extent,null,null,s.fitExtent);this.loaded=!0;this.attr("data-loaded","");this.infoWindow.setMap(this);this.onLoad(this)}t||(this.onLayerAdd(a),this.onLayerAddResult(a));V(this[q+"_addLayerHandler_connect"])}},_convertGeometry:function(a,
b){var e=a&&a.spatialReference,c=b&&b.spatialReference;e&&(c&&!e.equals(c))&&(e._canProject(c)?e.isWebMercator()?b=Q.geographicToWebMercator(b):4326===e.wkid&&(b=Q.webMercatorToGeographic(b,!0)):(console.log("Map: "+z.substitute({geometry:c.wkid||c.wkt,map:e.wkid||e.wkt},this.invalidGeometry)),b=null));return b},_reorderLayers:function(a){var b=this.onLayerReorder,e=h.place,c=this._layerDivs,q=this._layers,k=this._gc?this._gc._surface.getEventSource():null;if(a===this.graphicsLayerIds)g.forEach(a,
function(a,h){var s=c[a];s&&(e(s.getEventSource(),k,h),b(q[a],h))});else{var s=this.graphics,d=s?s.id:null,m=this._layersDiv,E;g.forEach(a,function(a,h){E=c[a];a!==d&&E&&(e(E,m,h),b(q[a],h))});k&&(k=9>t("ie")?k.parentNode:k,e(k,k.parentNode,a.length))}this.onLayersReordered([].concat(a))},_zoomStartHandler:function(){this.__zoomStart(this._zoomAnimDiv.startingExtent,this._zoomAnimDiv.anchor)},_zoomingHandler:function(a){var b=parseFloat(a.left),e=parseFloat(a.top);a=new E(b,e-parseFloat(a.height),
b+parseFloat(a.width),e,this.spatialReference);b=this.extent.getWidth()/a.getWidth();this.__zoom(a,b,this._zoomAnimDiv.anchor)},_zoomEndHandler:function(){var a=this._zoomAnimDiv,b=a.extent,e=this.extent.getWidth()/b.getWidth(),c=a.anchor,q=a.newLod,h=a.levelChange;a.extent=a.anchor=a.levelChange=a.startingExtent=a.newLod=this._delta=this._zoomAnim=null;this.__zoomEnd(b,e,c,q,h)},_panningHandler:function(a){if(isNaN(parseFloat(a.left))||isNaN(parseFloat(a.top))){var b=Math.round,e=this._panAnim.node;
a.left=-1*(this._delta.x-b(this.width/2))+"px";a.top=-1*(this._delta.y-b(this.height/2))+"px";q.set(e,"left",a.left);q.set(e,"top",a.top)}a=new F(parseFloat(a.left),parseFloat(a.top));b=this.toMap(a);this.onPan(this.extent.offset(this.extent.xmin-b.x,this.extent.ymax-b.y),a)},_panEndHandler:function(a){this.__panning=!1;var b=Math.round;a=new F(-b(parseFloat(a.style.left)),-b(parseFloat(a.style.top)));var b=a.x,e=a.y,c=this.__visibleRect,q=this.__visibleDelta;c.x+=-b;c.y+=-e;q.x+=-b;q.y+=-e;R(this._zoomAnimDiv,
{left:"0px",top:"0px"});var c=this.extent,q=this._ratioW,h=this._ratioH,c=new E(c.xmin+b/q,c.ymin-e/h,c.xmax+b/q,c.ymax-e/h,this.spatialReference);a.setX(-a.x);a.setY(-a.y);this._delta=this._panAnim=null;this._updateExtent(c);this.onPanEnd(c,a);this._fireExtChg([c,a,!1,this.__LOD])},_fixExtent:function(a,b){for(var e=this._reshapeExtent(a),c=1.25;!0===b&&(e.extent.getWidth()<a.getWidth()||e.extent.getHeight()<a.getHeight())&&0<e.lod.level&&3>=c;)e=this._reshapeExtent(a.expand(c)),c+=0.25;return e},
_getFrameWidth:function(){var a=-1,b=this.spatialReference._getInfo();this.__LOD?(b=this.__LOD._frameInfo)&&(a=b[3]):b&&(a=Math.round(2*b.valid[1]/(this.extent.getWidth()/this.width)));return a},_reshapeExtent:function(a){var b=a.getWidth(),e=a.getHeight(),c=b/e,q=this.width/this.height,h=0,k=0;this.width>this.height?b>e?q>c?h=e*q-b:k=b/q-e:h=e*q-b:this.width<this.height?b>e?k=b/q-e:b<e?q>c?h=e*q-b:k=b/q-e:k=b/q-e:b<e?h=e-b:b>e&&(k=b/q-e);h&&(a.xmin-=h/2,a.xmax+=h/2);k&&(a.ymin-=k/2,a.ymax+=k/2);
return this._getAdjustedExtent(a)},_getAdjustedExtent:function(a){if(this.__tileInfo)return A.getCandidateTileInfo(this,this.__tileInfo,a);var b=I.getScale(this,a),e=this.getMinScale(),c=this.getMaxScale(),q=!c||b>=c;e&&!(b<=e)?a=I.getExtentForScale(this,e,a):q||(a=I.getExtentForScale(this,c,a));return{extent:a}},_onBingLayerAdd:function(a){this["__"+a.id+"_vis_connect"]=d.connect(a,"onVisibilityChange",this,"_toggleBingLogo");this._toggleBingLogo(a.visible)},_onBingLayerRemove:function(a){d.disconnect(this["__"+
a.id+"_vis_connect"]);delete this["__"+a.id+"_vis_connect"];var b=g.some(this.layerIds,function(b){return(a=this._layers[b])&&a.visible&&-1!==a.declaredClass.indexOf("VETiledLayer")},this);this._toggleBingLogo(b)},_toggleBingLogo:function(a){a&&!this._bingLogo?(a={left:this._mapParams&&this._mapParams.nav?"25px":""},6===t("ie")&&(a.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled\x3d'true', sizingMethod\x3d'crop', src\x3d'"+f.toUrl("./images/map/bing-logo-lg.png")+"')"),a=this._bingLogo=
h.create("div",{style:a},this.root),k.add(a,"bingLogo-lg")):!a&&this._bingLogo&&(h.destroy(this._bingLogo),delete this._bingLogo)},__panStart:function(a,b){var e=this._zoomAnim,c=this._panAnim;if(e&&e._active)e.stop(),e._fire("onEnd",[e.node]);else if(c&&c._active){c.stop();this._panAnim=null;var c=c.curve.getValue(c._getStep()),e=Math.round(parseFloat(c.left)),c=Math.round(parseFloat(c.top)),q=this.navigationManager._dragOrigin;this.__pan(e,c);q&&(q.x-=e,q.y-=c);return}this.__panning=!0;this.onPanStart(this.extent,
new F(a,b))},__pan:function(a,b){var e=this.extent,c=this._ratioW,q=this._ratioH;this.onPan(new E(e.xmin-a/c,e.ymin+b/q,e.xmax-a/c,e.ymax+b/q,this.spatialReference),new F(a,b))},__panEnd:function(a,b){var e=this.__visibleRect,c=this.__visibleDelta;e.x+=a;e.y+=b;c.x+=a;c.y+=b;var e=new F(a,b),c=this.extent,q=this._ratioW,h=this._ratioH,c=new E(c.xmin-a/q,c.ymin+b/h,c.xmax-a/q,c.ymax+b/h,this.spatialReference);this.__panning=!1;this._updateExtent(c);this.onPanEnd(c,e);this._fireExtChg([c,e,!1,this.__LOD])},
__zoomStart:function(a,b){this.__zooming=!0;this.onZoomStart(a,1,b,this.__LOD?this.__LOD.level:null)},__zoom:function(a,b,e){this.onZoom(a,b,e)},__zoomEnd:function(a,b,e,c,q){R(this._layersDiv,{left:"0px",top:"0px"});this._delta=new F(0,0);this.__visibleRect.x=this.__visibleRect.y=0;a=new E(a);this.__LOD=c;this._ratioW=this.width/a.getWidth();this._ratioH=this.height/a.getHeight();var h=this._delta;this._delta=null;this.__zooming=!1;this._updateExtent(a,q);this.onZoomEnd(a,b,e,c?c.level:null);this._fireExtChg([a,
h,q,c])},_extentUtil:function(a,b,e,c,q){var h=new n,k,s,t,g,d,u,f,l,v,r,B=this.width,x=this.height,p,y,G;a&&(k=a.numLevels,s=a.targetLevel,p=z.isDefined(s),t=a.factor,g=a.mapAnchor,d=a.screenAnchor,u=a.mapCenter,y=a.levelOrFactor,f=a.targetScale,l=z.isDefined(f)&&0<f);b&&(v=b.dx,r=b.dy,u=b.mapCenter);m.isArray(u)&&(u=new H(u));var w=this._panAnim;b=(a=this._stopAnim())?a.divExtent:this.extent;var C=this.__tileInfo,K=this._params;if(!this.loaded){if(e)b&&(e=this._convertGeometry(b,e)),e&&(this.extent=
e,K.zoom=K.scale=-1,K.center=null);else if(u||p||l){if(u)if(b){if(u=this._convertGeometry(b,u))this.extent=b.centerAt(u),K.center=null}else K.center=u;p&&-1<s?(K.zoom=s,K.scale=-1):l&&(K.scale=f,K.zoom=-1)}h.resolve();return h}if(u&&(u=this._convertGeometry(this,u),!u)||g&&(g=this._convertGeometry(this,g),!g)||e&&(e=this._convertGeometry(this,e),!e))return h.reject(),h;w&&(g&&d)&&(g=U(this.extent,B,x,d));a&&(g&&d)&&(g=U(a.divExtent,B,x,d));p&&(C?(k=this.getMinZoom(),p=this.getMaxZoom(),s<k?s=k:s>
p&&(s=p),k=s-(a?a.level:this.getLevel())):(k=0<s?-1:1,G=y?s:null));if(!e)if(z.isDefined(k))C?(B=a?a.level:this.getLevel(),x=this.__getExtentForLevel(B+k,u,b).extent):(x=(a?a.end:this.extent).expand(G||(0<k?0.5*k:2*-k)),G&&u&&(x=x.centerAt(u))),x&&(u?e=x:(B=g||b.getCenter(),v=b.ymax-(x.getHeight()-b.getHeight())*(B.y-b.ymax)/b.getHeight(),B=b.xmin-(x.getWidth()-b.getWidth())*(B.x-b.xmin)/b.getWidth(),e=new E(B,v-x.getHeight(),B+x.getWidth(),v,this.spatialReference)));else if(l)e=I.getExtentForScale(this,
f,b);else if(z.isDefined(t))e=b.expand(t);else if(v||r)a?(e=a.end,g=e.getCenter(),G=L(e,B,x,g),G.x+=v,G.y+=r,G=U(e,B,x,G),e=e.offset(G.x-g.x,G.y-g.y)):(v=new F(B/2+v,x/2+r),r=U(b,B,x,v),x=b.getWidth(),v=b.getHeight(),B=r.x-x/2,r=r.y-v/2,e=new E(B,r,B+x,r+v,this.spatialReference));e||(u?(b=a?a.end:b,x=b.getWidth(),v=b.getHeight(),B=u.x-x/2,r=u.y-v/2,e=new E(B,r,B+x,r+v,this.spatialReference)):a&&(e=a.end));e?(this._extentDfd&&-1===this._extentDfd.fired&&(this._extentDfd.then(null,ea),this._extentDfd.reject()),
this._extentDfd=h,this.__setExtent(e,null,d,c,a,q)):h.reject();return h},__setExtent:function(a,b,e,c,q,h){try{if(this._firstLayerId)this.extent=a;else{var k=!0,s=this.spatialReference,t=q?q.divExtent:this.extent,g=this._fixExtent(a,c||!1);a=g.extent;var d=a.getWidth(),m=a.getHeight(),u=Math.round;if(t)var n=u(1E6*t.getWidth()),f=u(1E6*d),l=u(1E6*t.getHeight()),v=u(1E6*m),k=n!==f||l!==v;var r,B,x=q&&q.rect,p=q&&q.divExtent;if(O.zoomDuration&&k&&t){p=p||new E(t);x=x||{left:t.xmin,top:t.ymax,width:t.getWidth(),
height:t.getHeight()};B={left:a.xmin,top:a.ymax,width:d,height:m};var z=new H(a.xmin,a.ymax,s),y=new H(a.xmin,a.ymin,s),w=new H(this.extent.xmin,this.extent.ymax,s),C=new H(this.extent.xmin,this.extent.ymin,s);r=K.getLineIntersection(w,z,C,y,s);!r&&!q&&(k=!1)}this._ratioW=this.width/d;this._ratioH=this.height/m;var A=this._zoomAnimDiv;if(k)R(this._layersDiv,{left:"0px",top:"0px"}),b=new F(0,0),this.__visibleRect.x=this.__visibleRect.y=0,x&&B?(this._delta=b,A.id="_zAD",A.startingExtent=p,A.extent=
a,A.levelChange=k,A.newLod=g.lod,A.anchor=e?e:!r&&q?q.anchor:L(this.extent,this.width,this.height,r),this._zoomAnim=D.resize({node:A,start:x,end:B,duration:O.zoomDuration,rate:O.zoomRate,beforeBegin:!q?this._zoomStartHandler:null,onAnimate:this._zoomingHandler,onEnd:this._zoomEndHandler}).play(),this._fireOnScale(this.extent.getWidth()/a.getWidth(),A.anchor)):(this._updateExtent(a,k),this._fireExtChg([this.extent,b,k,this.__LOD=g.lod]));else if(!this.__panning)if(!1===this.loaded||h)this._updateExtent(a,
k),this._fireExtChg([this.extent,b,k,this.__LOD=g.lod]);else{this.__panning=!0;x=(new G(0,0,this.width,this.height,this.spatialReference)).getCenter();x.x=u(x.x);x.y=u(x.y);var I=this._delta=this.toScreen(a.getCenter()),J=Math.abs(x.x-I.x),Q=Math.abs(x.y-I.y);5E4<J||5E4<Q?(this.__visibleRect.x=this.__visibleRect.y=this.__visibleDelta.x=this.__visibleDelta.y=0,this.__panning=!1,this._delta=null,this._updateExtent(a,!1),this._fireExtChg([this.extent,new F(0,0),!0,this.__LOD])):this.optimizePanAnimation&&
(J>2*this.width||Q>2*this.height)?(b=new F(x.x-I.x,x.y-I.y),this.__panStart(x.x,x.y),this.__pan(b.x,b.y),this.__panEnd(b.x,b.y)):(this.onPanStart(this.extent,new F(0,0)),this._panAnim=D.slideTo({node:A,left:x.x-I.x,top:x.y-I.y,duration:O.panDuration,rate:O.panRate,onAnimate:this._panningHandler,onEnd:this._panEndHandler}),this._panAnim.play())}}}catch(P){console.log(P.stack),console.error(P)}},_fireOnScale:function(a,b,e){if("css-transforms"===this.navigationMode){var c=this.__visibleDelta;this.onScale(x.scaleAt(a,
{x:-1*(this.width/2-(b.x-c.x)),y:-1*(this.height/2-(b.y-c.y))}),e)}},_stopAnim:function(){var a=this._zoomAnim,b=this._panAnim;if(a&&a._active){a.stop();var b=a.curve.getValue(a._getStep()),e=parseFloat(b.left),c=parseFloat(b.top),a=a.node;return{anchor:a.anchor,start:a.startingExtent,end:a.extent,level:a.newLod&&a.newLod.level,rect:b,divExtent:new E(e,c-parseFloat(b.height),e+parseFloat(b.width),c,this.spatialReference)}}b&&b._active&&(b.stop(),b._fire("onEnd",[b.node]))},__getExtentForLevel:function(a,
b,e){var c=this.__tileInfo,c=c&&c.lods;a=z.isDefined(a)?a:0;e=e||this.extent;b=b||e&&e.getCenter();if(c){if(b){e=this.getMinZoom();var q=this.getMaxZoom();a>q&&(a=q);a<e&&(a=e);a=c[a];c=this.width*a.resolution/2;e=this.height*a.resolution/2;return{extent:new E(b.x-c,b.y-e,b.x+c,b.y+e,b.spatialReference),lod:a}}}else if(e)return{extent:e.expand(!a||1>a?1:a).centerAt(b)};console.log("Map: "+this.invalidExtent)},_jobs:0,_incr:function(){1===++this._jobs&&(this.updating=!0,this.attr("data-updating",""),
this.onUpdateStart())},_decr:function(){var a=--this._jobs;a?0>a&&(this._jobs=0):(this.updating=!1,this.attr("data-updating"),this.onUpdateEnd())},_fireEvent:function(a,b){this[a]&&this[a].apply(this,b)},_updateExtent:function(a,b){this.extent=a;b&&this._setClipRect();var e=this.spatialReference;e&&(e.isWebMercator()?this.geographicExtent=Q.webMercatorToGeographic(this._getAvailExtent(),!0):4326===e.wkid&&(this.geographicExtent=new E(this._getAvailExtent().toJson())))},_fireExtChg:function(a){this.attr("data-zoom",
this.getZoom());this.attr("data-scale",this.getScale());this._fireEvent("onExtentChange",a);if(a=this._extentDfd)delete this._extentDfd,a.resolve()},attr:function(a,b){var e=this.container;e&&(null==b?e.removeAttribute(a):e.setAttribute(a,b));return this},onUpdateStart:function(){},onUpdateEnd:function(){},onLoad:function(){this._setClipRect()},onBeforeUnload:function(){},onUnload:function(){},onExtentChange:function(a,b,e){},onTimeExtentChange:function(){},onLayerAdd:function(){},onLayerAddResult:function(){},
onLayersAddResult:function(){},onLayerRemove:function(){},onLayersRemoved:function(){},onLayerReorder:function(){},onLayersReordered:function(){},onLayerSuspend:function(){},onLayerResume:function(){},onPanStart:function(){},onPan:function(){},onPanEnd:function(){},onScale:function(){},onZoomStart:function(){},onZoom:function(){},onZoomEnd:function(){},onResize:function(){this._setClipRect()},onReposition:function(){},destroy:function(){this._destroyed||(this.onBeforeUnload(this),this.removeAllLayers(),
this._cleanUp(),this._gc&&this._gc._cleanUp(),this._destroyed=!0,this.onUnload(this))},setCursor:function(a){R(this.__container,"cursor",this.cursor=a)},setMapCursor:function(a){this.setCursor(this._cursor=a)},resetMapCursor:function(){this.setCursor(this._cursor)},setInfoWindow:function(a){var b=this.infoWindow;b&&b.unsetMap(this);this.infoWindow=a;this.loaded&&a&&a.setMap(this)},setInfoWindowOnClick:function(a){this._params.showInfoWindowOnClick=a;this.popupManager&&this.popupManager.set("enabled",
a)},getInfoWindowAnchor:function(a){return this.infoWindow&&this.infoWindow._getAnchor&&this.infoWindow._getAnchor(a)||"upperright"},toScreen:function(a,b){return L(this.extent,this.width,this.height,a,b)},toMap:function(a){return U(this.extent,this.width,this.height,a)},addLayer:function(a,b){a&&!this.getLayer(a.id)&&this._addLayer(a,a instanceof P?this.graphicsLayerIds:this.layerIds,b);return a},addLayers:function(a){var b=[],e=a.length,c,q,h=a.length;c=d.connect(this,"onLayerAddResult",function(q,
h){-1!==g.indexOf(a,q)&&(e--,b.push({layer:q,success:!h,error:h}),e||(d.disconnect(c),this.onLayersAddResult(b)))});for(q=0;q<h;q++)this.addLayer(a[q]);return this},removeLayer:function(a,b){var e=a.id,c=a instanceof P?this.graphicsLayerIds:this.layerIds,q=W(c,e);0<=q&&(c.splice(q,1),a instanceof P?(V(this["_gl_"+a.id+"_click_connect"]),a.loaded&&a._unsetMap(this,this._gc._surface)):a.loaded&&(a._unsetMap(this,this._layersDiv),-1!==a.declaredClass.indexOf("VETiledLayer")&&this._onBingLayerRemove(a)),
delete this._layers[e],delete this._layerDivs[e],b||this._reorderLayers(c),this.onLayerRemove(a))},removeAllLayers:function(){var a=this.layerIds,b;for(b=a.length-1;0<=b;b--)this.removeLayer(this._layers[a[b]],1);a=this.graphicsLayerIds;for(b=a.length-1;0<=b;b--)this.removeLayer(this._layers[a[b]],1);this.onLayersRemoved()},reorderLayer:function(a,b){m.isString(a)&&(p.deprecated(this.declaredClass+": Map.reorderLayer(/*String*/ id, /*Number*/ index) deprecated. Use Map.reorderLayer(/*Layer*/ layer, /*Number*/ index).",
null,"v2.0"),a=this.getLayer(a));var e=a.id,c,q=a instanceof P?this.graphicsLayerIds:this.layerIds;0>b?b=0:b>=q.length&&(b=q.length-1);c=W(q,e);-1===c||c===b||(q.splice(c,1),q.splice(b,0,e),this._reorderLayers(q))},getLayer:function(a){return this._layers[a]},setExtent:function(a,b){a=new E(a.toJson());var e=a.getWidth(),c=a.getHeight();return 0===e&&0===c?this.centerAt(new H({x:a.xmin,y:a.ymin,spatialReference:a.spatialReference&&a.spatialReference.toJson()})):this._extentUtil(null,null,a,b)},centerAt:function(a){return this._extentUtil(null,
{mapCenter:a})},centerAndZoom:function(a,b){return this._extentUtil({targetLevel:b,mapCenter:a,levelOrFactor:!0})},getScale:function(){return this.__LOD?this.__LOD.scale:I.getScale(this)},getResolution:function(){return this.__LOD?this.__LOD.resolution:this.extent?this.extent.getWidth()/this.width:0},getResolutionInMeters:function(){return this.getResolution()*(I.getUnitValue(this.spatialReference)||20015077/180)},getMinScale:function(){return this._params.minScale},getMaxScale:function(){return this._params.maxScale},
setScale:function(a){return this._extentUtil({targetScale:a})},getLayersVisibleAtScale:function(a){var b=[];(a=a||this.getScale())&&g.forEach(this.layerIds.concat(this.graphicsLayerIds),function(e){e=this.getLayer(e);e.isVisibleAtScale(a)&&b.push(e)},this);return b},getNumLevels:function(){var a=this.getMinZoom(),b=this.getMaxZoom();return a===b&&0>a?0:b-a+1},getLevel:function(){return this.__LOD?this.__LOD.level:-1},setLevel:function(a){if(-1<a)return this._extentUtil({targetLevel:a})},getZoom:function(){return this.getLevel()},
setZoom:function(a){return this.setLevel(a)},getMinZoom:function(){return this._params.minZoom},getMaxZoom:function(){return this._params.maxZoom},setBasemap:function(a){var b;m.isObject(a)?(b=a,a=b.title):b=O.basemaps&&O.basemaps[a];if(b){this._basemapDfd&&-1===this._basemapDfd.fired&&this._basemapDfd.cancel();var e=[],c=[],q=0;g.forEach(b.baseMapLayers||b.layers,function(b){var h,k={id:b.id,displayLevels:b.displayLevels,opacity:z.isDefined(b.opacity)?b.opacity:null,visible:z.isDefined(b.visibility)?
b.visibility:null};if(b.type)switch(b.type){case "OpenStreetMap":h=new Y(k);break;default:console.log("Map.setBasemap: "+z.substitute({basemapName:a,type:b.type},this.unknownLayerType))}else{h=b.url;if("https:"===window.location.protocol&&(-1!==h.search(/^http\:\/\/server\.arcgisonline\.com/i)||-1!==h.search(/^http\:\/\/services\.arcgisonline\.com/i)||-1!==h.search(/^http\:\/\/.+\.arcgis\.com/i)))h=h.replace(/http:/i,"https:");h=new T(h,k)}h&&(e.push(h),c.push(b),b.isReference||q++)},this);if(!e.length||
!q)console.log("Map.setBasemap: "+z.substitute({basemapName:a},this.invalidBasemap));else{var h={basemapName:a,infos:c,layers:e};if(this.loaded){var k=this,s=new n(B._dfdCanceller),t=function(a){s._pendingLayers--;a=g.indexOf(h.layers,this);if(-1<a&&(a=s._layerEvents[a]))d.disconnect(a[0]),d.disconnect(a[1]);0>=s._pendingLayers&&(delete s._layerEvents,delete k._basemapDfd,0>s.fired&&s.callback(h))};this._basemapDfd=s;s._pendingLayers=0;s._layerEvents={};g.forEach(e,function(a,b){a&&(s._pendingLayers++,
a.loaded?t(a):s._layerEvents[b]=[d.connect(a,"onLoad",a,t),d.connect(a,"onError",a,t)])});s.addCallback(N(this,this._basemapLoaded))}else this._basemapLoaded(h)}}else{b=[];for(var E in O.basemaps)b.push(E);console.log("Map.setBasemap: "+z.substitute({basemapName:a,list:b.join(",")},this.unknownBasemap))}},_basemapLoaded:function(a){var b=a.layers,e=a.infos,c=0,q=!0,h;this.loaded&&(g.forEach(b,function(a,b){a.loaded&&(e[b].isReference||c++)}),q=c);q&&(this.basemapLayerIds&&(h={basemapName:this._basemap,
infos:O.basemaps&&O.basemaps[this._basemap]&&O.basemaps[this._basemap].baseMapLayers},h.basemapName||(g.forEach(this.basemapLayerIds,function(a){if(this.getLayer(a)instanceof Y)return h.basemapName="osm",h.infos=O.basemaps&&O.basemaps.osm&&O.basemaps.osm.baseMapLayers,!1},this),h.basemapName||(h=null))),this._removeBasemap(),this._basemap=a.basemapName,this.basemapLayerIds=this._addBasemap(b,e),this.attr("data-basemap",this.getBasemap()),this.emit("basemap-change",{current:a,previous:h}))},_addBasemap:function(a,
b){var e=[],c=[],q=0;g.forEach(a,function(a,h){b[h].isReference?e.push(a):(this.addLayer(a,q++),c.push(a.id))},this);e.length&&g.forEach(e,function(a){this.addLayer(a,"top");c.push(a.id)},this);return c},_removeBasemap:function(){var a=this.basemapLayerIds,b;a&&a.length&&g.forEach(a,function(a){(b=this.getLayer(a))&&this.removeLayer(b)},this)},getBasemap:function(){return this._basemap||""},translate:function(a,b){a=a||0;b=b||0;if(!this._txTimer){this._tx=this._ty=0;var e=this.toScreen(this.extent.getCenter());
this.__panStart(e.x,e.y)}this._tx+=a;this._ty+=b;this.__pan(this._tx,this._ty);clearTimeout(this._txTimer);this._txTimer=setTimeout(this._endTranslate,150)},_endTranslate:function(){clearTimeout(this._txTimer);this._txTimer=null;var a=this._tx,b=this._ty;this._tx=this._ty=0;this.__panEnd(a,b)},setTimeExtent:function(a){a=(this.timeExtent=a)?new a.constructor(a.toJson()):null;this.onTimeExtentChange(a)},setTimeSlider:function(a){this.timeSlider&&(V(this._tsTimeExtentChange_connect),this.timeSlider=
this._tsTimeExtentChange_connect=null);a&&(this.timeSlider=a,this.setTimeExtent(a.getCurrentTimeExtent()),this._tsTimeExtentChange_connect=$(a,"onTimeExtentChange",this,"setTimeExtent"))},setVisibility:function(a){if(this.visible!==a){this.visible=a;a||(this._display=this.container.style.display);this.container.style.display=a?this._display:"none";if(this.autoResize){var b=a?"resume":"pause";this._rszSignal[b]();this._oriSignal[b]()}a&&this.resize()}return this},resize:function(a){var b=this,e=function(){clearTimeout(b._resizeT);
b.reposition();b._resize()};clearTimeout(b._resizeT);!0===a?e():b._resizeT=setTimeout(e,b.resizeDelay)},_resize:function(){var a=this.width,b=this.height,e=s.getContentBox(this.container);if(!(a===e.w&&b===e.h)){var c=this._zoomAnim||this._panAnim;c&&(c.stop(),c._fire("onEnd",[c.node]));R(this.root,{width:(this.width=e.w)+"px",height:(this.height=e.h)+"px"});e=this.width;c=this.height;this.attribution&&this.attribution.domNode&&q.set(this.attribution.domNode,"maxWidth",Math.floor(e*this._mapParams.attributionWidth)+
"px");this.__visibleRect.update(this.__visibleRect.x,this.__visibleRect.y,e,c);this.__visibleDelta.update(this.__visibleDelta.x,this.__visibleDelta.y,e,c);var h=new G(this.extent),a=(new G(h.x,h.y,h.width*(e/a),h.height*(c/b),this.spatialReference)).getExtent();this.onResize(a,e,c);this._extentUtil(null,null,a,null,!0)}},reposition:function(){this._reposition();this.onReposition(this.position.x,this.position.y)},_reposition:function(){var a=s.position(this.container,!0),b=s.getPadBorderExtents(this.container);
this.position.update(a.x+b.l,a.y+b.t)},_setClipRect:function(){delete this._clip;var a=7>=t("ie")||void 0===t("ie")&&7<=t("trident")?"rect(auto,auto,auto,auto)":"auto";if(this.wrapAround180){var b=this.width,e=this.height,c=this._getFrameWidth(),q=b-c;0<q&&(a=q/2,a="rect(0px,"+(a+c)+"px,"+e+"px,"+a+"px)",e=this.extent.getWidth(),b=e*(c/b),this._clip=[(e-b)/2,b])}R(this.__container,"clip",a)},_getAvailExtent:function(){var a=this.extent,b=this._clip;if(b){if(!a._clip){var e=new G(a);e.width=b[1];e.x+=
b[0];a._clip=e.getExtent()}return a._clip}return a},_fixedPan:function(a,b){return this._extentUtil(null,{dx:a,dy:b})},panUp:function(){return this._fixedPan(0,-0.75*this.height)},panUpperRight:function(){return this._fixedPan(0.75*this.width,-0.75*this.height)},panRight:function(){return this._fixedPan(0.75*this.width,0)},panLowerRight:function(){return this._fixedPan(0.75*this.width,0.75*this.height)},panDown:function(){return this._fixedPan(0,0.75*this.height)},panLowerLeft:function(){return this._fixedPan(-0.75*
this.width,0.75*this.height)},panLeft:function(){return this._fixedPan(-0.75*this.width,0)},panUpperLeft:function(){return this._fixedPan(-0.75*this.width,-0.75*this.height)},enableSnapping:function(a){a=a||{};if("esri.SnappingManager"===a.declaredClass)this.snappingManager=a;else{var b=ba++,e=this;this._rids&&this._rids.push(b);f(["./SnappingManager"],function(c){var q=e._rids?g.indexOf(e._rids,b):-1;-1!==q&&(e._rids.splice(q,1),e.snappingManager=new c(m.mixin({map:e},a)))})}return this.snappingManager},
disableSnapping:function(){this.snappingManager&&this.snappingManager.destroy();this.snappingManager=null},_createLabelLayer:function(){function a(){b._labels.removeAllFeatureLayers();g.forEach(b.graphicsLayerIds,function(a){a=b.getLayer(a);"function"===typeof a.applyEdits&&b._labels.addFeatureLayer(a)})}var b=this;!this._labels&&(Z&&this.loaded)&&(this._labels=new Z({id:"_internal_LabelLayer"}),this._labels._setMap(this,this._gc._surface),a(),this.on("layers-reordered",a))}});t("extend-esri")&&(v._CoreMap=
r);return r})},"esri/layerUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/has","./kernel"],function(f,l,p,r,d){var n={_serializeLayerDefinitions:function(d){var g=[],a=!1,b=/[:;]/;if(d&&(l.forEach(d,function(e,c){e&&(g.push([c,e]),!a&&b.test(e)&&(a=!0))}),0<g.length)){var c;a?(c={},l.forEach(g,function(a){c[a[0]]=a[1]}),c=p.toJson(c)):(c=[],l.forEach(g,function(a){c.push(a[0]+":"+a[1])}),c=c.join(";"));return c}return null},_serializeTimeOptions:function(d,g){if(d){var a=
[];l.forEach(d,function(b,c){if(b){var e=b.toJson();g&&-1!==l.indexOf(g,c)&&(e.useTime=!1);a.push('"'+c+'":'+p.toJson(e))}});if(a.length)return"{"+a.join(",")+"}"}},_getVisibleLayers:function(d,g){var a=[],b,c,e;if(!d)return a;if(g){a=g.concat();for(e=0;e<d.length;e++)b=d[e],c=l.indexOf(d,b.id),b.subLayerIds&&-1<c&&(a.splice(c,1),a=a.concat(b.subLayerIds))}else a=this._getDefaultVisibleLayers(d);return a},_getDefaultVisibleLayers:function(d){var g=[],a;if(!d)return g;for(a=0;a<d.length;a++)0<=d[a].parentLayerId&&
-1===l.indexOf(g,d[a].parentLayerId)&&l.some(d,function(b){return b.id===d[a].parentLayerId})||d[a].defaultVisibility&&g.push(d[a].id);return g},_getLayersForScale:function(d,g){var a=[];if(0<d&&g){var b;for(b=0;b<g.length;b++)if(!(0<=g[b].parentLayerId&&-1===l.indexOf(a,g[b].parentLayerId)&&l.some(g,function(a){return a.id===g[b].parentLayerId}))&&0<=g[b].id){var c=!0,e=g[b].maxScale,k=g[b].minScale;if(0<e||0<k)0<e&&0<k?c=e<=d&&d<=k:0<e?c=e<=d:0<k&&(c=d<=k);c&&a.push(g[b].id)}}return a}};r("extend-esri")&&
f.mixin(d,n);return n})},"esri/graphic":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ./kernel ./domUtils ./lang ./InfoTemplate ./geometry/jsonUtils ./symbols/jsonUtils".split(" "),function(f,l,p,r,d,n,m,g,a){f=f(null,{declaredClass:"esri.Graphic",constructor:function(b,c,e,k){b&&!b.declaredClass?(this.geometry=b.geometry?g.fromJson(b.geometry):null,this.symbol=b.symbol?a.fromJson(b.symbol):null,this.attributes=b.attributes||null,this.infoTemplate=b.infoTemplate?new m(b.infoTemplate):
null):(this.geometry=b,this.symbol=c,this.attributes=e,this.infoTemplate=k)},_shape:null,_graphicsLayer:null,_visible:!0,visible:!0,getDojoShape:function(){return this._shape},getShapes:function(){var a=[];this._shape&&a.push(this._shape);this._bgShape&&a.push(this._bgShape);return a},getNode:function(){var a=this._shape&&this._shape.getNode();return a&&a.nodeType?a:null},getNodes:function(){var a=this.getShapes(),c,e,k=a.length,h=[];for(e=0;e<k;e++)(c=a[e]&&a[e].getNode())&&c.nodeType&&h.push(c);
return h},getLayer:function(){return this._layer},draw:function(){var a=this._graphicsLayer;a&&a._draw(this,!0);return this},setGeometry:function(a){this.geometry=a;if(a=this._graphicsLayer)a._updateExtent(this),a._draw(this,!0);return this},setSymbol:function(a,c){var e=this._graphicsLayer,k=this._shape;this.symbol=a;e&&(c&&k&&e._removeShape(this),e._draw(this,!0));return this},setAttributes:function(a){this.attributes=a;return this},setInfoTemplate:function(a){this.infoTemplate=a;return this},getInfoTemplate:function(){return this._getEffInfoTemplate()},
_getEffInfoTemplate:function(){var a=this.getLayer();return this.infoTemplate||a&&a.infoTemplate},getTitle:function(){var a=this.getInfoTemplate(),c=a&&a.title;if(l.isFunction(c))c=c.call(a,this);else if(l.isString(c))var e=(a=this.getLayer())&&a._getDateOpts,c=n.substitute(this.attributes,c,{first:!0,dateFormat:e&&e.call(a)});return c},getContent:function(){var a=this.getInfoTemplate(),c=a&&a.content;if(l.isFunction(c))c=c.call(a,this);else if(l.isString(c))var e=(a=this.getLayer())&&a._getDateOpts,
c=n.substitute(this.attributes,c,{dateFormat:e&&e.call(a)});return c},attr:function(a,c){var e=this.getNodes(),k,h=e.length;for(k=0;k<h;k++)null==c?e[k].removeAttribute(a):e[k].setAttribute(a,c);return this},show:function(){this.visible=this._visible=!0;var a,c,e;if(this.getShapes().length){a=this.getNodes();e=a.length;this.attr("data-hidden");for(c=0;c<e;c++)d.show(a[c])}else this._graphicsLayer&&this._graphicsLayer._draw(this,!0);return this},hide:function(){this.visible=this._visible=!1;var a=
this._graphicsLayer,c,e;if(a)if("canvas-2d"===a.surfaceType)a._removeShape(this);else if(a=this.getNodes(),e=a.length){this.attr("data-hidden","");for(c=0;c<e;c++)d.hide(a[c])}return this},toJson:function(){var a={};this.geometry&&(a.geometry=this.geometry.toJson());this.attributes&&(a.attributes=l.mixin({},this.attributes));this.symbol&&(a.symbol=this.symbol.toJson());this.infoTemplate&&(a.infoTemplate=this.infoTemplate.toJson());return a}});f.prototype.getShape=f.prototype.getDojoShape;p("extend-esri")&&
(r.Graphic=f);return f})},"esri/PluginTarget":function(){define("require dojo/aspect dojo/_base/array dojo/_base/lang dojo/Deferred dojo/when".split(" "),function(f,l,p,r,d,n){function m(){l.after(this.constructor._meta,"ctor",this._pluginsHandler,!0);this._plugins={}}m.prototype={addPlugin:function(g,a){var b=this,c=this._plugins,e=new d;try{f([g],function(h){g in c||(c[g]=h,n(h.add(b,a),function(){var a={id:h.declaredId||g.replace(/\//g,".")};b.emit("plugin-add",a);e.resolve(a)},function(a){e.reject(a)}))})}catch(k){e.reject(k)}return e.promise},
removePlugin:function(d){if(d in this._plugins){var a=this._plugins[d];a.remove(this);delete this._plugins[d];this.emit("plugin-remove",{id:a.declaredId||d.replace(/\//g,".")})}},_pluginsHandler:function(){var d=this;p.some(arguments,function(a){if(a&&a.plugins&&a.plugins instanceof Array){a=a.plugins;for(var b,c,e=0;e<a.length;e++)b=a[e],c=b instanceof Object?b.id:b,d.addPlugin(c,b.options);return!0}})}};return m})},"esri/layers/GraphicsLayer":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/dom-construct dojo/dom-style dojox/gfx dojox/gfx/matrix ./layer ../kernel ../lang ../sniff ../Color ../domUtils ../symbols/MarkerSymbol ../symbols/SimpleMarkerSymbol ../geometry/Point ../geometry/ScreenPoint ../geometry/Extent ../geometry/mathUtils ../geometry/screenUtils ../PluginTarget".split(" "),
function(f,l,p,r,d,n,m,g,a,b,c,e,k,h,s,q,t,u,x,v,C,z,w){var D,B=-1!==g.renderer.toLowerCase().indexOf("svg"),A=-1!==g.renderer.toLowerCase().indexOf("canvas"),y=9>k("ie"),H=k("esri-touch"),F=f(null,{declaredClass:"esri.layers._GraphicsContainer",_setMap:function(a,b){var e,c=this._connects=[];this._map=a;A?(e=n.create("div",{style:"overflow: visible; position: absolute;"},b),this._surface={getEventSource:function(){return e}},c.push(l.connect(e,"onmousedown",this,this._canvasDownHandler)),c.push(l.connect(e,
"onmouseup",this,this._canvasUpHandler)),c.push(l.connect(e,"onclick",this,this._canvasClickHandler)),D.prototype._canvas=!0):(e=(this._surface=g.createSurface(b,a.width,a.height)).getEventSource(),m.set(e=y?e.parentNode:e,{overflow:"visible",position:"absolute"}));c.push(l.connect(a,"onResize",this,"_onResizeHandler"));return e},_onResizeHandler:function(a,b,e){a=this._surface.getEventSource();var c=this._map,q;y&&m.set(a=a.parentNode,{width:b+"px",height:e+"px",clip:"rect(0px "+b+"px "+e+"px 0px)"});
d.set(a,"width",b);d.set(a,"height",e);this._surface.declaredClass||r.forEach(a.childNodes,function(a){d.set(a,"width",b);d.set(a,"height",e)});c.loaded&&(c.graphics.suspended||(c.graphics._resized=!0),r.forEach(c.graphicsLayerIds,function(a){q=c.getLayer(a);q.suspended||(q._resized=!0)}))},_cleanUp:function(){r.forEach(this._connects,l.disconnect,l);this._map=this._surface=null},_processEvent:function(a){var b=this._map;a.screenPoint=new x(a.pageX-b.position.x,a.pageY-b.position.y);a.mapPoint=b.toMap(a.screenPoint)},
_canvasDownHandler:function(a){this._processEvent(a);this._downPt=a.screenPoint.x+","+a.screenPoint.y},_canvasUpHandler:function(a){this._processEvent(a);this._upPt=a.screenPoint.x+","+a.screenPoint.y},_tolerance:15,_isPrimaryMatch:function(a,b,e,c){if(!a.visible||!b)return!1;var q=b.getTransformedBoundingBox(),h;return q?(h=new v(q[0].x,q[0].y,q[2].x,q[2].y),delete h.spatialReference,H?h.intersects(e):h.contains(c)):r.some(b.children||[],function(a){q=a.getTransformedBoundingBox();h=new v(q[0].x,
q[0].y,q[2].x,q[2].y);delete h.spatialReference;return H?h.intersects(e):h.contains(c)})},_canvasClickHandler:function(a){if(this._downPt&&this._upPt&&this._downPt===this._upPt){this._processEvent(a);var b=this._map,c=r.map(b.graphicsLayerIds,function(a){return b.getLayer(a)});c.push(b.graphics);c.reverse();var c=r.filter(c,function(a){return a.loaded&&a._mouseEvents&&!a.suspended&&(!e.isDefined(a.opacity)||0<a.opacity)}),q=a.screenPoint,h=this._tolerance,k=q.x-h,s=q.y+h,t=q.x+h,h=q.y-h,d=new v(k,
h,t,s),k=b.toMap(new x(k,s)),t=b.toMap(new x(t,h)),s=k.spatialReference._getInfo(),g=new v(v.prototype._normalizeX(k.x,s).x,k.y,v.prototype._normalizeX(t.x,s).x,t.y,k.spatialReference),m;delete d.spatialReference;r.some(c,function(a){a=r.filter(a.graphics,function(a){return this._isPrimaryMatch(a,a.getDojoShape(),d,q)||!(!a._bgShape||!this._isPrimaryMatch(a,a._bgShape,d,q))},this);a.reverse();if(0<a.length){var b;r.some(a,function(a){return a.geometry&&g.intersects(a.geometry)?(b=a,!0):!1});if(b)return m=
b,!0}return!1},this);if(m&&(c=m.getLayer()))a.graphic=m,c.onClick(a)}}});D=f(b,{declaredClass:"esri.layers._GraphicsLayer",managedSuspension:!0,surfaceType:A?"canvas-2d":g.renderer,_eventMap:{"graphic-add":["graphic"],"graphic-remove":["graphic"]},constructor:function(a,b){if(a&&(p.isString(a)||p.isObject(a)&&a.layerDefinition))a=b;this._params=p.mixin({displayOnPan:!0,drawMode:!0,styling:!0},a||{});var e=this._params.dataAttributes;"string"===typeof e&&(e=[e]);this.styling=B?this._params.styling:
!0;this.dataAttributes=e;this.infoTemplate=a&&a.infoTemplate;this.graphics=[];this._draw=p.hitch(this,this._draw);this._refresh=p.hitch(this,this._refresh);this.registerConnectEvents()},getNode:function(){return this._div&&this._div.getEventSource()},setDrawMode:function(a){this._params.drawMode=a},renderer:null,_setMap:function(a,b){this.inherited(arguments);this._map=a;this._wrap=a.wrapAround180;this._srInfo=a.spatialReference._getInfo();this._canvas?(b=g.createSurface(b.getEventSource(),a.width,
a.height),m.set(b.rawNode,"position","absolute"),this._div=b.createGroup(),this._renderProto=this._div.constructor.prototype._render,this._div._render=p.hitch(this,this._canvasRender)):this._div=b.createGroup();this._bgGroup=this._div.createGroup();this._div.getEventSource().id=this.id+"_layer";var c=this.opacity;e.isDefined(c)&&1>c&&this.setOpacity(c,!0);return this._div},_unsetMap:function(a,b){r.forEach(this.graphics,function(a){a._shape=null});this._canvas?(b=this._div.getParent(),b._parent={},
n.destroy(b.rawNode),b.destroy()):(this._div.clear(),b.remove(this._div),n.destroy(this._div.getEventSource()));this._map=this._div=null;clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors();this.inherited(arguments)},_onZoomStartHandler:function(){s.hide(this._div.getEventSource())},_onExtentChangeHandler:function(b,e,c,q){clearTimeout(this._wakeTimer);this._wakeTimer=null;c?(b=this._map.__visibleRect,e=this._div,this._evalSDRenderer(),this._refresh(!0),e.setTransform(a.translate({x:b.x,
y:b.y})),this._renderProto&&e.surface.pendingRender?this._dirty=!0:this.suspended||s.show(e.getEventSource())):this._resized&&(this._refresh(!1),this._resized=!1);if(0<this.graphics.length)this.onUpdate()},_canvasRender:function(){var a=this._div;this._dirty&&(delete this._dirty,this.suspended||s.show(a.getEventSource()));return this._renderProto.apply(a,arguments)},_refresh:function(a){var b=this.graphics,e=b.length,c,q=this._draw;for(c=0;c<e;c++)q(b[c],a)},refresh:function(){this._refresh(!0)},
redraw:function(){this._refresh(!0)},_onPanHandler:function(b,e){this._panDx=e.x;this._panDy=e.y;var c=this._map.__visibleRect;this._div.setTransform(a.translate({x:c.x+e.x,y:c.y+e.y}))},_onPanEndUpdateHandler:function(b,e){if(!this._params._child&&(e.x!==this._panDx||e.y!==this._panDy)){var c=this._map.__visibleRect;this._div.setTransform(a.translate({x:c.x,y:c.y}))}this._refresh(!1);if(this.graphics.length)this.onUpdate()},_onPanStartHandler:function(){s.hide(this._div.getEventSource())},_onPanEndHandler:function(){var b=
this._map.__visibleRect,e=this._div;e.setTransform(a.translate({x:b.x,y:b.y}));this._refresh(!1);this._renderProto&&e.surface.pendingRender?this._dirty=!0:s.show(e.getEventSource());if(this.graphics.length)this.onUpdate()},onSuspend:function(){this.inherited(arguments);s.hide(this._div.getEventSource());clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors()},onResume:function(a){this.inherited(arguments);a.firstOccurrence&&this._evalSDRenderer();this._enableDrawConnectors();
this._wakeTimer=this._wakeTimer||setTimeout(p.hitch(this,function(){this.suspended||this._onExtentChangeHandler(null,null,!0)}),0)},_enableDrawConnectors:function(){var a=this._map,b=l.connect;this._disableDrawConnectors();this._params.displayOnPan?(this._params._child||(this._onPanHandler_connect=b(a,"onPan",this,"_onPanHandler")),this._onPanEndHandler_connect=b(a,"onPanEnd",this,"_onPanEndUpdateHandler")):(this._onPanStartHandler_connect=b(a,"onPanStart",this,"_onPanStartHandler"),this._onPanEndHandler_connect=
b(a,"onPanEnd",this,"_onPanEndHandler"));this._onZoomStartHandler_connect=b(a,"onZoomStart",this,"_onZoomStartHandler");this._onExtentChangeHandler_connect=b(a,"onExtentChange",this,"_onExtentChangeHandler")},_disableDrawConnectors:function(){var a=l.disconnect;a(this._onExtentChangeHandler_connect);a(this._onZoomStartHandler_connect);a(this._onPanHandler_connect);a(this._onPanStartHandler_connect);a(this._onPanEndHandler_connect);this._onExtentChangeHandler_connect=this._onZoomStartHandler_connect=
this._onPanHandler_connect=this._onPanStartHandler_connect=this._onPanEndHandler_connect=null},_updateExtent:function(a){var b=a.geometry;if(b){if(!(a._extent=b.getExtent())){var e,c;if("esri.geometry.Point"===b.declaredClass)e=b.x,c=b.y;else if("esri.geometry.Multipoint"===b.declaredClass)e=b.points[0][0],c=b.points[0][1];else{a._extent=null;return}a._extent=new v(e,c,e,c,b.spatialReference)}}else a._extent=null},_intersects:function(a,b,e){var c=a.spatialReference,q=b.spatialReference,h=c&&q&&!c.equals(q)&&
c._canProject(q)&&4326===q.wkid;if(this._wrap&&!e){e=[];var c=a._getFrameWidth(),k=this._srInfo,s=a._clip?a._getAvailExtent():a.extent,t,d,g,m,u=[];t=b._partwise;h&&(s=a.geographicExtent,k=q._getInfo());a=s._getParts(k);if(t&&t.length){b=[];q=0;for(h=t.length;q<h;q++)b=b.concat(t[q]._getParts(k))}else b=b._getParts(k);q=0;for(h=b.length;q<h;q++){g=b[q];k=0;for(s=a.length;k<s;k++)if(m=a[k],m.extent.intersects(g.extent)){t=0;for(d=g.frameIds.length;t<d;t++)e.push((m.frameIds[0]-g.frameIds[t])*c)}}q=
0;for(h=e.length;q<h;q++)t=e[q],r.indexOf(e,t)===q&&u.push(t);return u.length?u:null}return(h?a.geographicExtent:a.extent).intersects(b)?[0]:null},_defaultMarker:{type:"simplemarkersymbol",style:"square",size:1,xoffset:0,yoffset:0,angle:0},_draw:function(a,b){if(this._params.drawMode&&this._map&&!this.suspended)try{var e=a._extent,c,h,k=!B||this.styling,s=B&&this.dataAttributes,t=a.getDojoShape(),d;if(a.visible&&e&&(c=this._intersects(this._map,e,a.geometry._originOnly))&&(h=k?this._getSymbol(a):
this._defaultMarker)){if(!a._offsets||a._offsets.join(",")!==c.join(",")?a._offsets=c:d=!0,!t||b||!d){var g=a.geometry.type,e={graphic:a},m=a._bgShape,u=k&&!a.symbol?this._getRenderer(a):null,n=u&&u.backgroundFillSymbol;if("point"===g)this._isInvalidShape(h,t)&&this._removeShape(a),a._shape=this._drawPoint(this._div,a.geometry,h,a.getDojoShape(),c,u,a),k&&this._symbolizePoint(a.getDojoShape(),h,u,a);else if("multipoint"===g)this._drawMarkers(a,h,c,u),k&&this._symbolizeMarkers(a,h,u);else{var f,g=
h,l,v;k&&(g=(f=h.isInstanceOf(q)?h:null)?n:h);g&&g===n&&(l=this._bgGroup);m&&!l&&this._removeBgShape(a);g&&(!l&&this._isInvalidShape(g,a._shape)&&this._removeShape(a,!1),v=this._drawShape(a,c,l||this._div,l?m:a.getDojoShape()),k&&this._symbolizeShape(v,g,!n&&u,a),a[l?"_bgShape":"_shape"]=v);f&&(this._isInvalidShape(f,a._shape)&&this._removeShape(a,!1),v=this._drawPoint(this._div,a.geometry.getCentroid(),f,a._shape,c,u,a),this._symbolizePoint(v,f,u,a),a._shape=v)}A||(a._bgShape&&this._initNode(a,a._bgShape,
a._bgShape!==m,e,s),a._shape&&this._initNode(a,a._shape,a._shape!==t,e,s));e.node=a.getNode();this.onGraphicDraw(e)}}else t&&this._removeShape(a)}catch(r){this._errorHandler(r,a)}},_initNode:function(a,b,e,c,q){if(b=b&&b.getNode())b.e_graphic=a,this._addDataAttrs(a,q,b),e&&(c.node=b,this.onGraphicNodeAdd(c))},_removeShape:function(a,b){var e=a.getDojoShape(),c=e&&e.getNode();e&&(e.removeShape(),e.destroy());a._shape=a._offsets=null;!1!==b&&this._removeBgShape(a);if(c&&(c.e_graphic=null,!A))this.onGraphicNodeRemove({graphic:a,
node:c})},_removeBgShape:function(a){var b=a._bgShape,e=b&&b.getNode();b&&(b.removeShape(),b.destroy(),a._bgShape=null);if(e&&(e.e_graphic=null,!A))this.onGraphicNodeRemove({graphic:a,node:e})},_addDataAttrs:function(a,b,e){var c=a.attributes,q,h=b?b.length:0,k=this._getRenderer(a);if(e&&c){for(q=0;q<h;q++)(e=b[q])&&a.attr("data-"+e,c[e]);!this.styling&&k&&(k.getBreakIndex?(b=k.getBreakIndex(a),a.attr("data-class-break",-1!==b?b:null)):k.getUniqueValueInfo&&(b=k.getUniqueValueInfo(a),a.attr("data-unique-value",
b?b.value:null)))}},_drawShape:function(a,b,e,c){a=a.geometry;var q=a.type,h=this._map,k=h.extent,s=h.width,t=h.height,h=h.__visibleRect,d=[],g,m;g="extent"===q;if("rect"===q||g)d={x:0,y:0,spatialReference:a.spatialReference},d.x=g?a.xmin:a.x,d.y=g?a.ymax:a.y,q=z.toScreenPoint(k,s,t,d),d.x=g?a.xmax:a.x+a.width,d.y=g?a.ymin:a.y+a.height,a=z.toScreenPoint(k,s,t,d),b={x:q.x-h.x+b[0],y:q.y-h.y,width:Math.abs(a.x-q.x),height:Math.abs(a.y-q.y)},0===b.width&&(b.width=1),0===b.height&&(b.height=1),c=this._drawRect(e,
c,b);else if("polyline"===q||"polygon"===q){g=0;for(m=b.length;g<m;g++)d=d.concat(z._toScreenPath(k,s,t,a,-h.x+b[g],-h.y));c=this._drawPath(e,c,d);this._rendererLimits&&("polyline"===q?this._clipPolyline(c,a):this._clipPolygon(c,a))}return c},_drawRect:function(a,b,e){return b?b.setShape(e):a.createRect(e)},_drawImage:function(a,b,e){return b?b.setShape(e):a.createImage(e)},_drawCircle:function(a,b,e){return b?b.setShape(e):a.createCircle(e)},_drawPath:function(){return y?function(a,b,e,c){e=c?e:
e.join(" ");if(b)return b.setShape(e);b=a.createObject(c?g.Path:g.EsriPath,e);a._overrideSize(b.getEventSource());return b}:function(a,b,e,c){e=c?e:e.join(" ");return b?b.setShape(e):a.createPath(e)}}(),_drawText:function(a,b,e){return b?b.setShape(e):a.createText(e)},_evalSDRenderer:function(){var a=this._map,b=this.renderer,e;a&&(a.loaded&&b&&b.getRendererInfo)&&(e="zoom"===b.rangeType?b.getRendererInfoByZoom(a.getZoom()):b.getRendererInfoByScale(a.getScale()));this._rndForScale=e&&e.renderer},
_getRenderer:function(a){var b=this._rndForScale||this.renderer;a&&(b&&b.getObservationRenderer)&&(b=b.getObservationRenderer(a));return b},_getSymbol:function(a){var b=this._getRenderer();return a.symbol||b&&b.getSymbol(a)},_applyOpacity:function(a,b,e){b=b.getOpacity(e);null!=b&&(a=new h(a),a.a=b);return a},_symbolizeShape:function(a,b,e,c){var q=b.getStroke(),h=b.getFill();b=b.type;var k,s,t=e&&e.proportionalSymbolInfo?e.getSize(c):null;if(e&&(e.colorInfo||e.opacityInfo)&&"picturefillsymbol"!==
b)-1!==b.indexOf("linesymbol")?(k=q&&q.color,e.colorInfo&&(k=e.getColor(c)),k&&e.opacityInfo&&(k=this._applyOpacity(k,e,c))):h&&h.toCss&&(s=h,e.colorInfo&&(s=e.getColor(c)),s&&e.opacityInfo&&(s=this._applyOpacity(s,e,c)));a.setStroke(null==t&&!k?q:p.mixin({},q,t&&{width:t},k&&{color:k})).setFill(s||h)},_smsToPath:function(){return y?function(a,b,e,c,q,h,k,s,t){switch(b){case a.STYLE_SQUARE:return["M",q+","+k,"L",h+","+k,h+","+s,q+","+s,"X","E"];case a.STYLE_CROSS:return["M",e+","+k,"L",e+","+s,"M",
q+","+c,"L",h+","+c,"E"];case a.STYLE_X:return["M",q+","+k,"L",h+","+s,"M",q+","+s,"L",h+","+k,"E"];case a.STYLE_DIAMOND:return["M",e+","+k,"L",h+","+c,e+","+s,q+","+c,"X","E"];case a.STYLE_TARGET:return["M",q+","+k,"L",h+","+k,h+","+s,q+","+s,q+","+k,"M",q-t+","+c,"L",q+","+c,"M",e+","+(k-t),"L",e+","+k,"M",h+t+","+c,"L",h+","+c,"M",e+","+(s+t),"L",e+","+s,"E"]}}:function(a,b,e,c,q,h,k,s,t){switch(b){case a.STYLE_SQUARE:return["M",q+","+k,h+","+k,h+","+s,q+","+s,"Z"];case a.STYLE_CROSS:return["M",
e+","+k,e+","+s,"M",q+","+c,h+","+c];case a.STYLE_X:return["M",q+","+k,h+","+s,"M",q+","+s,h+","+k];case a.STYLE_DIAMOND:return["M",e+","+k,h+","+c,e+","+s,q+","+c,"Z"];case a.STYLE_TARGET:return["M",q+","+k,h+","+k,h+","+s,q+","+s,q+","+k,"M",q-t+","+c,q+","+c,"M",e+","+(k-t),e+","+k,"M",h+t+","+c,h+","+c,"M",e+","+(s+t),e+","+s]}}}(),_pathStyles:{square:1,cross:1,x:1,diamond:1,target:1},_typeMaps:{picturemarkersymbol:"image",picturefillsymbol:"path",simplefillsymbol:"path",simplelinesymbol:"path",
cartographiclinesymbol:"path",textsymbol:"text"},_isInvalidShape:function(a,b){var e=b&&b.shape&&b.shape.type,c=a&&a.type,q=a&&a.style;c&&(q=this._typeMaps[c]||q);this._pathStyles[q]&&(q="path");return!(!e||!(q&&e!==q))},_drawPoint:function(b,e,c,q,h,k,s){var d=c.type,g=this._map,m=g.__visibleRect,u=z.toScreenPoint(g.extent,g.width,g.height,e).offset(-m.x+h[0],-m.y),g=u.x,m=u.y,n;e=[];var f=k&&k.rotationInfo?k.getRotationAngle(s):null,l=k&&k.proportionalSymbolInfo;k=l?k.getSize(s,{shape:c.style}):
null;f&&e.push(a.rotategAt(f,u));(0!==c.xoffset||0!==c.yoffset)&&e.push(a.translate(c.xoffset,-c.yoffset));0!==c.angle&&e.push(a.rotategAt(c.angle,u));if("simplemarkersymbol"===d)switch(n=c.style,d=Math.round,k=l?k:c.size,n){case t.STYLE_SQUARE:case t.STYLE_CROSS:case t.STYLE_X:case t.STYLE_DIAMOND:c=isNaN(k)?16:k/2;n=this._drawPath(b,q,this._smsToPath(t,n,g,m,d(g-c),d(g+c),d(m-c),d(m+c)));break;case t.STYLE_TARGET:u=c._targetWidth/2;l=c._targetHeight/2;n=this._drawPath(b,q,this._smsToPath(t,n,g,
m,d(g-u),d(g+u),d(m-l),d(m+l),c._spikeSize));break;case t.STYLE_PATH:n=this._drawPath(b,q,c.path,!0);c=n.getBoundingBox();b=this._getScaleMatrix(c,k);(1!==b.xx||1!==b.yy)&&e.push(a.scaleAt(b.xx,b.yy,u));e.push(a.translate(-(c.x+c.width/2)+g,-(c.y+c.height/2)+m));break;default:c=isNaN(k)?16:k/2,n=this._drawCircle(b,q,{cx:g,cy:m,r:c})}else"shieldlabelsymbol"===d?(n=c.width,u=c.height,q=b.createGroup(),n=b.createImage({x:g-n/2,y:m-u/2,width:n,height:u,src:c.url}),q.add(n),null!=c.font&&(m+=0.2*c.getHeight(),
b=b.createText({type:"text",text:c.text,x:g,y:m,align:"middle",decoration:c.decoration,rotated:c.rotated,kerning:c.kerning}),b.setFont(c.font),b.setFill(c.color),q.add(b)),n=q):"picturemarkersymbol"===d?(n=l?k:c.width,u=l?k:c.height,n=this._drawImage(b,q,{x:g-n/2,y:m-u/2,width:n,height:u,src:c.url})):"textsymbol"===d&&(n=this._drawText(b,q,{type:"text",text:c.text,x:g,y:m,align:c.getSVGAlign(),decoration:c.decoration||c.font&&c.font.decoration,rotated:c.rotated,kerning:c.kerning}),B&&(b=n.getNode(),
g=c.getSVGBaseline(),c=c.getSVGBaselineShift(),b&&(b.setAttribute("dominant-baseline",g),c&&b.setAttribute("baseline-shift",c))));n.setTransform(a.multiply(e));n._wrapOffsets=h;return n},_getScaleMatrix:function(a,b){var e=a.width/a.height,c=1,q=1;isNaN(b)||(1<e?(c=b/a.width,q=b/e/a.height):(q=b/a.height,c=b*e/a.width));return{xx:c,yy:q}},_symbolizePoint:function(a,b,e,c){var q=b.type;if(!("shieldlabelsymbol"===q||"picturemarkersymbol"===q)){var h;"textsymbol"===q?a.setFont(b.font).setFill(b.getFill()):
(h=b.getStroke(),b=b.getFill(),e&&(e.colorInfo&&(b=e.getColor(c)),b&&e.opacityInfo&&(b=this._applyOpacity(b,e,c))),"simplemarkersymbol"===q&&a.setFill(b).setStroke(h))}},_drawMarkers:function(a,b,e,c){var q=a.geometry,h=q.points,k=a.getDojoShape()||this._div.createGroup(),s,t,d=h.length,g=[],m=0,u,n=e?e.length:0;k.children[0]&&this._isInvalidShape(b,k.children[0])&&k.clear();for(t=0;t<d;t++){s=h[t];for(u=0;u<n;u++)g[0]=e[u],this._drawPoint(k,{x:s[0],y:s[1],spatialReference:q.spatialReference},b,k.children[m++],
g,c,a)}b=k.children.length;if(d*e.length<b)for(t=b-1;t>=d*e.length;t--)k.children[t].removeShape();a._shape=k},_symbolizeMarkers:function(a,b,e){var c=a.getDojoShape().children,q,h=c.length;for(q=0;q<h;q++)this._symbolizePoint(c[q],b,e,a)},_errorHandler:function(a,b){a.message=b?"Unable to draw graphic (geometry:"+(b.geometry?b.geometry.declaredClass:null)+", symbol:"+(b.symbol?b.symbol.declaredClass:null)+"): "+a.message:"Unable to draw graphic (null): "+a.message;this.inherited(arguments)},_rendererLimits:function(){var a,
b,e;k("ff")?(a=16125,b=-32250,e=32250):y?(a=1E5,b=-1E5,e=1E5):k("chrome")&&6>k("chrome")&&(a=8150,b=-1E4,e=1E4);if(a)return{clipLimit:a,rangeMin:b,rangeMax:e,clipBBox:[-a,-a,a,a],clipSegments:[[[-a,-a],[a,-a]],[[a,-a],[a,a]],[[a,a],[-a,a]],[[-a,a],[-a,-a]]]}}(),_clipPolyline:function(a,b){var e=this._getCorners(a,b),c=e.br,q=this._rendererLimits,h=q.rangeMin,k=q.rangeMax,s=q.clipBBox,t=q.clipSegments,q=this._isPointWithinRange,d=this._isPointWithinBBox,g=this._getClipperIntersection,m=this._getPlaneIndex;
if(!q(e.tl,h,k)||!q(c,h,k)){y&&this._createSegments(a);var u=[];r.forEach(a.segments,function(a){a=a.args;var b=a.length,e=[],c;for(c=0;c<b;c+=2){var q=[a[c],a[c+1]],h=[a[c+2],a[c+3]],k=d(q,s),n=d(h,s);if(k^n){if(n=g([q,h],t))k?(c?e.push(n[1]):e.push(q,n[1]),u.push(e),e=[]):e.push(n[1],h)}else k?c?e.push(h):e.push(q,h):(n=m(q,s),k=m(h,s),-1===n||(-1===k||n===k)||(q=g([q,h],t,!0),0<q.length&&(q[n]||(n=q[n[0]]?n[0]:n[1]),q[k]||(k=q[k[0]]?k[0]:k[1]),h=q[n],q=q[k],h&&e.push(h),q&&(e.push(q),u.push(e),
e=[]))))}u.push(e)});a.setShape(this._getPathStringFromPaths(u))}},_clipPolygon:function(a,b){var e=this._getCorners(a,b),c=e.br,q=this._rendererLimits,h=q.clipLimit,k=q.rangeMin,s=q.rangeMax,t=q.clipBBox,d=q.clipSegments,q=this._isPointWithinRange,g=this._isPointWithinBBox,m=this._getClipperIntersection,u=this._getPlaneIndex,n=C._pointLineDistance;if(!q(e.tl,k,s)||!q(c,k,s))y&&this._createSegments(a),e=r.map(a.segments,function(a){var b=a.args,e=b.length,c=[];a=[];var q;for(q=0;q<e;q+=2){var k=[b[q],
b[q+1]],s=[b[q+2],b[q+3]];if(q===e-2){c.push(k);break}var f=g(k,t),l=g(s,t);c.push(k);if(f^l){if(l=m([k,s],d))k=l[1],k[f?"inOut":"outIn"]=!0,c.push(k),a.push([f?"INOUT":"OUTIN",c.length-1,l[0]])}else if(!f){var f=u(k,t),v=u(s,t);-1===f||(-1===v||f===v)||(l=m([k,s],d,!0),0<l.length?(l[f]||(f=l[f[0]]?f[0]:f[1]),l[v]||(v=l[v[0]]?v[0]:v[1]),k=l[f],s=l[v],k&&(k.outIn=!0,c.push(k),a.push(["OUTIN",c.length-1,f])),s&&(s.inOut=!0,c.push(s),a.push(["INOUT",c.length-1,v]))):p.isArray(f)&&p.isArray(v)&&(l=f.concat(v),
l.sort(),"0123"===l.join("")&&(l=[],3===f[0]+f[1]?l.push([h,-h],[-h,h]):l.push([-h,-h],[h,h]),f=n(l[0],[k,s]),k=n(l[1],[k,s]),c.push(f<k?l[0]:l[1]))))}}var x=t[0],B=t[1],H=t[2],z=t[3];r.forEach(c,function(a){a[0]<x&&(a[1]>=B&&a[1]<=z?a[0]=x:(a[0]=x,a[1]=a[1]<B?B:z))});r.forEach(c,function(a){a[1]<B&&(a[0]>=x&&a[0]<=H?a[1]=B:(a[1]=B,a[0]=a[0]<x?x:H))});r.forEach(c,function(a){a[0]>H&&(a[1]>=B&&a[1]<=z?a[0]=H:(a[0]=H,a[1]=a[1]<B?B:z))});r.forEach(c,function(a){a[1]>z&&(a[0]>=x&&a[0]<=H?a[1]=z:(a[1]=
z,a[0]=a[0]<x?x:H))});b=0;e=a.length;if(0<e){do{s=a[b];q=a[(b+1)%e];if(s[2]===q[2]&&"INOUT"===s[0]&&"OUTIN"===q[0])if(k=s[1],q=q[1],k<q)for(k+=1;k<q;k++)c[k][2]=!0;else if(k>q){for(k+=1;k<c.length;k++)c[k][2]=!0;for(k=0;k<q;k++)c[k][2]=!0}b=(b+1)%e}while(0!==b)}e=c[0];b=c[c.length-1];e[2]&&(b[2]=!0,r.some(a,function(a){return 1===a[1]?(c.splice(c.length-1,0,p.clone(c[1])),!0):!1}));c=r.filter(c,function(a){return a[2]?!1:!0});for(b=0;b<c.length-1;b++)if(e=c[b],(q=c[b+1])&&!(e[0]!==q[0]||e[1]!==q[1]))q.outIn?
e.outIn=!0:q.inOut&&(e.inOut=!0),c.splice(b+1,1);e=Math.abs;a=[];for(b=0;b<c.length-1;b++){s=c[b];k=s[0];s=s[1];f=e(k)===h;l=e(s)===h;q=c[b+1];v=q[0];q=q[1];var y=e(v)===h,w=e(q)===h;f&&w?a.push([b+1,[k,q]]):l&&y&&a.push([b+1,[v,s]])}for(b=a.length-1;0<=b;b--)q=a[b],k=c[q[0]-1],e=c[q[0]],!k.outIn&&(!k.inOut&&!e.outIn&&!e.inOut)&&c.splice(q[0],0,q[1]);e=c[0];b=c[c.length-1];(e[0]!==b[0]||e[1]!==b[1])&&c.push(e);return c}),a.setShape(this._getPathStringFromPaths(e))},_getCorners:function(a,b){if(y){var e=
this._map,c=b.getExtent(),q=c.spatialReference,h=e.toScreen(new u(c.xmin,c.ymax,q)),e=e.toScreen(new u(c.xmax,c.ymin,q));return{tl:h,br:e}}h=a.getTransformedBoundingBox();return{tl:h[0],br:h[2]}},_createSegments:function(a){a.shape.path=a.vmlPath;a.segmented=!1;a._confirmSegmented();var b=a.segments;1<b.length&&(a.segments=r.filter(b,function(a,b,e){b=e[b+1];return"M"===a.action&&b&&"L"===b.action?(a.args=a.args.concat(b.args),!0):!1}))},_getPathStringFromPaths:function(a){y?(a=r.map(a,function(a){return"m "+
r.map(a,function(a,b){return(1===b?"l ":"")+a.join(",")}).join(" ")}),a.push("e")):a=r.map(a,function(a){return"M "+r.map(a,function(a){return a.join(",")}).join(" ")});return a.join(" ")},_isPointWithinBBox:function(a,b){var e=b[1],c=b[2],q=b[3],h=a[0],k=a[1];return h>b[0]&&h<c&&k>e&&k<q?!0:!1},_isPointWithinRange:function(a,b,e){var c=a.x;a=a.y;return c<b||a<b||c>e||a>e?!1:!0},_getClipperIntersection:function(a,b,e){var c,q=C._getLineIntersection2,h=Math.round,k={length:0};for(c=0;4>c;c++){var s=
q(a,b[c]);if(s)if(s[0]=h(s[0]),s[1]=h(s[1]),e)k[c]=s,k.length++;else return[c,s]}return e?k:null},_getPlaneIndex:function(a,b){var e=a[0],c=a[1],q=b[0],h=b[1],k=b[2],s=b[3];return e<=q?c>=h&&c<=s?3:c<h?[0,3]:[2,3]:c<=h?e>=q&&e<=k?0:e<q?[3,0]:[1,0]:e>=k?c>=h&&c<=s?1:c<h?[0,1]:[2,1]:c>=s?e>=q&&e<=k?2:e<q?[3,2]:[1,2]:-1},onGraphicAdd:function(){},onGraphicRemove:function(){},onGraphicNodeAdd:function(){},onGraphicNodeRemove:function(){},onGraphicDraw:function(){},onGraphicsClear:function(){},onRendererChange:function(){},
onOpacityChange:function(){},setInfoTemplate:function(a){this.infoTemplate=a},add:function(a,b){if(a._graphicsLayer===this)return a;b||this.graphics.push(a);a._graphicsLayer=this;a._layer=this;this._updateExtent(a);this._draw(a);if(!b)this.onGraphicAdd(a);return a},remove:function(a,b){if(!b){var e;if(-1===(e=r.indexOf(this.graphics,a)))return null;a=this.graphics.splice(e,1)[0]}a.getDojoShape()&&this._removeShape(a);a._shape=a._graphicsLayer=null;this.onGraphicRemove(a);return a},clear:function(a,
b){for(var e=this.graphics;0<e.length;)this.remove(e[0]);if(!b)this.onGraphicsClear()},_setIEOpacity:function(a,b){var e=a&&a.getNode();if(e){var c=a.strokeStyle,q=e.stroke;c&&q&&(q.opacity=c.color.a*b);c=a.fillStyle;q=e.fill;c&&q&&("tile"===q.type?m.set(e,"opacity",b):q.opacity=c.a*b)}},setOpacity:function(a,b){if(b||this.opacity!=a){var e=this._div;e&&(y?(r.forEach(this.graphics,function(b){this._setIEOpacity(b._shape,a);this._setIEOpacity(b._bgShape,a)},this),e._esriIeOpacity=a,this._bgGroup._esriIeOpacity=
a):this._canvas?m.set(e.getEventSource(),"opacity",a):e.getEventSource().setAttribute("opacity",a));this.opacity=a;if(!b)this.onOpacityChange(a)}},setRenderer:function(a){this.renderer=a;this._evalSDRenderer();this.onRendererChange()}});f=f([D,w],{declaredClass:"esri.layers.GraphicsLayer",constructor:function(){this.enableMouseEvents=p.hitch(this,this.enableMouseEvents);this.disableMouseEvents=p.hitch(this,this.disableMouseEvents);this._processEvent=p.hitch(this,this._processEvent);this._initLayer()},
_initLayer:function(){this.loaded=!0;this.onLoad(this)},_setMap:function(){var a=this.inherited("_setMap",arguments);this.enableMouseEvents();return a},_unsetMap:function(){this.disableMouseEvents();this.inherited("_unsetMap",arguments)},_processEvent:function(a){var b=this._map,e=a.target,c;a.screenPoint=new x(a.pageX-b.position.x,a.pageY-b.position.y);for(a.mapPoint=b.toMap(a.screenPoint);e&&!(c=e.e_graphic);)e=e.parentNode;if(c)return a.graphic=c,a},_onMouseOverHandler:function(a){if(this._processEvent(a))this.onMouseOver(a)},
_onMouseMoveHandler:function(a){if(this._processEvent(a))this.onMouseMove(a)},_onMouseDragHandler:function(a){if(this._processEvent(a))this.onMouseDrag(a)},_onMouseOutHandler:function(a){if(this._processEvent(a))this.onMouseOut(a)},_onMouseDownHandler:function(a){this._downGr=this._downPt=null;this._processEvent(a)&&(l.disconnect(this._onmousemove_connect),l.disconnect(this._onmousedrag_connect),this._onmousedrag_connect=l.connect(this._div.getEventSource(),"onmousemove",this,"_onMouseDragHandler"),
this._downGr=a.graphic,this._downPt=a.screenPoint.x+","+a.screenPoint.y,this.onMouseDown(a))},_onMouseUpHandler:function(a){this._upGr=this._upPt=null;this._processEvent(a)&&(l.disconnect(this._onmousedrag_connect),l.disconnect(this._onmousemove_connect),this._onmousemove_connect=l.connect(this._div.getEventSource(),"onmousemove",this,"_onMouseMoveHandler"),this._upGr=a.graphic,this._upPt=a.screenPoint.x+","+a.screenPoint.y,this.onMouseUp(a))},_onClickHandler:function(a){if(this._processEvent(a)){var b=
this._downGr,e=this._upGr;b&&(e&&b===e&&this._downPt===this._upPt)&&(y&&(c._ieGraphic=a.graphic),this.onClick(a))}},_onDblClickHandler:function(a){if(this._processEvent(a))this.onDblClick(a)},onMouseOver:function(){},onMouseMove:function(){},onMouseDrag:function(){},onMouseOut:function(){},onMouseDown:function(){},onMouseUp:function(){},onClick:function(){},onDblClick:function(){},enableMouseEvents:function(){if(!this._mouseEvents){var a=l.connect,b=this._div.getEventSource();A||(this._onmouseover_connect=
a(b,"onmouseover",this,"_onMouseOverHandler"),this._onmousemove_connect=a(b,"onmousemove",this,"_onMouseMoveHandler"),this._onmouseout_connect=a(b,"onmouseout",this,"_onMouseOutHandler"),this._onmousedown_connect=a(b,"onmousedown",this,"_onMouseDownHandler"),this._onmouseup_connect=a(b,"onmouseup",this,"_onMouseUpHandler"),this._onclick_connect=a(b,"onclick",this,"_onClickHandler"),this._ondblclick_connect=a(b,"ondblclick",this,"_onDblClickHandler"));this._mouseEvents=!0}},disableMouseEvents:function(){if(this._mouseEvents){var a=
l.disconnect;a(this._onmouseover_connect);a(this._onmousemove_connect);a(this._onmousedrag_connect);a(this._onmouseout_connect);a(this._onmousedown_connect);a(this._onmouseup_connect);a(this._onclick_connect);a(this._ondblclick_connect);this._mouseEvents=!1}}});f._GraphicsContainer=F;f._GraphicsLayer=D;k("extend-esri")&&(p.setObject("layers.GraphicsLayer",f,c),p.setObject("layers._GraphicsContainer",F,c),p.setObject("layers._GraphicsLayer",D,c));return f})},"esri/tasks/query":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel ../geometry/jsonUtils ./SpatialRelationship dojo/has!extend-esri?./QueryTask dojo/has!extend-esri?./RelationshipQuery dojo/has!extend-esri?./StatisticDefinition".split(" "),
function(f,l,p,r,d,n,m,g){var a=f(null,{declaredClass:"esri.tasks.Query",constructor:function(){this.spatialRelationship=a.SPATIAL_REL_INTERSECTS},text:null,where:"",geometry:null,groupByFieldsForStatistics:null,objectIds:null,returnGeometry:!1,returnDistinctValues:!1,orderByFields:null,outSpatialReference:null,outFields:null,outStatistics:null,timeExtent:null,relationParam:null,pixelSize:null,distance:null,units:null,resultOffset:null,resultRecordCount:null,_units:{meters:"esriSRUnit_Meter",kilometers:"esriSRUnit_Kilometer",
feet:"esriSRUnit_Foot",miles:"esriSRUnit_StatuteMile","nautical-miles":"esriSRUnit_NauticalMile","us-nautical-miles":"esriSRUnit_USNauticalMile"},toJson:function(b){var c={text:this.text,where:this.where,returnGeometry:this.returnGeometry,spatialRel:this.spatialRelationship,maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision},e=b&&b.geometry||this.geometry,k=this.objectIds,h=this.outFields,s=this.outSpatialReference,q=this.groupByFieldsForStatistics,t=this.orderByFields,
d=this.outStatistics;b=this.distance;e&&(c.geometry=e,c.geometryType=m.getJsonType(e),c.inSR=e.spatialReference.wkid||r.toJson(e.spatialReference.toJson()));k&&(c.objectIds=k.join(","));h&&(c.outFields=h.join(","));this.returnDistinctValues&&(c.returnDistinctValues=!0);q&&(c.groupByFieldsForStatistics=q.join(","));t&&(c.orderByFields=t.join(","));if(d){var g=[];p.forEach(d,function(a){g.push(a.toJson())});c.outStatistics=r.toJson(g)}null!==s?c.outSR=s.wkid||r.toJson(s.toJson()):e&&(c.outSR=e.spatialReference.wkid||
r.toJson(e.spatialReference.toJson()));e=this.timeExtent;c.time=e?e.toJson().join(","):null;if((e=this.relationParam)&&this.spatialRelationship===a.SPATIAL_REL_RELATION)c.relationParam=e;b&&(c.distance=this.distance,this.hasOwnProperty("units")?c.units=this._units[this.units]||this._units.meters:(console.warn("esri/tasks/query::no distance unit provided, defaulting to meters"),c.units=this._units.meters));this.hasOwnProperty("start")&&(c.resultOffset=this.start,c.resultRecordCount=10,""===c.where&&
(c.where="1\x3d1"));this.hasOwnProperty("num")&&(c.resultRecordCount=this.num);c.pixelSize=this.pixelSize?r.toJson(this.pixelSize.toJson()):null;c.multipatchOption=this.multipatchOption;c._ts=this._ts;return c}});l.mixin(a,g);d("extend-esri")&&l.setObject("tasks.Query",a,n);return a})},"esri/layers/ArcGISDynamicMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/sniff dojo/io-query ../kernel ../config ../request ../urlUtils ../layerUtils ../geometry/scaleUtils ./DynamicMapServiceLayer ./ArcGISMapServiceLayer ./TimeInfo ./LayerTimeOptions ./ImageParameters ./DynamicLayerInfo ./LayerMapSource".split(" "),
function(f,l,p,r,d,n,m,g,a,b,c,e,k,h,s,q,t,u,x){f=f([k,h],{declaredClass:"esri.layers.ArcGISDynamicMapServiceLayer",_eventMap:{"gdb-version-change":!0},constructor:function(a,b,e){a=b&&b.imageParameters;var c=l.hitch;if(a){var q=a.layerDefinitions;q&&this.setLayerDefinitions(q);a.layerOption===t.LAYER_OPTION_SHOW&&(this.visibleLayers=[].concat(a.layerIds))}this._setIsPNG32=c(this,this._setIsPNG32);this.dpi=a&&a.dpi||96;this.imageFormat=a&&a.format||"png8";this.imageTransparency=a&&!1===a.transparent?
!1:!0;this._setIsPNG32();this.gdbVersion=b&&b.gdbVersion;this._params.gdbVersion=this.gdbVersion;l.mixin(this._params,this._url.query,{dpi:this.dpi,transparent:this.imageTransparency,format:this.imageFormat},a?a.toJson():{});this.getImageUrl=c(this,this.getImageUrl);this._initLayer=c(this,this._initLayer);this._load=c(this,this._load);this.useMapImage=b?b.useMapImage:!1;this._loadCallback=b&&b.loadCallback;(b=b&&b.resourceInfo)?this._initLayer(b):(void 0===e||!1===e)&&this._load();this.registerConnectEvents()},
disableClientCaching:!1,layerDefinitions:null,_initLayer:function(a,b){this.inherited(arguments);a.timeInfo&&(this.timeInfo=new s(a.timeInfo));this.loaded=!0;this.onLoad(this);var e=this._loadCallback;e&&(delete this._loadCallback,e(this))},getImageUrl:function(e,c,q,h){var k=this._url.path+"/export?",s=this._params,t=e.spatialReference.wkid||r.toJson(e.spatialReference.toJson()),d=this._errorHandler;delete s._ts;l.mixin(s,{bbox:e.xmin+","+e.ymin+","+e.xmax+","+e.ymax,bboxSR:t,imageSR:t,size:c+","+
q},this.disableClientCaching?{_ts:(new Date).getTime()}:{});s.layerDefs&&(e=s.layerDefs,delete s.layerDefs,l.mixin(s,{layerDefs:e}));var m=s.token=this._getToken();e=b.addProxy(k+n.objectToQuery(l.mixin({},s,{f:"image"})));e.length>g.defaults.io.postLength||this.useMapImage?this._jsonRequest=a({url:k,content:l.mixin(s,{f:"json"}),callbackParamName:"callback",load:function(a){a=a.href;m&&(a+=-1===a.indexOf("?")?"?token\x3d"+m:"\x26token\x3d"+m);h(b.addProxy(a))},error:d}):h(e)},_setIsPNG32:function(){var a=
this.imageFormat.toLowerCase(),b=d("ie");this.isPNG32=b&&6===b&&("png32"===a||"png24"===a)&&this.imageTransparency},_setTime:function(a){var b=this.timeInfo;a=this._params.time=a?a.toJson().join(","):null;if(10.02>this.version&&b)if(a)this._params.layerTimeOptions=c._serializeTimeOptions(this.layerTimeOptions);else{var e=this.layerInfos;if(e){var h=this.layerTimeOptions,k=h?h.slice(0):[],s=[];p.forEach(e,function(a){a.subLayerIds||s.push(a.id)});s.length&&(p.forEach(s,function(a){if(!k[a]){var b=
new q;b.useTime=!1;k[a]=b}}),this._params.layerTimeOptions=c._serializeTimeOptions(k,s))}}10.02<=this.version&&b&&(!a&&!b.hasLiveData)&&(this._params.time="null,null")},setDPI:function(a,b){this.dpi=this._params.dpi=a;b||this.refresh(!0)},setImageFormat:function(a,b){this.imageFormat=this._params.format=a;this._setIsPNG32();b||this.refresh(!0)},setImageTransparency:function(a,b){this.imageTransparency=this._params.transparent=a;this._setIsPNG32();b||this.refresh(!0)},setVisibleLayers:function(a,b){this.visibleLayers=
a;this._params.layers=t.LAYER_OPTION_SHOW+":"+a.join(",");this._updateDynamicLayers();b||this.refresh(!0)},setDefaultVisibleLayers:function(a){this.visibleLayers=this._defaultVisibleLayers;this._params.layers=null;this._updateDynamicLayers();a||this.refresh(!0)},setLayerDefinitions:function(a,b){this.layerDefinitions=a;this._params.layerDefs=c._serializeLayerDefinitions(a);this._updateDynamicLayers();b||this.refresh(!0)},setDefaultLayerDefinitions:function(a){this.layerDefinitions=this._params.layerDefs=
null;this._updateDynamicLayers();a||this.refresh(!0)},setDisableClientCaching:function(a){this.disableClientCaching=a},setLayerTimeOptions:function(a,b){this.layerTimeOptions=a;this._params.layerTimeOptions=c._serializeTimeOptions(a);this._updateDynamicLayers();b||this.refresh(!0)},refresh:function(a){if(a)this.inherited(arguments);else{var b=this.disableClientCaching;this.disableClientCaching=!0;this.inherited(arguments);this.disableClientCaching=b}},setLayerDrawingOptions:function(a,b){this.layerDrawingOptions=
a;this._updateDynamicLayers();b||this.refresh(!0)},setDynamicLayerInfos:function(a,b){a&&0<a.length?(this.dynamicLayerInfos=a,this.visibleLayers=c._getDefaultVisibleLayers(a)):this.dynamicLayerInfos=this.layerDrawingOptions=null;this._updateDynamicLayers();b||this.refresh(!0)},createDynamicLayerInfosFromLayerInfos:function(){var a=[],b;p.forEach(this.layerInfos,function(e){b=new u(e.toJson());b.source=new x({mapLayerId:e.id});a.push(b)});return a},_onDynamicLayersChange:function(){},_updateDynamicLayers:function(){if(this.dynamicLayerInfos&&
0<this.dynamicLayerInfos.length||this.layerDrawingOptions&&0<this.layerDrawingOptions.length){if(!this.dynamicLayerInfos||0===this.dynamicLayerInfos.length)this.dynamicLayerInfos=this.createDynamicLayerInfosFromLayerInfos();var a;a=this.dynamicLayerInfos;var b=[],q=this._map&&e.getScale(this._map),h=this.visibleLayers,k=q?c._getLayersForScale(q,a):h;p.forEach(a,function(a){if(!a.subLayerIds){var e,c=a.id;if(-1!==p.indexOf(h,c)&&-1!==p.indexOf(k,c)){e={id:c,name:a.name};e.source=a.source&&a.source.toJson();
var q;this.layerDefinitions&&this.layerDefinitions[c]&&(q=this.layerDefinitions[c]);q&&(e.definitionExpression=q);var s;this.layerDrawingOptions&&this.layerDrawingOptions[c]&&(s=this.layerDrawingOptions[c]);s&&(e.drawingInfo=s.toJson());var t;this.layerTimeOptions&&this.layerTimeOptions[c]&&(t=this.layerTimeOptions[c]);t&&(e.layerTimeOptions=t.toJson());e.minScale=a.minScale||0;e.maxScale=a.maxScale||0;b.push(e)}}},this);a=r.toJson(b);if(!this._params.dynamicLayers||this._params.dynamicLayers.length!==
a.length||this._params.dynamicLayers!==a)this._params.dynamicLayers=a,this._onDynamicLayersChange(this._params.dynamicLayers)}else this._params.dynamicLayers?(this._params.dynamicLayers=null,this._onDynamicLayersChange(null)):this._params.dynamicLayers=null},_onExtentChangeHandler:function(a,b,e){e&&this._updateDynamicLayers();this.inherited(arguments)},_setMap:function(a,b,e){this._map=a;this._updateDynamicLayers();return this.inherited(arguments)},onGDBVersionChange:function(){},setGDBVersion:function(a,
b){this.gdbVersion=a;this._params.gdbVersion=a;this.onGDBVersionChange();b||this.refresh(!0)},exportMapImage:function(a,b){var e=g.defaults.map,e=l.mixin({size:e.width+","+e.height},this._params,a?a.toJson(this.normalization):{},{f:"json"});delete e._ts;if(e.layerDefs){var c=e.layerDefs;delete e.layerDefs;l.mixin(e,{layerDefs:c})}this._exportMapImage(this._url.path+"/export",e,b)}});d("extend-esri")&&l.setObject("layers.ArcGISDynamicMapServiceLayer",f,m);return f})},"esri/plugins/popupManager":function(){define(["../PopupManager"],
function(f){return{add:function(l,p){l.popupManager||(l.popupManager=new f(p),l.popupManager.setMap(l))},remove:function(f){var p=f.popupManager;p&&(p.unsetMap(),f.popupManager=void 0)}}})},"esri/layers/MapImage":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../domUtils ../geometry/Extent".split(" "),function(f,l,p,r,d,n){f=f(null,{declaredClass:"esri.layers.MapImage",constructor:function(d){l.mixin(this,d);this.extent=new n(this.extent)},visible:!0,getLayer:function(){return this._layer},
getNode:function(){return this._node},show:function(){if(!this.visible){this.visible=!0;var m=this._node,g=this._layer,a;if(m){if(a=g&&g._div)g.suspended||g._setPos(m,a._left,a._top),(g._active||a).appendChild(m);d.show(m)}}},hide:function(){if(this.visible){this.visible=!1;var m=this._node;m&&(d.hide(m),m.parentNode&&m.parentNode.removeChild(m))}}});p("extend-esri")&&l.setObject("layers.MapImage",f,r);return f})},"esri/symbols/Symbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../Color".split(" "),
function(f,l,p,r,d,n){f=f(null,{declaredClass:"esri.symbol.Symbol",color:new n([0,0,0,1]),type:null,constructor:function(m){if(m&&l.isObject(m)&&(l.mixin(this,m),this.color&&d.isDefined(this.color[0])&&(this.color=n.toDojoColor(this.color)),(m=this.type)&&0===m.indexOf("esri")))this.type={esriSMS:"simplemarkersymbol",esriPMS:"picturemarkersymbol",esriSLS:"simplelinesymbol",esriCLS:"cartographiclinesymbol",esriSFS:"simplefillsymbol",esriPFS:"picturefillsymbol",esriTS:"textsymbol",esriSHD:"shieldlabelsymbol"}[m]},
setColor:function(d){this.color=d;return this},toJson:function(){return{color:n.toJsonColor(this.color)}}});p("extend-esri")&&l.setObject("symbol.Symbol",f,r);return f})},"esri/symbol":function(){define("./symbols/Symbol ./symbols/MarkerSymbol ./symbols/SimpleMarkerSymbol ./symbols/PictureMarkerSymbol ./symbols/LineSymbol ./symbols/SimpleLineSymbol ./symbols/CartographicLineSymbol ./symbols/FillSymbol ./symbols/SimpleFillSymbol ./symbols/PictureFillSymbol ./symbols/Font ./symbols/TextSymbol ./symbols/jsonUtils".split(" "),
function(f,l,p,r,d,n,m,g,a,b,c,e,k){return{Symbol:f,MarkerSymbol:l,SimpleMarkerSymbol:p,PictureMarkerSymbol:r,LineSymbol:d,SimpleLineSymbol:n,CartographicLineSymbol:m,FillSymbol:g,SimpleFillSymbol:a,PictureFillSymbol:b,Font:c,TextSymbol:e,jsonUtils:k}})},"esri/SpatialReference":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ./kernel ./lang".split(" "),function(f,l,p,r,d,n){var m=[-2.0037508342788905E7,2.0037508342788905E7],g=[-2.0037508342787E7,2.0037508342787E7];
f=f(null,{declaredClass:"esri.SpatialReference",constructor:function(a){a&&(p.isObject(a)?p.mixin(this,a):p.isString(a)?this.wkt=a:this.wkid=a)},wkid:null,wkt:null,_info:{102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:m,origin:g,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:m,origin:g,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:m,origin:g,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:m,origin:g,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",${Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}},_isWebMercator:function(){return-1!==l.indexOf([102113,102100,3857,3785],this.wkid)},_isWrappable:function(){return-1!==l.indexOf([102113,102100,3857,3785,4326],this.wkid)},_getInfo:function(){return this.wkid?this._info[this.wkid]:null},_canProject:function(a){var b=!1;a&&(b=this.isWebMercator()&&4326===a.wkid||a.isWebMercator()&&4326===this.wkid);return b},isWebMercator:function(){return this._isWebMercator()},equals:function(a){var b=!1;a&&(this===a&&
(b=!0),this.wkid||a.wkid?b=this.wkid===a.wkid||this.isWebMercator()&&a.isWebMercator()||this.wkid===a.latestWkid||a.wkid===this.latestWkid:this.wkt&&a.wkt&&(b=this.wkt.toUpperCase()===a.wkt.toUpperCase()));return b},toJson:function(){var a=null,b=n.isDefined;b(this.wkid)?a={wkid:this.wkid}:b(this.wkt)&&(a={wkt:this.wkt});a&&b(this.latestWkid)&&(a.latestWkid=this.latestWkid);return a}});r("extend-esri")&&(d.SpatialReference=f);return f})},"esri/layers/LabelClass":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../lang ../symbols/TextSymbol ../symbols/ShieldLabelSymbol".split(" "),
function(f,l,p,r,d,n,m,g){f=f(null,{declaredClass:"esri.layers.LabelClass",labelPlacement:null,labelExpression:null,useCodedValues:null,symbol:null,maxScale:0,minScale:0,where:null,sizeInfo:null,_labelPlacementLookup:{"above-center":"esriServerPointLabelPlacementAboveCenter","above-left":"esriServerPointLabelPlacementAboveLeft","above-right":"esriServerPointLabelPlacementAboveRight","below-center":"esriServerPointLabelPlacementBelowCenter","below-left":"esriServerPointLabelPlacementBelowLeft","below-right":"esriServerPointLabelPlacementBelowRight",
"center-center":"esriServerPointLabelPlacementCenterCenter","center-left":"esriServerPointLabelPlacementCenterLeft","center-right":"esriServerPointLabelPlacementCenterRight","above-after":"esriServerLinePlacementAboveAfter","above-along":"esriServerLinePlacementAboveAlong","above-before":"esriServerLinePlacementAboveBefore","above-start":"esriServerLinePlacementAboveStart","above-end":"esriServerLinePlacementAboveEnd","below-after":"esriServerLinePlacementBelowAfter","below-along":"esriServerLinePlacementBelowAlong",
"below-before":"esriServerLinePlacementBelowBefore","below-start":"esriServerLinePlacementBelowStart","below-end":"esriServerLinePlacementBelowEnd","center-after":"esriServerLinePlacementCenterAfter","center-along":"esriServerLinePlacementCenterAlong","center-before":"esriServerLinePlacementCenterBefore","center-start":"esriServerLinePlacementCenterStart","center-end":"esriServerLinePlacementCenterEnd","always-horizontal":"esriServerPolygonPlacementAlwaysHorizontal"},constructor:function(a){if(a&&
(l.mixin(this,a),this._labelPlacementLookup.hasOwnProperty(this.labelPlacement)||(this.labelPlacement=n.valueOf(this._labelPlacementLookup,a.labelPlacement)),a.symbol&&(this.symbol="esriSHD"===a.symbol.type?new g(a.symbol):new m(a.symbol)),a=this.sizeInfo))a.minSize&&(a.minSize=r.pt2px(a.minSize)),a.maxSize&&(a.maxSize=r.pt2px(a.maxSize))},getSymbol:function(){return this.symbol},toJson:function(){var a=this.sizeInfo;a&&(a=l.mixin({},a),a.minSize&&(a.minSize=r.px2pt(a.minSize)),a.maxSize&&(a.maxSize=
r.px2pt(a.maxSize)));a={labelExpression:this.labelExpression,labelExpressionInfo:this.labelExpressionInfo&&l.clone(this.labelExpressionInfo),useCodedValues:this.useCodedValues,maxScale:this.maxScale,minScale:this.minScale,where:this.where,sizeInfo:a,labelPlacement:this._labelPlacementLookup.hasOwnProperty(this.labelPlacement)?this._labelPlacementLookup[this.labelPlacement]:this.labelPlacement,symbol:this.symbol&&this.symbol.toJson()};return n.fixJson(a)}});p("extend-esri")&&l.setObject("layers.LabelClass",
f,d);return f})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),function(f,l,p,r,d,n,m,g,a){var b=l.getObject("dojox.gfx",!0),c=b._base={};b._hasClass=function(a,b){var e=a.getAttribute("className");return e&&0<=(" "+e+" ").indexOf(" "+b+" ")};b._addClass=function(a,b){var e=a.getAttribute("className")||"";if(!e||0>(" "+e+" ").indexOf(" "+b+" "))a.setAttribute("className",
e+(e?" ":"")+b)};b._removeClass=function(a,b){var e=a.getAttribute("className");e&&a.setAttribute("className",e.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)"),"$1$2"))};c._getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},b,e;r("ie")&&(e=d.doc.documentElement.style.fontSize||"",e||(d.doc.documentElement.style.fontSize="100%"));var c=g.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",
height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},d.body());for(b in a)c.style.fontSize=b,a[b]=16*Math.round(12*c.offsetHeight/16)/12/1E3;r("ie")&&(d.doc.documentElement.style.fontSize=e);d.body().removeChild(c);return a};var e=null;c._getCachedFontMeasurements=function(a){if(a||!e)e=c._getFontMeasurements();return e};var k=null,h={};c._getTextBox=function(b,e,c){var s,m,n=arguments.length,f;k||(k=g.create("div",{style:{position:"absolute",top:"-10000px",
left:"0",visibility:"hidden"}},d.body()));s=k;s.className="";m=s.style;m.borderWidth="0";m.margin="0";m.padding="0";m.outline="0";if(1<n&&e)for(f in e)f in h||(m[f]=e[f]);2<n&&c&&(s.className=c);s.innerHTML=b;s.getBoundingClientRect?(m=s.getBoundingClientRect(),m={l:m.left,t:m.top,w:m.width||m.right-m.left,h:m.height||m.bottom-m.top}):m=a.getMarginBox(s);s.innerHTML="";return m};c._computeTextLocation=function(a,b,e,c){var h={};switch(a.align){case "end":h.x=a.x-b;break;case "middle":h.x=a.x-b/2;
break;default:h.x=a.x}h.y=a.y-e*(c?0.75:1);return h};c._computeTextBoundingBox=function(a){if(!b._base._isRendered(a))return{x:0,y:0,width:0,height:0};var e;e=a.getShape();var h=a.getFont()||b.defaultFont;a=a.getTextWidth();h=b.normalizedLength(h.size);e=c._computeTextLocation(e,a,h,!0);return{x:e.x,y:e.y,width:a,height:h}};c._isRendered=function(a){for(a=a.parent;a&&a.getParent;)a=a.parent;return null!==a};var s=0;c._getUniqueId=function(){var a;do a=f._scopeName+"xUnique"+ ++s;while(m.byId(a));
return a};c._fixMsTouchAction=function(a){a=a.rawNode;"undefined"!=typeof a.style.msTouchAction&&(a.style.msTouchAction="none")};l.mixin(b,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",
x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",
x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var a={};return function(e){var c=a[e];if(c)return new c;c=a[e]=new Function;c.prototype=b["default"+e];return new c}}(),normalizeColor:function(a){return a instanceof p?a:new p(a)},normalizeParameters:function(a,b){var e;if(b){var c={};for(e in a)e in b&&!(e in c)&&(a[e]=b[e])}return a},makeParameters:function(a,b){var e=null;if(!b)return l.delegate(a);
var c={};for(e in a)e in c||(c[e]=l.clone(e in b?b[e]:a[e]));return c},formatNumber:function(a,b){var e=a.toString();if(0<=e.indexOf("e"))e=a.toFixed(4);else{var c=e.indexOf(".");0<=c&&5<e.length-c&&(e=a.toFixed(4))}return 0>a?e:b?" "+e:e},makeFontString:function(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+" "+a.family},splitFontString:function(a){var e=b.getDefault("Font");a=a.split(/\s+/);if(!(5>a.length)){e.style=a[0];e.variant=a[1];e.weight=a[2];var c=a[3].indexOf("/");e.size=0>c?
a[3]:a[3].substring(0,c);var h=4;0>c&&("/"==a[4]?h=6:"/"==a[4].charAt(0)&&(h=5));h<a.length&&(e.family=a.slice(h).join(" "))}return e},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return b._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(a){return a*b.px_in_pt()},px2pt:function(a){return a/b.px_in_pt()},normalizedLength:function(a){if(0===a.length)return 0;if(2<a.length){var e=b.px_in_pt(),c=parseFloat(a);switch(a.slice(-2)){case "px":return c;case "pt":return c*e;case "in":return 72*
c*e;case "pc":return 12*c*e;case "mm":return c*b.mm_in_pt*e;case "cm":return c*b.cm_in_pt*e}}return parseFloat(a)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,equalSources:function(a,b){return a&&b&&a===b},switchTo:function(a){var e="string"==typeof a?b[a]:a;e&&(n.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath EsriPath Surface createSurface fixTarget".split(" "),function(a){b[a]=
e[a]}),"string"==typeof a?b.renderer=a:n.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(a){return b.renderer=b[a]&&b[a].Surface===b.Surface?a:null}))}});return b})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(f,l,p,r){return f("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(d){var n=this._attrPairNames;return n[d]?n[d]:n[d]={s:"_"+d+"Setter",g:"_"+d+"Getter"}},postscript:function(d){d&&this.set(d)},_get:function(d,
n){return"function"===typeof this[n.g]?this[n.g]():this[d]},get:function(d){return this._get(d,this._getAttrNames(d))},set:function(d,n){if("object"===typeof d){for(var m in d)d.hasOwnProperty(m)&&"_watchCallbacks"!=m&&this.set(m,d[m]);return this}m=this._getAttrNames(d);var g=this._get(d,m);m=this[m.s];var a;"function"===typeof m?a=m.apply(this,Array.prototype.slice.call(arguments,1)):this[d]=n;if(this._watchCallbacks){var b=this;r(a,function(){b._watchCallbacks(d,g,n)})}return this},_changeAttrValue:function(d,
n){var m=this.get(d);this[d]=n;this._watchCallbacks&&this._watchCallbacks(d,m,n);return this},watch:function(d,n){var m=this._watchCallbacks;if(!m)var g=this,m=this._watchCallbacks=function(a,b,k,h){var s=function(q){if(q){q=q.slice();for(var h=0,s=q.length;h<s;h++)q[h].call(g,a,b,k)}};s(m["_"+a]);h||s(m["*"])};!n&&"function"===typeof d?(n=d,d="*"):d="_"+d;var a=m[d];"object"!==typeof a&&(a=m[d]=[]);a.push(n);var b={};b.unwatch=b.remove=function(){var b=p.indexOf(a,n);-1<b&&a.splice(b,1)};return b}})})},
"esri/layers/TableDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./DataSource".split(" "),function(f,l,p,r,d,n){f=f(n,{declaredClass:"esri.layers.TableDataSource",toJson:function(){return d.fixJson({type:"table",workspaceId:this.workspaceId,dataSourceName:this.dataSourceName,gdbVersion:this.gdbVersion})}});p("extend-esri")&&l.setObject("layers.TableDataSource",f,r);return f})},"dojox/xml/parser":function(){define(["dojo/_base/kernel","dojo/_base/lang",
"dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(f){f.getObject("xml.parser",!0,dojox);dojox.xml.parser.parse=function(l,p){var r=f.doc,d;p=p||"text/xml";if(l&&f.trim(l)&&"DOMParser"in f.global){d=(new DOMParser).parseFromString(l,p);r=d.documentElement;if("parsererror"==r.nodeName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"==r.namespaceURI){var n=r.getElementsByTagNameNS("http://www.mozilla.org/newlayout/xml/parsererror.xml","sourcetext")[0];n&&(n=n.firstChild.data);
throw Error("Error parsing text "+r.firstChild.data+" \n"+n);}return d}if("ActiveXObject"in f.global){r=function(d){return"MSXML"+d+".DOMDocument"};r=["Microsoft.XMLDOM",r(6),r(4),r(3),r(2)];f.some(r,function(g){try{d=new ActiveXObject(g)}catch(a){return!1}return!0});if(l&&d&&(d.async=!1,d.loadXML(l),r=d.parseError,0!==r.errorCode))throw Error("Line: "+r.line+"\nCol: "+r.linepos+"\nReason: "+r.reason+"\nError Code: "+r.errorCode+"\nSource: "+r.srcText);if(d)return d}else if(r.implementation&&r.implementation.createDocument){if(l&&
f.trim(l)&&r.createElement){n=r.createElement("xml");n.innerHTML=l;var m=r.implementation.createDocument("foo","",null);f.forEach(n.childNodes,function(d){m.importNode(d,!0)});return m}return r.implementation.createDocument("","",null)}return null};dojox.xml.parser.textContent=function(l,p){if(1<arguments.length)return dojox.xml.parser.replaceChildren(l,(l.ownerDocument||f.doc).createTextNode(p)),p;if(void 0!==l.textContent)return l.textContent;var r="";l&&f.forEach(l.childNodes,function(d){switch(d.nodeType){case 1:case 5:r+=
dojox.xml.parser.textContent(d);break;case 3:case 2:case 4:r+=d.nodeValue}});return r};dojox.xml.parser.replaceChildren=function(l,p){var r=[];f.isIE&&f.forEach(l.childNodes,function(d){r.push(d)});dojox.xml.parser.removeChildren(l);f.forEach(r,f.destroy);f.isArray(p)?f.forEach(p,function(d){l.appendChild(d)}):l.appendChild(p)};dojox.xml.parser.removeChildren=function(f){for(var p=f.childNodes.length;f.hasChildNodes();)f.removeChild(f.firstChild);return p};dojox.xml.parser.innerXML=function(f){return f.innerXML?
f.innerXML:f.xml?f.xml:"undefined"!=typeof XMLSerializer?(new XMLSerializer).serializeToString(f):null};return dojox.xml.parser})},"esri/geometry/normalizeUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/has ../kernel ../config ../deferredUtils ./Polyline ./Polygon ./webMercatorUtils ./jsonUtils".split(" "),function(f,l,p,r,d,n,m,g,a,b,c){function e(a,b){return Math.ceil((a-b)/(2*b))}function k(a,b){var e=a.paths||a.rings,c,q,h=e.length,k;for(c=0;c<h;c++){k=e[c].length;
for(q=0;q<k;q++){var s=a.getPoint(c,q);a.setPoint(c,q,s.offset(b,0))}}return a}function h(b,e){if(!(b instanceof g||b instanceof a))throw console.error("_straightLineDensify: the input geometry is neither polyline nor polygon"),Error("_straightLineDensify: the input geometry is neither polyline nor polygon");var c=b instanceof g,q=[],h;f.forEach(c?b.paths:b.rings,function(a){q.push(h=[]);h.push([a[0][0],a[0][1]]);var b,c,k,s,d,g,t,m,n,f,u,l;for(d=0;d<a.length-1;d++){b=a[d][0];c=a[d][1];k=a[d+1][0];
s=a[d+1][1];t=Math.sqrt((k-b)*(k-b)+(s-c)*(s-c));m=(s-c)/t;n=(k-b)/t;f=t/e;if(1<f){for(g=1;g<=f-1;g++)l=g*e,u=n*l+b,l=m*l+c,h.push([u,l]);g=(t+Math.floor(f-1)*e)/2;u=n*g+b;l=m*g+c;h.push([u,l])}h.push([k,s])}});return c?new g({paths:q,spatialReference:b.spatialReference}):new a({rings:q,spatialReference:b.spatialReference})}function s(a,e,c){e&&(a=h(a,1E6),a=b.webMercatorToGeographic(a,!0));c&&(a=k(a,c));return a}function q(a,b,c){var q=a.x||a[0],h;q>b?(h=e(q,b),a.x?a=a.offset(h*-2*b,0):a[0]=q+h*
-2*b):q<c&&(h=e(q,c),a.x?a=a.offset(h*-2*c,0):a[0]=q+h*-2*c);return a}function t(a,b){var c=-1;f.forEach(b.cutIndexes,function(q,h){var k=b.geometries[h];f.forEach(k.rings||k.paths,function(a,b){f.some(a,function(c){if(!(180>c[0])){c=0;var q,h=a.length,s;for(q=0;q<h;q++)s=a[q][0],c=s>c?s:c;c=Number(c.toFixed(9));c=-360*e(c,180);h=a.length;for(q=0;q<h;q++)s=k.getPoint(b,q),k.setPoint(b,q,s.offset(c,0))}return!0})});q===c?k.rings?f.forEach(k.rings,function(b,e){a[q]=a[q].addRing(b)}):f.forEach(k.paths,
function(b,e){a[q]=a[q].addPath(b)}):(c=q,a[q]=k)});return a}function u(h,d,m,n){var u=new p;u.addCallbacks(m,n);var l=[],r=[],x,z,v,C,J,Q,P,M,S=0;f.forEach(h,function(b){if(b)if(x||(x=b.spatialReference,z=x._getInfo(),C=(v=x._isWebMercator())?2.0037508342788905E7:180,J=v?-2.0037508342788905E7:-180,Q=v?102100:4326,P=new g({paths:[[[C,J],[C,C]]],spatialReference:{wkid:Q}}),M=new g({paths:[[[J,J],[J,C]]],spatialReference:{wkid:Q}})),z){var h=c.fromJson(b.toJson()),d=b.getExtent();"point"===b.type?l.push(q(h,
C,J)):"multipoint"===b.type?(h.points=f.map(h.points,function(a){return q(a,C,J)}),l.push(h)):"extent"===b.type?(h=d._normalize(null,null,z),l.push(h.rings?new a(h):h)):d?(b=e(d.xmin,J)*2*C,h=0===b?h:k(h,b),d=d.offset(b,0),d.intersects(P)&&d.xmax!==C?(S=d.xmax>S?d.xmax:S,h=s(h,v),r.push(h),l.push("cut")):d.intersects(M)&&d.xmin!==J?(S=d.xmax*2*C>S?d.xmax*2*C:S,h=s(h,v,360),r.push(h),l.push("cut")):l.push(h)):l.push(h)}else l.push(b);else l.push(b)});m=new g;n=e(S,C);for(var T=-90,Y=n;0<n;){var aa=
-180+360*n;m.addPath([[aa,T],[aa,-1*T]]);T*=-1;n--}0<r.length&&0<Y?d?d.cut(r,m,function(a){r=t(r,a);var e=[];f.forEach(l,function(a,c){if("cut"===a){var q=r.shift();h[c].rings&&1<h[c].rings.length&&q.rings.length>=h[c].rings.length?(l[c]="simplify",e.push(q)):l[c]=!0===v?b.geographicToWebMercator(q):q}});0<e.length?d.simplify(e,function(a){f.forEach(l,function(e,c){"simplify"===e&&(l[c]=!0===v?b.geographicToWebMercator(a.shift()):a.shift())});u.callback(l)},function(a){u.errback(a)}):u.callback(l)},
function(a){u.errback(a)}):u.errback(Error("esri.geometry.normalizeCentralMeridian: 'geometryService' argument is missing.")):(f.forEach(l,function(a,e){if("cut"===a){var c=r.shift();l[e]=!0===v?b.geographicToWebMercator(c):c}}),u.callback(l));return u}function x(a,b,e,c){var h=!1,q;l.isObject(a)&&a&&(l.isArray(a)?a.length&&((q=a[0]&&a[0].declaredClass)&&-1!==q.indexOf("Graphic")?(a=f.map(a,function(a){return a.geometry}),h=a.length?!0:!1):q&&-1!==q.indexOf("esri.geometry.")&&(h=!0)):(q=a.declaredClass)&&
-1!==q.indexOf("FeatureSet")?(a=f.map(a.features||[],function(a){return a.geometry}),h=a.length?!0:!1):q&&-1!==q.indexOf("esri.geometry.")&&(h=!0));h&&b.push({index:e,property:c,value:a})}function v(a,b){var e=[];f.forEach(b,function(b){var c=b.i,h=a[c];b=b.p;var q;if(l.isObject(h)&&h)if(b)if("*"===b[0])for(q in h)h.hasOwnProperty(q)&&x(h[q],e,c,q);else f.forEach(b,function(a){x(l.getObject(a,!1,h),e,c,a)});else x(h,e,c)});return e}function C(a,b){var e=0,c={};f.forEach(b,function(b){var h=b.index,
q=b.property,k=b.value,s=k.length||1,d=a.slice(e,e+s);l.isArray(k)||(d=d[0]);e+=s;delete b.value;q?(c[h]=c[h]||{},c[h][q]=d):c[h]=d});return c}var z={normalizeCentralMeridian:u,_foldCutResults:t,_prepareGeometryForCut:s,_offsetMagnitude:e,_pointNormalization:q,_updatePolyGeometry:k,_straightLineDensify:h,_createWrappers:function(a){var b=l.isObject(a)?a.prototype:l.getObject(a+".prototype");f.forEach(b.__msigns,function(a){var e=b[a.n];b[a.n]=function(){var b=this,c=[],h,q=new p(m._dfdCanceller);
a.f&&m._fixDfd(q);for(h=0;h<a.c;h++)c[h]=arguments[h];var k={dfd:q};c.push(k);var s,d=[],g;b.normalization&&!b._isTable&&(s=v(c,a.a),f.forEach(s,function(a){d=d.concat(a.value)}),d.length&&(g=u(d,n.defaults.geometryService)));g?(q._pendingDfd=g,g.addCallbacks(function(a){q.canceled||(k.assembly=C(a,s),q._pendingDfd=e.apply(b,c))},function(e){var h=b.declaredClass;h&&-1!==h.indexOf("FeatureLayer")?b._resolve([e],null,c[a.e],q,!0):b._errorHandler(e,c[a.e],q)})):q._pendingDfd=e.apply(b,c);return q}})},
_disassemble:v,_addToBucket:x,_reassemble:C};r("extend-esri")&&l.mixin(l.getObject("geometry",!0,d),z);return z})},"esri/geometry/Extent":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./webMercatorUtils ./mathUtils".split(" "),function(f,l,p,r,d,n,m,g,a,b,c){var e={type:"extent",xmin:0,ymin:0,xmax:0,ymax:0},k=f(g,{declaredClass:"esri.geometry.Extent",constructor:function(a,b,c,k,d){p.mixin(this,e);p.isObject(a)?
(p.mixin(this,a),this.spatialReference&&(this.spatialReference=new m(this.spatialReference))):this.update(a,b,c,k,d);this.verifySR()},getWidth:function(){return Math.abs(this.xmax-this.xmin)},getHeight:function(){return Math.abs(this.ymax-this.ymin)},getCenter:function(){return new a((this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2,this.spatialReference)},centerAt:function(a){var b=this.getCenter(),e=a.x-b.x;a=a.y-b.y;return new k(this.xmin+e,this.ymin+a,this.xmax+e,this.ymax+a,this.spatialReference)},
update:function(a,b,e,c,k){this.xmin=a;this.ymin=b;this.xmax=e;this.ymax=c;this.spatialReference=k;return this},offset:function(a,b){return new k(this.xmin+a,this.ymin+b,this.xmax+a,this.ymax+b,this.spatialReference)},expand:function(a){var b=(1-a)/2;a=this.getWidth()*b;b*=this.getHeight();return new k(this.xmin+a,this.ymin+b,this.xmax-a,this.ymax-b,this.spatialReference)},intersects:function(a){if(!a)return!1;var e=a.type,c=this.spatialReference,k=a.spatialReference;c&&(k&&!c.equals(k)&&c._canProject(k))&&
(a=c.isWebMercator()?b.geographicToWebMercator(a):b.webMercatorToGeographic(a,!0));switch(e){case "point":return this.contains(a);case "multipoint":return this._intersectsMultipoint(a);case "extent":return this._intersectsExtent(a);case "polygon":return this._intersectsPolygon(a);case "polyline":return this._intersectsPolyline(a)}},_intersectsMultipoint:function(a){var b=a.points.length,e;for(e=0;e<b;e++)if(this.contains(a.getPoint(e)))return!0;return!1},_intersectsExtent:function(a){var b,e,c,d,
g=!1;this.xmin<=a.xmin?(b=a.xmin,this.xmax<b?g=!0:c=Math.min(this.xmax,a.xmax)-b):(b=this.xmin,a.xmax<b?g=!0:c=Math.min(this.xmax,a.xmax)-b);this.ymin<=a.ymin?(e=a.ymin,this.ymax<e?g=!0:d=Math.min(this.ymax,a.ymax)-e):(e=this.ymin,a.ymax<e?g=!0:d=Math.min(this.ymax,a.ymax)-e);return g?null:new k(b,e,b+c,e+d,this.spatialReference)},_intersectsPolygon:function(b){var e=[this.xmin,this.ymax],c=[this.xmax,this.ymax],k=[this.xmin,this.ymin],d=[this.xmax,this.ymin],g=[e,c,k,d],e=[[k,e],[e,c],[c,d],[d,k]],
k=b.rings,d=k.length,m,n=new a(0,0,this.spatialReference);m=g.length;for(c=0;c<m;c++)if(n.update(g[c][0],g[c][1]),b.contains(n))return!0;n.setSpatialReference(b.spatialReference);for(var f,l,c=0;c<d;c++)if(g=k[c],m=g.length){f=g[0];n.update(f[0],f[1]);if(this.contains(n))return!0;for(b=1;b<m;b++){l=g[b];n.update(l[0],l[1]);if(this.contains(n)||this._intersectsLine([f,l],e))return!0;f=l}}return!1},_intersectsPolyline:function(b){var e=[[[this.xmin,this.ymin],[this.xmin,this.ymax]],[[this.xmin,this.ymax],
[this.xmax,this.ymax]],[[this.xmax,this.ymax],[this.xmax,this.ymin]],[[this.xmax,this.ymin],[this.xmin,this.ymin]]],c,k=b.paths,d=k.length,g,m,n,f,l=new a(0,0,b.spatialReference);for(b=0;b<d;b++)if(g=k[b],m=g.length){n=g[0];l.update(n[0],n[1]);if(this.contains(l))return!0;for(c=1;c<m;c++){f=g[c];l.update(f[0],f[1]);if(this.contains(l)||this._intersectsLine([n,f],e))return!0;n=f}}return!1},_intersectsLine:function(a,b){var e=c._getLineIntersection2,k,d=b.length;for(k=0;k<d;k++)if(e(a,b[k]))return!0;
return!1},contains:function(b){if(!b)return!1;var e=b.type;if("point"===e){var c=this.spatialReference,k=b.spatialReference,e=b.x;b=b.y;c&&(k&&!c.equals(k)&&c._canProject(k))&&(b=c.isWebMercator()?a.lngLatToXY(e,b):a.xyToLngLat(e,b,!0),e=b[0],b=b[1]);return e>=this.xmin&&e<=this.xmax&&b>=this.ymin&&b<=this.ymax}return"extent"===e?this._containsExtent(b):!1},_containsExtent:function(b){var e=b.xmin,c=b.ymin,k=b.xmax,d=b.ymax,g=b.spatialReference;b=new a(e,c,g);e=new a(e,d,g);d=new a(k,d,g);c=new a(k,
c,g);return this.contains(b)&&this.contains(e)&&this.contains(d)&&this.contains(c)?!0:!1},union:function(a){return new k(Math.min(this.xmin,a.xmin),Math.min(this.ymin,a.ymin),Math.max(this.xmax,a.xmax),Math.max(this.ymax,a.ymax),this.spatialReference)},getExtent:function(){var a=this.spatialReference;return new k(this.xmin,this.ymin,this.xmax,this.ymax,a&&new m(a.toJson()))},_shiftCM:function(a){if(!this._shifted){var e=new k(this.toJson()),c=e.spatialReference;if(a=a||c._getInfo()){var d=this._getCM(a);
if(d){var g=c._isWebMercator()?b.webMercatorToGeographic(d):d;e.xmin-=d.x;e.xmax-=d.x;c._isWebMercator()||(g.x=this._normalizeX(g.x,a).x);e.setSpatialReference(new m(n.substitute({Central_Meridian:g.x},4326===c.wkid?a.altTemplate:a.wkTemplate)))}}this._shifted=e}return this._shifted},_getCM:function(a){var b,e=a.valid[0];a=a.valid[1];var c=this.xmin,k=this.xmax;if(!(c>=e&&c<=a)||!(k>=e&&k<=a))b=this.getCenter();return b},_normalize:function(a,b,e){var c=new k(this.toJson()),d=c.spatialReference;if(d&&
(e=e||d._getInfo())){var g=l.map(this._getParts(e),function(a){return a.extent});return 2<g.length?a?this._shiftCM(e):c.update(e.valid[0],c.ymin,e.valid[1],c.ymax,d):2===g.length?a?this._shiftCM(e):b?g:{rings:l.map(g,function(a){return[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]}),spatialReference:d}:g[0]||c}return c},_getParts:function(a){if(!this._parts){var b=this.xmin,e=this.xmax,c=this.ymin,d=this.ymax,g=this.spatialReference,m=this.getWidth(),n=b,f=e,l=0,
r=0,p=[],A,y;a=a||g._getInfo();A=a.valid[0];y=a.valid[1];r=this._normalizeX(b,a);b=r.x;l=r.frameId;r=this._normalizeX(e,a);e=r.x;r=r.frameId;a=b===e&&0<m;if(m>2*y){m=new k(n<f?b:e,c,y,d,g);b=new k(A,c,n<f?e:b,d,g);y=new k(0,c,y,d,g);c=new k(A,c,0,d,g);g=[];A=[];m.contains(y)&&g.push(l);m.contains(c)&&A.push(l);b.contains(y)&&g.push(r);b.contains(c)&&A.push(r);for(d=l+1;d<r;d++)g.push(d),A.push(d);p.push({extent:m,frameIds:[l]},{extent:b,frameIds:[r]},{extent:y,frameIds:g},{extent:c,frameIds:A})}else b>
e||a?p.push({extent:new k(b,c,y,d,g),frameIds:[l]},{extent:new k(A,c,e,d,g),frameIds:[r]}):p.push({extent:new k(b,c,e,d,g),frameIds:[l]});this._parts=p}return this._parts},_normalizeX:function(a,b){var e=0,c=b.valid[0],k=b.valid[1],d=2*k;a>k?(e=Math.ceil(Math.abs(a-k)/d),a-=e*d):a<c&&(e=Math.ceil(Math.abs(a-c)/d),a+=e*d,e=-e);return{x:a,frameId:e}},toJson:function(){var a={xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax},b=this.spatialReference;b&&(a.spatialReference=b.toJson());return a}});
k.defaultProps=e;r("extend-esri")&&(p.setObject("geometry.Extent",k,d),d.geometry.defaultExtent=e);return k})},"esri/layers/ArcGISTiledMapServiceLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has dojo/io-query ../kernel ../urlUtils ../SpatialReference ./TiledMapServiceLayer ./ArcGISMapServiceLayer ./TileInfo ./TimeInfo ./TileMap".split(" "),function(f,l,p,r,d,n,m,g,a,b,c,e,k,h,s){l=l([c,e],{declaredClass:"esri.layers.ArcGISTiledMapServiceLayer",
_agolAttrs:"canvas/world_light_gray_base canvas/world_light_gray_reference ocean/world_ocean_base ocean/world_ocean_reference ocean_basemap reference/world_boundaries_and_places reference/world_boundaries_and_places_alternate reference/world_transportation world_imagery world_street_map world_topo_map".split(" "),constructor:function(a,b){b&&(b.roundrobin&&(f.deprecated(this.declaredClass+" : Constructor option 'roundrobin' deprecated. Use option 'tileServers'."),b.tileServers=b.roundrobin),this._setTileServers(b.tileServers),
this._loadCallback=b.loadCallback);this._params=p.mixin({},this._url.query);var e=r.some(["servicesdev.arcgisonline.com/arcgis/rest/services","services.arcgisonline.com/arcgis/rest/services","servicesqa.arcgisonline.com/arcgis/rest/services"],function(b){return-1<a.toLowerCase().indexOf(b.toLowerCase())});if((this.resampling=b&&b.resampling||(!b||!1!==b.resampling)&&e)&&e)this.tileMap=new s(this);this._initLayer=p.hitch(this,this._initLayer);(e=b&&b.resourceInfo)?this._initLayer(e):(this._load=p.hitch(this,
this._load),this._load())},_TILE_FORMATS:{PNG:"png",PNG8:"png",PNG24:"png",PNG32:"png",JPG:"jpg",JPEG:"jpg",GIF:"gif"},_setTileServers:function(b){if(b&&0<b.length){this.tileServers=b;var e,c=b.length;for(e=0;e<c;e++)b[e]=a.urlToObject(b[e]).path}},_initLayer:function(a,e){this.inherited(arguments);this.resourceInfo=d.toJson(a);this.tileInfo=new k(a.tileInfo);!this.spatialReference&&this.tileInfo.spatialReference&&(this.spatialReference=new b(this.tileInfo.spatialReference.toJson()));this.isPNG32=
"PNG24"===this.tileInfo.format||"PNG32"===this.tileInfo.format;a.timeInfo&&(this.timeInfo=new h(a.timeInfo));var c=this._url.path,g=this._loadCallback,s="file:"===window.location.protocol?"http:":window.location.protocol,m=c.match(/^https?\:\/\/(server|services)\.arcgisonline\.com\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/mapserver/i),m=m&&m[2];if(!this.tileServers)if(a.tileServers)this._setTileServers(a.tileServers);else{var n=-1!==c.search(/^https?\:\/\/server\.arcgisonline\.com/i),f=-1!==c.search(/^https?\:\/\/services\.arcgisonline\.com/i);
if(n||f)this._setTileServers([c,c.replace(n?/server\.arcgisonline/i:/services\.arcgisonline/i,n?"services.arcgisonline":"server.arcgisonline")])}m&&-1!==r.indexOf(this._agolAttrs,m.toLowerCase())&&(this.hasAttributionData=!0,this.attributionDataUrl=this.attributionDataUrl||s+"//static.arcgis.com/attribution/"+m);this.loaded=!0;this.onLoad(this);g&&(delete this._loadCallback,g(this))},getTileUrl:function(b,e,c){var k=this.tileServers,h=this._getToken(),d=this._url.query;b=(k?k[e%k.length]:this._url.path)+
"/tile/"+b+"/"+e+"/"+c;this.resampling&&!this.tileMap&&(b+="?blankTile\x3dfalse");d&&(b=this.resampling&&!this.tileMap?b+("\x26"+m.objectToQuery(d)):b+("?"+m.objectToQuery(d)));if(h&&(!d||!d.token))b+=(-1===b.indexOf("?")?"?":"\x26")+"token\x3d"+h;b=this.addTimestampToURL(b);return a.addProxy(b)}});n("extend-esri")&&p.setObject("layers.ArcGISTiledMapServiceLayer",l,g);return l})},"esri/geometry/Geometry":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../SpatialReference"],
function(f,l,p,r,d){f=f(null,{declaredClass:"esri.geometry.Geometry",spatialReference:null,type:null,setSpatialReference:function(d){this.spatialReference=d;return this},verifySR:function(){this.spatialReference||this.setSpatialReference(new d(4326))},getExtent:function(){return null}});p("extend-esri")&&l.setObject("geometry.Geometry",f,r);return f})},"esri/geometry":function(){define("./units ./SpatialReference ./geometry/Geometry ./geometry/Point ./geometry/ScreenPoint ./geometry/Multipoint ./geometry/Polyline ./geometry/Polygon ./geometry/Extent ./geometry/Rect ./geometry/geodesicUtils ./geometry/jsonUtils ./geometry/mathUtils ./geometry/normalizeUtils ./geometry/scaleUtils ./geometry/screenUtils ./geometry/webMercatorUtils".split(" "),
function(f,l,p,r,d,n,m,g,a,b,c,e,k,h,s,q,t){return{units:f,SpatialReference:l,Geometry:p,Point:r,ScreenPoint:d,Multipoint:n,Polyline:m,Polygon:g,Extent:a,Rect:b,geodesicUtils:c,jsonUtils:e,mathUtils:k,normalizeUtils:h,scaleUtils:s,screenUtils:q,webMercatorUtils:t}})},"esri/geometry/webMercatorUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/has ../kernel ../SpatialReference ./Point".split(" "),function(f,l,p,r,d,n){function m(a,c,e,k){if("point"===a.type){var h=c(a.x,a.y,k);return new a.constructor(h[0],
h[1],new d(e))}if("extent"===a.type){var h=c(a.xmin,a.ymin,k),g=c(a.xmax,a.ymax,k);return new a.constructor(h[0],h[1],g[0],g[1],new d(e))}if("polyline"===a.type||"polygon"===a.type){var h="polyline"===a.type,q=[],t;f.forEach(h?a.paths:a.rings,function(a){q.push(t=[]);f.forEach(a,function(a){t.push(c(a[0],a[1],k))})});return h?new a.constructor({paths:q,spatialReference:e}):new a.constructor({rings:q,spatialReference:e})}if("multipoint"===a.type){var m=[];f.forEach(a.points,function(a){m.push(c(a[0],
a[1],k))});return new a.constructor({points:m,spatialReference:e})}}function g(a,c){var e=a&&(null!=a.wkid?a:a.spatialReference),k=c&&(null!=c.wkid?c:c.spatialReference);return!e||!k?!1:k.equals(e)?!0:k._canProject(e)}var a={canProject:g,project:function(a,c){var e=a&&a.spatialReference,k=c&&(null!=c.wkid?c:c.spatialReference);e&&k?e.equals(k)?a=new a.constructor(a.toJson()):g(e,k)?k.isWebMercator()?a=m(a,n.lngLatToXY,{wkid:102100}):4326===k.wkid&&(a=m(a,n.xyToLngLat,{wkid:4326})):a=null:a=null;return a},
lngLatToXY:n.lngLatToXY,xyToLngLat:n.xyToLngLat,geographicToWebMercator:function(a){return m(a,n.lngLatToXY,{wkid:102100})},webMercatorToGeographic:function(a,c){return m(a,n.xyToLngLat,{wkid:4326},c)}};p("extend-esri")&&l.mixin(l.getObject("geometry",!0,r),a);return a})},"esri/layers/LayerSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(f,l,p,r){f=f(null,{declaredClass:"esri.layers.LayerSource",type:null,constructor:function(d){d&&l.mixin(this,d)},
toJson:function(){}});p("extend-esri")&&l.setObject("layers.LayerSource",f,r);return f})},"esri/geometry/jsonUtils":function(){define("dojo/_base/lang dojo/has ../kernel ./Point ./Polyline ./Polygon ./Multipoint ./Extent".split(" "),function(f,l,p,r,d,n,m,g){var a={fromJson:function(a){if(void 0!==a.x&&void 0!==a.y)return new r(a);if(void 0!==a.paths)return new d(a);if(void 0!==a.rings)return new n(a);if(void 0!==a.points)return new m(a);if(void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==
a.ymax)return new g(a)},getJsonType:function(a){return a instanceof r?"esriGeometryPoint":a instanceof d?"esriGeometryPolyline":a instanceof n?"esriGeometryPolygon":a instanceof g?"esriGeometryEnvelope":a instanceof m?"esriGeometryMultipoint":null},getGeometryType:function(a){return"esriGeometryPoint"===a?r:"esriGeometryPolyline"===a?d:"esriGeometryPolygon"===a?n:"esriGeometryEnvelope"===a?g:"esriGeometryMultipoint"===a?m:null}};l("extend-esri")&&f.mixin(f.getObject("geometry",!0,p),a);return a})},
"esri/geometry/screenUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/sniff ../kernel ./Point ./ScreenPoint ./Polyline ./Polygon ./Multipoint ./Extent".split(" "),function(f,l,p,r,d,n,m,g,a,b){var c=function(){return 9>p("ie")?function(a,b,e,c,d,g,m,n,f){var l=[],r=Math.round,p,B=m.length,A,y,H,F,E,G;for(p=0;p<B;p++)if(A=m[p],F=n?n(A[0][0],A[0][1],f):A[0],1<(H=A.length)){E=r((F[0]-a)*e+d);G=r((b-F[1])*c+g);F=n?n(A[1][0],A[1][1],f):A[1];y=r((F[0]-a)*e+d);F=r((b-F[1])*c+g);l.push("M",
E+","+G,"L",y+","+F);for(y=2;y<H;y++)F=n?n(A[y][0],A[y][1],f):A[y],E=r((F[0]-a)*e+d),G=r((b-F[1])*c+g),l.push(E+","+G)}else E=r((F[0]-a)*e+d),G=r((b-F[1])*c+g),l.push("M",E+","+G);return l}:function(a,b,e,c,d,g,m,n,f){var l=[],r,p,B,A,y,H,F=Math.round;r=0;for(B=m?m.length:0;r<B;r++){y=m[r];l.push("M");p=0;for(A=y?y.length:0;p<A;p++)H=n?n(y[p][0],y[p][1],f):y[p],l.push(F((H[0]-a)*e+d)+","+F((b-H[1])*c+g))}return l}}(),e={toScreenPoint:function(a,b,e,c,g){var m=a.spatialReference,f=c.spatialReference,
l=c.x;c=c.y;m&&(f&&!m.equals(f)&&m._canProject(f))&&(m=m.isWebMercator()?d.lngLatToXY(l,c):d.xyToLngLat(l,c,!0),l=m[0],c=m[1]);l=(l-a.xmin)*(b/a.getWidth());c=(a.ymax-c)*(e/a.getHeight());g||(l=Math.round(l),c=Math.round(c));return new n(l,c)},toScreenGeometry:function(e,c,s,q){var t=e.xmin,n=e.ymax,l=c/e.getWidth(),r=s/e.getHeight(),p=f.forEach,z=Math.round;if(q instanceof d)return new d(z((q.x-t)*l),z((n-q.y)*r));if(q instanceof a){e=new a;var w=e.points;p(q.points,function(a,b){w[b]=[z((a[0]-t)*
l),z((n-a[1])*r)]});return e}if(q instanceof b)return new b(z((q.xmin-t)*l),z((n-q.ymin)*r),z((q.xmax-t)*l),z((n-q.ymax)*l));if(q instanceof m){e=new m;var D=e.paths,B;p(q.paths,function(a,b){B=D[b]=[];p(a,function(a,b){B[b]=[z((a[0]-t)*l),z((n-a[1])*r)]})});return e}if(q instanceof g){e=new g;var A=e.rings,y;p(q.rings,function(a,b){y=A[b]=[];p(a,function(a,b){y[b]=[z((a[0]-t)*l),z((n-a[1])*r)]})});return e}},_toScreenPath:function(a,b,e,q,g,n){var f=q instanceof m,l=a.spatialReference,r=q.spatialReference,
p,w;l&&(r&&!l.equals(r)&&l._canProject(r))&&(l.isWebMercator()?p=d.lngLatToXY:(p=d.xyToLngLat,w=!0));return c(a.xmin,a.ymax,b/a.getWidth(),e/a.getHeight(),g,n,f?q.paths:q.rings,p,w)},toMapPoint:function(a,b,e,c){return new d(a.xmin+c.x/(b/a.getWidth()),a.ymax-c.y/(e/a.getHeight()),a.spatialReference)},toMapGeometry:function(e,c,s,q){var t=e.xmin,n=e.ymax,l=e.spatialReference,r=c/e.getWidth(),p=s/e.getHeight(),z=f.forEach;if(q instanceof d)return new d(t+q.x/r,n-q.y/p,l);if(q instanceof a){e=new a(l);
var w=e.points;z(q.points,function(a,b){w[b]=[t+a[0]/r,n-a[1]/p]});return e}if(q instanceof b)return new b(t+q.xmin/r,n-q.ymin/p,t+q.xmax/r,n-q.ymax/p,l);if(q instanceof m){e=new m(l);var D=e.paths,B;z(q.paths,function(a,b){B=D[b]=[];z(a,function(a,b){B[b]=[t+a[0]/r,n-a[1]/p]})});return e}if(q instanceof g){e=new g(l);var A=e.rings,y;z(q.rings,function(a,b){y=A[b]=[];z(a,function(a,b){y[b]=[t+a[0]/r,n-a[1]/p]})});return e}}};p("extend-esri")&&l.mixin(l.getObject("geometry",!0,r),e);return e})},"dijit/main":function(){define(["dojo/_base/kernel"],
function(f){return f.dijit})},"esri/layers/TimeInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../TimeExtent ./TimeReference ./LayerTimeOptions".split(" "),function(f,l,p,r,d,n,m){f=f(null,{declaredClass:"esri.layers.TimeInfo",constructor:function(g){null!==g&&(l.mixin(this,g),g.exportOptions&&(this.exportOptions=new m(g.exportOptions)),this.timeExtent=null,g.timeExtent&&2===g.timeExtent.length&&(this.timeExtent=new d(g.timeExtent)),this.timeReference=new n(g.timeReference))}});
l.mixin(f,{UNIT_CENTURIES:"esriTimeUnitsCenturies",UNIT_DAYS:"esriTimeUnitsDays",UNIT_DECADES:"esriTimeUnitsDecades",UNIT_HOURS:"esriTimeUnitsHours",UNIT_MILLISECONDS:"esriTimeUnitsMilliseconds",UNIT_MINUTES:"esriTimeUnitsMinutes",UNIT_MONTHS:"esriTimeUnitsMonths",UNIT_SECONDS:"esriTimeUnitsSeconds",UNIT_UNKNOWN:"esriTimeUnitsUnknown",UNIT_WEEKS:"esriTimeUnitsWeeks",UNIT_YEARS:"esriTimeUnitsYears"});p("extend-esri")&&l.setObject("layers.TimeInfo",f,r);return f})},"esri/layers/LOD":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/has","../kernel","../lang"],function(f,l,p,r,d){f=f(null,{declaredClass:"esri.layers.LOD",constructor:function(d){l.mixin(this,d)},toJson:function(){return d.fixJson({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})}});p("extend-esri")&&l.setObject("layers.LOD",f,r);return f})},"esri/symbols/jsonUtils":function(){define("dojo/_base/lang dojo/has ../kernel ./SimpleMarkerSymbol ./PictureMarkerSymbol ./SimpleLineSymbol ./CartographicLineSymbol ./SimpleFillSymbol ./PictureFillSymbol ./TextSymbol".split(" "),
function(f,l,p,r,d,n,m,g,a,b){var c={fromJson:function(e){var c=null;switch(e.type){case "esriSMS":c=new r(e);break;case "esriPMS":c=new d(e);break;case "esriTS":c=new b(e);break;case "esriSLS":c=void 0!==e.cap?new m(e):new n(e);break;case "esriCLS":c=new m(e);break;case "esriSFS":c=new g(e);break;case "esriPFS":c=new a(e)}return c},getShapeDescriptors:function(a){return a&&a.getShapeDescriptors?a.getShapeDescriptors():{defaultShape:null,fill:null,stroke:null}}};l("extend-esri")&&f.mixin(f.getObject("symbol",
!0,p),c);return c})},"esri/geometry/geodesicUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/has ../kernel ../SpatialReference ./Point ./Polyline ./Polygon".split(" "),function(f,l,p,r,d,n,m,g){function a(a){var b=Math.PI/180,e=Math.sin(a.y*b),e=0.9933056200098026*(e/(1-0.006694379990197414*e*e)-6.111035746609262*Math.log((1-0.0818191908429643*e)/(1+0.0818191908429643*e)));return new n(6378137*a.x*b,3189068.5*e)}function b(a,b,e,c){var k=1/298.257223563,h=Math.sin(e);e=Math.cos(e);
a=(1-k)*Math.tan(a);var g=1/Math.sqrt(1+a*a),m=a*g,l=Math.atan2(a,e);a=g*h*g*h;for(var f=1-a,r=2.7233160610754688E11*f/4.040829998466145E13,p=1+r/16384*(4096+r*(-768+r*(320-175*r))),y=r/1024*(256+r*(-128+r*(74-47*r))),r=c/(6356752.31424518*p),H=2*Math.PI,F,E,G,K;1E-12<Math.abs(r-H);)G=Math.cos(2*l+r),F=Math.sin(r),E=Math.cos(r),K=y*F*(G+y/4*(E*(-1+2*G*G)-y/6*G*(-3+4*F*F)*(-3+4*G*G))),H=r,r=c/(6356752.31424518*p)+K;c=m*F-g*E*e;c=Math.atan2(m*E+g*F*e,(1-k)*Math.sqrt(a+c*c));h=Math.atan2(F*h,g*E-m*F*
e);e=k/16*f*(4+k*(4-3*f));k=h-(1-e)*k*Math.sqrt(a)*(r+e*F*(G+e*E*(-1+2*G*G)));return new n((b+k)/(Math.PI/180),c/(Math.PI/180),new d({wkid:4326}))}function c(a,b,e,c){var k=1/298.257223563,h=c-b,d=Math.atan((1-k)*Math.tan(a)),g=Math.atan((1-k)*Math.tan(e)),m=Math.sin(d),d=Math.cos(d),n=Math.sin(g),g=Math.cos(g),f=h,l,r=1E3,p,F,E,G,K,I,J;do{E=Math.sin(f);G=Math.cos(f);F=Math.sqrt(g*E*g*E+(d*n-m*g*G)*(d*n-m*g*G));if(0===F)return 0;G=m*n+d*g*G;K=Math.atan2(F,G);I=d*g*E/F;p=1-I*I;E=G-2*m*n/p;isNaN(E)&&
(E=0);J=k/16*p*(4+k*(4-3*p));l=f;f=h+(1-J)*k*I*(K+J*F*(E+J*G*(-1+2*E*E)))}while(1E-12<Math.abs(f-l)&&0<--r);if(0===r)return m=6371009*Math.acos(Math.sin(a)*Math.sin(e)+Math.cos(a)*Math.cos(e)*Math.cos(c-b)),n=c-b,d=Math.sin(n)*Math.cos(e),a=Math.cos(a)*Math.sin(e)-Math.sin(a)*Math.cos(e)*Math.cos(n),{azimuth:Math.atan2(d,a),geodesicDistance:m};a=2.7233160610754688E11*p/4.040829998466145E13;e=a/1024*(256+a*(-128+a*(74-47*a)));a=6356752.31424518*(1+a/16384*(4096+a*(-768+a*(320-175*a))))*(K-e*F*(E+e/
4*(G*(-1+2*E*E)-e/6*E*(-3+4*F*F)*(-3+4*E*E))));e=Math.atan2(g*Math.sin(f),d*n-m*g*Math.cos(f));m=Math.atan2(d*Math.sin(f),d*n*Math.cos(f)-m*g);return{azimuth:e,geodesicDistance:a,reverseAzimuth:m}}function e(a,e){var k=Math.PI/180;637.100877151506>e&&(e=637.100877151506);if(!(a instanceof m||a instanceof g))throw console.error("_geodesicDensify: the input geometry is neither polyline nor polygon"),Error("_geodesicDensify: the input geometry is neither polyline nor polygon");var h=a instanceof m,d=
[],n;f.forEach(h?a.paths:a.rings,function(a){d.push(n=[]);n.push([a[0][0],a[0][1]]);var h,g,s,m,f,l;h=a[0][0]*k;g=a[0][1]*k;for(f=0;f<a.length-1;f++)if(s=a[f+1][0]*k,m=a[f+1][1]*k,!(h===s&&g===m)){m=c(g,h,m,s);s=m.azimuth;m=m.geodesicDistance;var r=m/e;if(1<r){for(l=1;l<=r-1;l++){var p=b(g,h,s,l*e);n.push([p.x,p.y])}l=b(g,h,s,(m+Math.floor(r-1)*e)/2);n.push([l.x,l.y])}g=b(g,h,s,m);n.push([g.x,g.y]);h=g.x*k;g=g.y*k}});return h?new m({paths:d,spatialReference:a.spatialReference}):new g({rings:d,spatialReference:a.spatialReference})}
var k={esriMiles:1,esriKilometers:1.609344,esriFeet:5280,esriMeters:1609.34,esriYards:1760,esriNauticalMiles:0.869,esriCentimeters:160934,esriDecimeters:16093.4,esriInches:63360,esriMillimeters:1609340,esriAcres:1,esriAres:40.4685642,esriSquareKilometers:0.00404685642,esriSquareMiles:0.0015625,esriSquareFeet:43560,esriSquareMeters:4046.85642,esriHectares:0.404685642,esriSquareYards:4840,esriSquareInches:6272640,esriSquareMillimeters:4046856420,esriSquareCentimeters:4.04685642E7,esriSquareDecimeters:404685.642},
h={geodesicDensify:e,geodesicLengths:function(a,b){var e=Math.PI/180,h=[];f.forEach(a,function(a,d){var g=0;f.forEach(a.paths,function(a,b){var k=0,h,q,d,s,m;for(h=1;h<a.length;h++)q=a[h-1][0]*e,d=a[h][0]*e,s=a[h-1][1]*e,m=a[h][1]*e,s===m&&q===d||(q=c(s,q,m,d),k+=q.geodesicDistance/1609.344);g+=k});g*=k[b];h.push(g)});return h},geodesicAreas:function(b,c){var h=[];f.forEach(b,function(a,b){var c=e(a,1E4);h.push(c)});var d=[],g,m;f.forEach(h,function(b,e){var h=0;f.forEach(b.rings,function(b,e){g=
a(new n(b[0][0],b[0][1]));m=a(new n(b[b.length-1][0],b[b.length-1][1]));var c=m.x*g.y-g.x*m.y,k;for(k=0;k<b.length-1;k++)g=a(new n(b[k+1][0],b[k+1][1])),m=a(new n(b[k][0],b[k][1])),c+=m.x*g.y-g.x*m.y;h+=c/4046.87});h*=k[c];d.push(h/-2)});return d},_unitsDictionary:k,_toEqualAreaPoint:a,_directGeodeticSolver:b,_inverseGeodeticSolver:c};p("extend-esri")&&l.mixin(l.getObject("geometry",!0,r),h);return h})},"esri/layers/ArcGISMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../request ../SpatialReference ../geometry/Extent ./LayerInfo".split(" "),
function(f,l,p,r,d,n,m,g,a,b){f=f(null,{declaredClass:"esri.layers.ArcGISMapServiceLayer",infoTemplates:null,constructor:function(a,b){this.layerInfos=[];b&&(this.infoTemplates=b.infoTemplates||null);var k=this._params={},h=this._url.query?this._url.query.token:null;h&&(k.token=h)},setInfoTemplates:function(a){this.infoTemplates=a},_load:function(){m({url:this._url.path,content:l.mixin({f:"json"},this._params),callbackParamName:"callback",load:this._initLayer,error:this._errorHandler})},spatialReference:null,
initialExtent:null,fullExtent:null,description:null,units:null,_initLayer:function(c,e){try{this._findCredential();(this.credential&&this.credential.ssl||c&&c._ssl)&&this._useSSL();this.description=c.description;this.copyright=c.copyrightText;this.spatialReference=c.spatialReference&&new g(c.spatialReference);this.initialExtent=c.initialExtent&&new a(c.initialExtent);this.fullExtent=c.fullExtent&&new a(c.fullExtent);this.units=c.units;this.maxRecordCount=c.maxRecordCount;this.maxImageHeight=c.maxImageHeight;
this.maxImageWidth=c.maxImageWidth;this.supportsDynamicLayers=c.supportsDynamicLayers;var k=this.layerInfos=[],h=c.layers,d=this._defaultVisibleLayers=[];p.forEach(h,function(a,e){k[e]=new b(a);a.defaultVisibility&&d.push(a.id)});this.visibleLayers||(this.visibleLayers=d);this.version=c.currentVersion;this.version||(this.version="capabilities"in c||"tables"in c?10:"supportedImageFormatTypes"in c?9.31:9.3);this.capabilities=c.capabilities;n.isDefined(c.minScale)&&!this._hasMin&&this.setMinScale(c.minScale);
n.isDefined(c.maxScale)&&!this._hasMax&&this.setMaxScale(c.maxScale)}catch(q){this._errorHandler(q)}}});r("extend-esri")&&l.setObject("layers.ArcGISMapServiceLayer",f,d);return f})},"esri/layers/Domain":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(f,l,p,r,d){f=f(null,{declaredClass:"esri.layers.Domain",constructor:function(d){d&&l.isObject(d)&&(this.name=d.name,this.type=d.type)},toJson:function(){return d.fixJson({name:this.name,type:this.type})}});
p("extend-esri")&&l.setObject("layers.Domain",f,r);return f})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(f,l,p){var r=f.some;return function(d){var n,m;d instanceof Array?m=d:d&&"object"===typeof d&&(n=d);var g,a=[];if(n){m=[];for(var b in n)Object.hasOwnProperty.call(n,b)&&(a.push(b),m.push(n[b]));g={}}else m&&(g=[]);if(!m||!m.length)return(new l).resolve(g);var c=new l;c.promise.always(function(){g=a=null});var e=m.length;r(m,function(b,h){n||a.push(h);
p(b,function(b){c.isFulfilled()||(g[a[h]]=b,0===--e&&c.resolve(g))},c.reject);return c.isFulfilled()});return c.promise}})},"esri/geometry/mathUtils":function(){define(["dojo/_base/lang","dojo/has","../kernel","./Point"],function(f,l,p,r){function d(a,b,c){return a instanceof r?new r(a.x+c*(b.x-a.x),a.y+c*(b.y-a.y)):[a[0]+c*(b[0]-a[0]),a[1]+c*(b[1]-a[1])]}function n(a,b){return 1E-8>Math.abs(a-b)}function m(a,b,c,e){var k,h=n(a[0],b[0])?1E10:(a[1]-b[1])/(a[0]-b[0]),d=n(c[0],e[0])?1E10:(c[1]-e[1])/
(c[0]-e[0]),q=a[1]-h*a[0],g=c[1]-d*c[0];if(n(h,d)){if(n(q,g)){if(n(a[0],b[0]))if(Math.min(a[1],b[1])<Math.max(c[1],e[1])||Math.max(a[1],b[1])>Math.min(c[1],e[1]))a=(a[1]+b[1]+c[1]+e[1]-Math.min(a[1],b[1],c[1],e[1])-Math.max(a[1],b[1],c[1],e[1]))/2,k=(a-q)/h;else return null;else if(Math.min(a[0],b[0])<Math.max(c[0],e[0])||Math.max(a[0],b[0])>Math.min(c[0],e[0]))k=(a[0]+b[0]+c[0]+e[0]-Math.min(a[0],b[0],c[0],e[0])-Math.max(a[0],b[0],c[0],e[0]))/2,a=h*k+q;else return null;return[k,a]}return null}n(h,
1E10)?(k=a[0],a=d*k+g):n(d,1E10)?(k=c[0],a=h*k+q):(k=-(q-g)/(h-d),a=a[1]===b[1]?a[1]:c[1]===e[1]?c[1]:h*k+q);return[k,a]}var g={getLength:function(a,b){var c=b.x-a.x,e=b.y-a.y;return Math.sqrt(c*c+e*e)},_getLength:function(a,b){var c=b[0]-a[0],e=b[1]-a[1];return Math.sqrt(c*c+e*e)},getPointOnLine:d,getMidpoint:function(a,b){return d(a,b,0.5)},_equals:n,_getLineIntersection:m,getLineIntersection:function(a,b,c,e,k){(a=m([a.x,a.y],[b.x,b.y],[c.x,c.y],[e.x,e.y]))&&(a=new r(a[0],a[1],k));return a},_getLineIntersection2:function(a,
b){var c=a[0],e=a[1],k=b[0],h=b[1],d=c[0],c=c[1],q=e[0],e=e[1],g=k[0],m=k[1],k=h[0]-g,g=d-g,n=q-d,h=h[1]-m,m=c-m,f=e-c,l=h*n-k*f;if(0===l)return!1;k=(k*m-h*g)/l;g=(n*m-f*g)/l;return 0<=k&&1>=k&&0<=g&&1>=g?[d+k*(q-d),c+k*(e-c)]:!1},_pointLineDistance:function(a,b){var c=b[0],e=b[1],k=c[0],h=c[1],c=a[0],d=a[1],q=e[0]-k,g=e[1]-h,m=c-k,n=d-h,e=Math.sqrt,f=Math.pow,l=e(f(q,2)+f(g,2)),m=(m*q+n*g)/(l*l),h=h+m*g;return e(f(c-(k+m*q),2)+f(d-h,2))}};l("extend-esri")&&f.mixin(f.getObject("geometry",!0,p),g);
return g})},"esri/MouseEvents":function(){define("dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/_base/sniff dojo/_base/connect dojo/_base/event ./kernel ./Evented ./geometry/Point ./geometry/ScreenPoint".split(" "),function(f,l,p,r,d,n,m,g,a,b){var c=d.connect,e=d.disconnect;f=f([g],{declaredClass:"esri.MouseEvents",doubleClickDuration:300,minWheelValue:1,maxWheelValue:1,mozWheelDivisor:-1!==r("mac")?1:3,wheelDivisor:2>r("chrome")?360:120,preventPageScroll:!0,map:null,constructor:function(a,
b){this.node=a;p.mixin(this,b);var e=function(a){n.stop(a);return!1};r("mozilla")&&l.style(a,"MozUserSelect","none");this._handles=[c(a,"onselectstart",e),c(a,"ondragstart",e),c(a,"onmouseenter",this,this._onMouseEnterHandler),c(a,"onmouseleave",this,this._onMouseLeaveHandler),c(a,"onmousedown",this,this._onMouseDownHandler),c(a,"onclick",this,this._onClickHandler),c(a,"ondblclick",this,this._onDblClickHandler)];this._onMouseMoveHandler_connect=c(a,"onmousemove",this,this._onMouseMoveHandler);this._onMouseUpHandler_connect=
c(a,"onmouseup",this,this._onMouseUpHandler);this._fireClickEvent=p.hitch(this,this._fireClickEvent);this._initialDuration=this.doubleClickDuration;this.preventPageScroll=(e=this.map)?e.isScrollWheelZoom||e.isScrollWheelPan:this.preventPageScroll;this.enableMouseWheel(!1)},_fire:function(a,b){if(!this._preventClick||!("onClick"===a||"onDblClick"===a)){if(this[a])this[a](b);if(this.map&&this.map[a])this.map[a](b)}},_processEvent:function(e){e=n.fix(e,e.target);var c=this.map,d=c&&c.position;d&&("DOMMouseScroll"===
e.type&&3>r("ff")?e.screenPoint=new b(window.scrollX+e.screenX-d.x,window.scrollY+e.screenY-d.y):e.screenPoint=new b(e.pageX-d.x,e.pageY-d.y),e.mapPoint=c.extent?c.toMap(e.screenPoint):new a);e.numPoints=0;return e},_onMouseEnterHandler:function(a){e(this._onKeyDown_connect);e(this._onKeyUp_connect);this._onKeyDown_connect=c(document,"onkeydown",this,this._onKeyDownHandler);this._onKeyUp_connect=c(document,"onkeyup",this,this._onKeyUpHandler);this._fire("onMouseOver",this._processEvent(a))},_onMouseLeaveHandler:function(a){e(this._onKeyDown_connect);
e(this._onKeyUp_connect);this._onKeyDown_connect=this._onKeyUp_connect=null;this._fire("onMouseOut",this._processEvent(a))},_onMouseMoveHandler:function(a){this._dragEnd?this._dragEnd=!1:this._fire("onMouseMove",this._processEvent(a))},_onMouseDownHandler:function(a){e(this._onMouseMoveHandler_connect);this._onMouseMoveHandler_connect=null;this.node.setCapture&&this.node.setCapture(!1);this._onMouseDragHandler_connect=c(document,"onmousemove",this,this._onMouseDragHandler);this._startX=a.pageX;this._startY=
a.pageY;this._fire("onMouseDown",this._processEvent(a))},_onMouseUpHandler:function(a){var b=this.node;b.releaseCapture&&b.releaseCapture();e(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=null;e(this._onMouseMoveHandler_connect);this._onMouseMoveHandler_connect=c(b,"onmousemove",this,this._onMouseMoveHandler);this._fire("onMouseUp",this._processEvent(a))},_onMouseDragHandler:function(a){e(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=c(document,"onmousemove",
this,this._onMouseDraggingHandler);e(this._onMouseUpHandler_connect);this._onMouseUpHandler_connect=c(document,"onmouseup",this,this._onDragMouseUpHandler);this._docLeaveConnect=c(document,"onmouseout",this,this._onDocMouseOut);this._fire("onMouseDragStart",this._processEvent(a))},_onMouseDraggingHandler:function(a){n.stop(a);this._fire("onMouseDrag",this._processEvent(a))},_onDragMouseUpHandler:function(a){var b=this.node;b.releaseCapture&&b.releaseCapture();this._dragEnd=!0;e(this._docLeaveConnect);
e(this._onMouseDragHandler_connect);e(this._onMouseUpHandler_connect);this._docLeaveConnect=this._onMouseDragHandler_connect=null;this._onMouseMoveHandler_connect=c(b,"onmousemove",this,this._onMouseMoveHandler);this._onMouseUpHandler_connect=c(b,"onmouseup",this,this._onMouseUpHandler);a=this._processEvent(a);this._fire("onMouseDragEnd",a);this._fire("onMouseUp",a)},_onDocMouseOut:function(a){var b=9>r("ie")?a.toElement:a.relatedTarget,e=b&&b.nodeName.toLowerCase();(!b||r("chrome")&&"html"===e)&&
this._onDragMouseUpHandler(a)},_onClickHandler:function(a){a=this._processEvent(a);a.pageX!==this._startX||a.pageY!==this._startY||(clearTimeout(this._clickTimer),this._clickEvent=p.mixin({},a),this._clickTimer=setTimeout(this._fireClickEvent,this.doubleClickDuration))},_fireClickEvent:function(){clearTimeout(this._clickTimer);9>r("ie")&&(this._clickEvent.graphic=m._ieGraphic,delete m._ieGraphic);this._fire("onClick",this._clickEvent)},_onDblClickHandler:function(a){clearTimeout(this._clickTimer);
this._fire("onDblClick",this._processEvent(a))},_onMouseWheelHandler:function(a){var b=this.map;(b?b.isScrollWheelZoom||b.isScrollWheelPan:this.preventPageScroll)&&n.stop(a);var b=r("ff")||r("mozilla")?-a.detail/this.mozWheelDivisor:a.wheelDelta/this.wheelDivisor,e=Math.abs(b),e=e<=this.minWheelValue?this.minWheelValue:this.maxWheelValue;a.value=0>b?-e:e;this._fire("onMouseWheel",this._processEvent(a))},_onKeyDownHandler:function(a){this._fire("onKeyDown",a)},_onKeyUpHandler:function(a){this._fire("onKeyUp",
a)},enableMouseWheel:function(a){e(this._scrollHandle);this._scrollHandle=c(this.node,r("ff")||r("mozilla")?a?"MozMousePixelScroll":"DOMMouseScroll":"onmousewheel",this,this._onMouseWheelHandler)},setImmediateClick:function(a){this.doubleClickDuration=a?0:this._initialDuration},preventClickEvents:function(a){this._preventClick=a},destroy:function(){var a=this._handles.concat([this._onMouseMoveHandler_connect,this._onMouseUpHandler_connect,this._onMouseDragHandler_connect,this._scrollHandle,this._onKeyDown_connect,
this._onKeyUp_connect,this._docLeaveConnect]),b;for(b=0;b<a.length;b++)e(a[b]);clearTimeout(this._clickTimer);this.node=this.map=this._handles=this._clickEvent=this._onMouseMoveHandler_connect=this._onMouseUpHandler_connect=this._onMouseDragHandler_connect=this._scrollHandle=this._onKeyDown_connect=this._onKeyUp_connect=this._docLeaveConnect=null}});r("extend-esri")&&(m.MouseEvents=f);return f})},"dojo/_base/url":function(){define(["./kernel"],function(f){var l=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,
p=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,r=function(){for(var d=arguments,n=[d[0]],m=1;m<d.length;m++)if(d[m]){var g=new r(d[m]+""),n=new r(n[0]+"");if(""==g.path&&!g.scheme&&!g.authority&&!g.query)null!=g.fragment&&(n.fragment=g.fragment),g=n;else if(!g.scheme&&(g.scheme=n.scheme,!g.authority&&(g.authority=n.authority,"/"!=g.path.charAt(0)))){for(var n=(n.path.substring(0,n.path.lastIndexOf("/")+1)+g.path).split("/"),a=0;a<n.length;a++)"."==n[a]?a==n.length-1?n[a]="":(n.splice(a,
1),a--):0<a&&(!(1==a&&""==n[0])&&".."==n[a]&&".."!=n[a-1])&&(a==n.length-1?(n.splice(a,1),n[a-1]=""):(n.splice(a-1,2),a-=2));g.path=n.join("/")}n=[];g.scheme&&n.push(g.scheme,":");g.authority&&n.push("//",g.authority);n.push(g.path);g.query&&n.push("?",g.query);g.fragment&&n.push("#",g.fragment)}this.uri=n.join("");d=this.uri.match(l);this.scheme=d[2]||(d[1]?"":null);this.authority=d[4]||(d[3]?"":null);this.path=d[5];this.query=d[7]||(d[6]?"":null);this.fragment=d[9]||(d[8]?"":null);null!=this.authority&&
(d=this.authority.match(p),this.user=d[3]||null,this.password=d[4]||null,this.host=d[6]||d[7],this.port=d[9]||null)};r.prototype.toString=function(){return this.uri};return f._Url=r})},"esri/layers/DynamicMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/dom-construct dojo/dom-style dojox/xml/parser dojox/gfx/matrix ../kernel ../config ../sniff ../request ../domUtils ./layer ./MapImage".split(" "),function(f,l,p,r,d,n,m,g,a,b,c,e,k,h){var s=a.defaults.map.zoomDuration;
f=f(k,{declaredClass:"esri.layers.DynamicMapServiceLayer",_eventMap:{"map-image-export":["mapImage"]},constructor:function(a,b){this.useMapTime=b&&b.hasOwnProperty("useMapTime")?!!b.useMapTime:!0;var e=p.hitch;this._exportMapImageHandler=e(this,this._exportMapImageHandler);this._imgSrcFunc=e(this,this._imgSrcFunc);this._divAlphaImageFunc=e(this,this._divAlphaImageFunc);this._tileLoadHandler=e(this,this._tileLoadHandler);this._tileErrorHandler=e(this,this._tileErrorHandler);this.registerConnectEvents()},
opacity:1,isPNG32:!1,_setMap:function(a,e,c){this.inherited(arguments);this._map=a;var h=this._div=r.create("div",null,e),k=g._css.names,s={position:"absolute",width:a.width+"px",height:a.height+"px",overflow:"visible",opacity:this.opacity},m=b("ie"),n=l.connect,f=a.__visibleDelta;8===m&&delete s.opacity;"css-transforms"===a.navigationMode?(s[k.transform]=g._css.translate(f.x,f.y),d.set(h,s),this._left=f.x,this._top=f.y):(s.left="0px",s.top="0px",d.set(h,s),this._left=this._top=0);d.set(h,s);this._onResizeHandler_connect=
n(a,"onResize",this,"_onResizeHandler");this._opacityChangeHandler_connect=n(this,"onOpacityChange",this,"_opacityChangeHandler");this._img_loading=null;this._dragOrigin={x:0,y:0};this.evaluateSuspension();if(this.suspended&&!a.loaded)var p=l.connect(a,"onLoad",this,function(){l.disconnect(p);p=null;this.evaluateSuspension()});return h},_unsetMap:function(a,b){r.destroy(this._div);this._map=this._div=null;var e=l.disconnect;e(this._onResizeHandler_connect);e(this._opacityChangeHandler_connect);this._onResizeHandler_connect=
this._opacityChangeHandler_connect=null;this._fireUpdateEnd();this._toggleTime();clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors();this.inherited(arguments)},_onResizeHandler:function(a,b,e){d.set(this._div,{width:b+"px",height:e+"px"});this._onExtentChangeHandler(a)},onSuspend:function(){this.inherited(arguments);this._fireUpdateEnd();this._toggleTime();e.hide(this._div);clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors()},onResume:function(){this.inherited(arguments);
var a=this._map;this._toggleTime();"css-transforms"===a.navigationMode&&(a=a.__visibleDelta,this._left=a.x,this._top=a.y,d.set(this._div,g._css.names.transform,g._css.translate(this._left,this._top)));this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(p.hitch(this,function(){this.suspended||this._onExtentChangeHandler(this._map.extent,null,!0)}),0)},_enableDrawConnectors:function(){var a=l.connect,b=this._map;b&&(this._onPanHandler_connect=a(b,"onPan",this,"_onPanHandler"),this._onExtentChangeHandler_connect=
a(b,"onExtentChange",this,"_onExtentChangeHandler"),"css-transforms"===b.navigationMode?this._onScaleHandler_connect=a(b,"onScale",this,this._onScaleHandler):this._onZoomHandler_connect=a(b,"onZoom",this,"_onZoomHandler"))},_disableDrawConnectors:function(){var a=l.disconnect;a(this._onPanHandler_connect);a(this._onExtentChangeHandler_connect);a(this._onZoomHandler_connect);a(this._onScaleHandler_connect);this._onPanHandler_connect=this._onExtentChangeHandler_connect=this._onZoomHandler_connect=this._onScaleHandler_connect=
null},_toggleTime:function(){var a=this._map;this.timeInfo&&this.useMapTime&&a&&!this.suspended?(this._timeConnect||(this._timeConnect=l.connect(a,"onTimeExtentChange",this,this._onTimeExtentChangeHandler)),this._setTime(a.timeExtent)):(l.disconnect(this._timeConnect),this._timeConnect=null,this._setTime(null))},_setTime:function(a){this._params&&(this._params.time=a?a.toJson().join(","):null)},_onPanHandler:function(a,b){this._panDx=b.x;this._panDy=b.y;var e=this._dragOrigin,c=this._map.__visibleDelta,
h=this._img;h&&("css-transforms"===this._map.navigationMode?(this._left=c.x+b.x,this._top=c.y+b.y,d.set(this._div,g._css.names.transform,g._css.translate(this._left,this._top))):d.set(h,{left:e.x+b.x+"px",top:e.y+b.y+"px"}))},_onExtentChangeHandler:function(a,e,c){if(!this.suspended){clearTimeout(this._wakeTimer);this._wakeTimer=null;var h=this._map,k=this._img,n=k&&k.style,f=this._dragOrigin;if(e&&!c&&k&&(e.x!==this._panDx||e.y!==this._panDy))"css-transforms"===h.navigationMode?(e=h.__visibleDelta,
this._left=e.x,this._top=e.y,d.set(this._div,g._css.names.transform,g._css.translate(this._left,this._top))):d.set(k,{left:f.x+e.x+"px",top:f.y+e.y+"px"});k?(f.x=parseInt(n.left,10),f.y=parseInt(n.top,10)):f.x=f.y=0;"css-transforms"===h.navigationMode&&(c&&k)&&(d.set(k,g._css.names.transition,"none"),k._multiply=k._multiply?m.multiply(k._matrix,k._multiply):k._matrix);this._fireUpdateStart();if(c=this._img_loading)if(l.disconnect(c._onload_connect),l.disconnect(c._onerror_connect),l.disconnect(c._onabort_connect),
r.destroy(c),this._img_loading=null,c=this._jsonRequest){try{c.cancel()}catch(p){}this._jsonRequest=null}10<=this.version&&h.wrapAround180&&(a=a._normalize(!0));if(this.isPNG32)k=this._img_loading=r.create("div"),k.id=h.id+"_"+this.id+"_"+(new Date).getTime(),d.set(k,{position:"absolute",left:"0px",top:"0px",width:h.width+"px",height:h.height+"px"}),k=k.appendChild(r.create("div")),d.set(k,{opacity:0,width:h.width+"px",height:h.height+"px"}),this.getImageUrl(a,h.width,h.height,this._divAlphaImageFunc);
else{c=this._img_loading=r.create("img");e=g._css.names;var D=b("ie"),B={position:"absolute",width:h.width+"px",height:h.height+"px"};8===D&&(B.opacity=this.opacity);"css-transforms"===h.navigationMode?(B[e.transform]=g._css.translate(-this._left,-this._top),c._tdx=-this._left,c._tdy=-this._top,B[e.transition]=e.transformName+" "+s+"ms ease"):(B.left="0px",B.top="0px");c.id=h.id+"_"+this.id+"_"+(new Date).getTime();d.set(c,B);c._onload_connect=l.connect(c,"onload",this,"_onLoadHandler");c._onerror_connect=
l.connect(c,"onerror",this,"_onErrorHandler");c._onabort_connect=l.connect(c,"onabort",this,"_onErrorHandler");this._startRect={left:f.x,top:f.y,width:k?parseInt(n.width,10):h.width,height:k?parseInt(n.height,10):h.height,zoom:n&&n.zoom?parseFloat(n.zoom):1};this.getImageUrl(a,h.width,h.height,this._imgSrcFunc)}}},_onTimeExtentChangeHandler:function(a){this.suspended||(this._setTime(a),this.refresh(!0))},getImageUrl:function(a,b,e,c){},_imgSrcFunc:function(a){this._img_loading.src=a},_divAlphaImageFunc:function(a){d.set(this._img_loading,
"filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+a+"', sizingMethod\x3d'scale')");this._onLoadHandler({currentTarget:this._img_loading})},_onLoadHandler:function(a){a=a.currentTarget;var b=l.disconnect,c=this._map;b(a._onload_connect);b(a._onerror_connect);b(a._onabort_connect);!c||c.__panning||c.__zooming?r.destroy(a):(n.removeChildren(this._div),this._img=a,this._startRect={left:0,top:0,width:c.width,height:c.height,zoom:1},this._div.appendChild(a),this.suspended||e.show(this._div),
a._onload_connect=a._onerror_connect=a._onabort_connect=this._img_loading=null,a=this._dragOrigin,a.x=a.y=0,this.onUpdate());this._fireUpdateEnd()},_onErrorHandler:function(a){a=a.currentTarget;var b=l.disconnect;d.set(a,"visibility","hidden");b(a._onload_connect);b(a._onerror_connect);b(a._onabort_connect);a._onload_connect=a._onerror_connect=a._onabort_connect=null;a=Error("Unable to load image: "+a.src);this.onError(a);this._fireUpdateEnd(a)},setUseMapTime:function(a,b){this.useMapTime=a;this._toggleTime();
b||this.refresh(!0)},refresh:function(){this._map&&this._onExtentChangeHandler(this._map.extent)},_onScaleHandler:function(a,b){var e={},c=g._css.names,h=this._img;if(h){d.set(h,c.transition,b?"none":c.transformName+" "+s+"ms ease");h._matrix=a;a=h._multiply?m.multiply(a,h._multiply):a;if(h._tdx||h._tdy)a=m.multiply(a,{xx:1,xy:0,yx:0,yy:1,dx:h._tdx,dy:h._tdy});e[c.transform]=g._css.matrix(a);d.set(h,e)}},_onZoomHandler:function(a,e,c){a=this._startRect;var h=a.width*e,k=a.height*e,g=this._img,s=b("ie");
g&&(s&&8>s?d.set(g,{left:a.left-(h-a.width)*(c.x-a.left)/a.width+"px",top:a.top-(k-a.height)*(c.y-a.top)/a.height+"px",zoom:e*a.zoom}):d.set(g,{left:a.left-(h-a.width)*(c.x-a.left)/a.width+"px",top:a.top-(k-a.height)*(c.y-a.top)/a.height+"px",width:h+"px",height:k+"px"}))},_exportMapImage:function(b,e,h){var k=this._exportMapImageHandler;e.token=this._getToken();c({url:b,content:e,callbackParamName:"callback",load:function(a,b){k(a,b,h)},error:a.defaults.io.errorHandler})},_exportMapImageHandler:function(a,
b,e){a=new h(a);this.onMapImageExport(a);e&&e(a)},onMapImageExport:function(){},setOpacity:function(a){if(this.opacity!=a)this.onOpacityChange(this.opacity=a)},onOpacityChange:function(){},_opacityChangeHandler:function(a){var e=8===b("ie")?this._img:this._div;d.set(e,"opacity",a)}});b("extend-esri")&&p.setObject("layers.DynamicMapServiceLayer",f,g);return f})},"esri/lang":function(){define("dojo/_base/array dojo/_base/json dojo/_base/kernel dojo/_base/lang dojo/date dojo/has dojo/number dojo/date/locale ./kernel".split(" "),
function(f,l,p,r,d,n,m,g,a){function b(a,b,e){return[r.isString(a)?a.split(""):a,b||p.global,r.isString(e)?new Function("item","index","array",e):e]}function c(a){return void 0!==a&&null!==a}function e(a,b,e){var k=e.match(/([^\(]+)(\([^\)]+\))?/i),s=r.trim(k[1]);e=b[a];var k=l.fromJson((k[2]?r.trim(k[2]):"()").replace(/^\(/,"({").replace(/\)$/,"})")),n=k.utcOffset;if(-1===f.indexOf(h,s))s=r.getObject(s),r.isFunction(s)&&(e=s(e,a,b,k));else if("number"===typeof e||"string"===typeof e&&e&&!isNaN(Number(e)))switch(e=
Number(e),s){case "NumberFormat":return m.format(e,k);case "DateString":a=new Date(e);if(k.local||k.systemLocale)return k.systemLocale?a.toLocaleDateString()+(k.hideTime?"":" "+a.toLocaleTimeString()):a.toDateString()+(k.hideTime?"":" "+a.toTimeString());a=a.toUTCString();k.hideTime&&(a=a.replace(/\s+\d\d\:\d\d\:\d\d\s+(utc|gmt)/i,""));return a;case "DateFormat":return a=new Date(e),c(n)&&(a=d.add(a,"minute",a.getTimezoneOffset()-n)),g.format(a,k)}return c(e)?e:""}function k(a,b){var e;if(b)for(e in a)a.hasOwnProperty(e)&&
(void 0===a[e]||null===a[e]?delete a[e]:a[e]instanceof Object&&k(a[e],!0));else for(e in a)a.hasOwnProperty(e)&&void 0===a[e]&&delete a[e];return a}var h=["NumberFormat","DateString","DateFormat"],s={valueOf:function(a,b){for(var e in a)if(a[e]==b)return e;return null},substitute:function(a,b,h){var k,d,g;c(h)&&(r.isObject(h)?(k=h.first,d=h.dateFormat,g=h.numberFormat):k=h);if(!b||"${*}"===b){b=[];for(var s in a){h=a[s];if(d&&-1!==f.indexOf(d.properties||"",s))h=e(s,a,d.formatter||"DateString");else if(g&&
-1!==f.indexOf(g.properties||"",s))h=e(s,a,g.formatter||"NumberFormat");b.push(s+" \x3d "+(c(h)?h:"")+"\x3cbr/\x3e");if(k)break}return b.join("")}return r.replace(b,r.hitch({obj:a},function(a,b){var h=b.split(":");return 1<h.length?(b=h[0],h.shift(),e(b,this.obj,h.join(":"))):d&&-1!==f.indexOf(d.properties||"",b)?e(b,this.obj,d.formatter||"DateString"):g&&-1!==f.indexOf(g.properties||"",b)?e(b,this.obj,g.formatter||"NumberFormat"):c(this.obj[b])?this.obj[b]:""}),/\$\{([^\}]+)\}/g)},filter:function(a,
e,c){e=b(a,c,e);c={};var h;a=e[0];for(h in a)e[2].call(e[h],a[h],h,a)&&(c[h]=a[h]);return c},isDefined:c,fixJson:k};n("extend-esri")&&(r.mixin(a,s),a._isDefined=c,a._getParts=b,a._sanitize=k);return s})},"esri/renderers/jsonUtils":function(){define("dojo/_base/lang dojo/has ../kernel ../Color ./SimpleRenderer ./UniqueValueRenderer ./ClassBreaksRenderer ./TimeClassBreaksAger ./TimeRampAger ./TemporalRenderer".split(" "),function(f,l,p,r,d,n,m,g,a,b){var c={fromJson:function(a){var b;switch(a.type||
""){case "simple":b=new d(a);break;case "uniqueValue":b=new n(a);break;case "classBreaks":b=new m(a);break;case "temporal":b=this._temporalFromJson(a)}return b},_temporalFromJson:function(a){var c,h,d;a=a||{};c=this.fromJson(a.observationRenderer);h=a.latestObservationRenderer?this.fromJson(a.latestObservationRenderer):null;d=a.trackRenderer?this.fromJson(a.trackRenderer):null;a=this._agerFromJson(a.observationAger);return new b(c,h,d,a)},_agerFromJson:function(a){var b;a=a||{};a.colorRange||a.sizeRange||
a.alphaRange?b=this._timeRampFromJson(a):a.agerClassBreakInfos&&(b=this._timeClassBreaksFromJson(a));return b},_timeRampFromJson:function(b){var c,h,d;b.colorRange&&1<b.colorRange.length&&(c=[r.toDojoColor(b.colorRange[0]),r.toDojoColor(b.colorRange[1])]);b.sizeRange&&1<b.sizeRange.length&&(h=[b.sizeRange[0],b.sizeRange[1]]);b.alphaRange&&1<b.alphaRange.length&&(d=[b.alphaRange[0]/255,b.alphaRange[1]/255]);return new a(c,h,d)},_timeClassBreaksFromJson:function(a){var b=a.agerClassBreakInfos,c,d,q=
[],m;c=g.UNIT_DAYS;switch(a.timeUnits){case "esriTimeUnitsSeconds":c=g.UNIT_SECONDS;break;case "esriTimeUnitsMilliseconds":c=g.UNIT_MILLISECONDS;break;case "esriTimeUnitsHours":c=g.UNIT_HOURS;break;case "esriTimeUnitsMinutes":c=g.UNIT_MINUTES;break;case "esriTimeUnitsMonths":c=g.UNIT_MONTHS;break;case "esriTimeUnitsWeeks":c=g.UNIT_WEEKS;break;case "esriTimeUnitsYears":c=g.UNIT_YEARS}for(m=0;m<b.length;m+=1)a=b[m],d={minAge:0,maxAge:a.oldestAge||Infinity},a.color&&(d.color=r.toDojoColor(a.color)),
a.alpha&&(d.alpha=a.alpha/255),d.size=a.size,q[m]=d;return new g(q,c)}};l("extend-esri")&&f.mixin(f.getObject("renderer",!0,p),c);return c})},"esri/renderers/Renderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has dojox/gfx/_base ../kernel ../Color".split(" "),function(f,l,p,r,d,n,m){f=f(null,{declaredClass:"esri.renderer.Renderer",constructor:function(g){if(g&&!g.declaredClass){this.rotationInfo=g.rotationInfo;if(!this.rotationInfo){var a=g.rotationType,b=g.rotationExpression;
if(a||b)this.rotationInfo={type:a,expression:b}}this.setRotationInfo(this.rotationInfo);if(a=g.proportionalSymbolInfo)a.minSize&&(a.minSize=d.pt2px(a.minSize)),a.maxSize&&(a.maxSize=d.pt2px(a.maxSize));this.setProportionalSymbolInfo(a);var c=g.colorInfo;c&&(p.forEach(c.colors,function(a,b){l.isArray(a)&&(c.colors[b]=m.toDojoColor(a))}),p.forEach(c.stops,function(a,b){a.color&&l.isArray(a.color)&&(c.stops[b].color=m.toDojoColor(a.color))}));this.setColorInfo(c);this.setOpacityInfo(g.opacityInfo)}this.getSymbol=
l.hitch(this,this.getSymbol)},getSymbol:function(d){},setRotationInfo:function(d){if((d=this.rotationInfo="string"===typeof d?{field:d}:d)&&d.expression&&!d.field){var a=d.expression.match(this.rotationRE);a&&a[1]&&(d.field=a[1])}return this},rotationRE:/^\[([^\]]+)\]$/i,getRotationAngle:function(d){var a=this.rotationInfo,b="arithmetic"===a.type,a=a.field,c=d.attributes,e=0;a&&(l.isFunction(a)?e=a.apply(this,arguments):c&&(e=c[a]||0),e=(e+(b?-90:0))*(b?-1:1));return e},setProportionalSymbolInfo:function(d){this.proportionalSymbolInfo=
d;return this},getSize:function(d,a){var b=d.attributes,c=this.proportionalSymbolInfo,e=c&&c.field,k=0,h="number"===typeof d?d:null;if(e){var s=c.minSize,q=c.maxSize,m=c.minDataValue,n=c.maxDataValue,f=c.valueUnit||"unknown",r=c.valueRepresentation,c=c.normalizationField,p=b?parseFloat(b[c]):void 0,c=a&&a.shape;"number"!==typeof h&&(l.isFunction(e)?h=e.apply(this,arguments):b&&(h=b[e]||0));isNaN(p)||(h/=p);if(null!=s&&null!=q&&null!=m&&null!=n)k=h<=m?s:h>=n?q:s+(h-m)/(n-m)*(q-s);else if("unknown"===
f)null!=s&&null!=m&&(s&&m?(h/=m,k="circle"===c?2*Math.sqrt(h*Math.pow(s/2,2)):"square"===c||"diamond"===c||"image"===c?Math.sqrt(h*Math.pow(s,2)):h*s):k=h+(s||m),k=k<s?s:k,null!=q&&k>q&&(k=q));else{b=(a&&a.resolution?a.resolution:d.getLayer().getMap().getResolutionInMeters())*this._meterIn[f];if("area"===r)k=Math.sqrt(h/Math.PI)/b,k*=2;else if(k=h/b,"radius"===r||"distance"===r)k*=2;null!=s&&k<s&&(k=s);null!=q&&k>q&&(k=q)}}return k=isNaN(k)?0:k},setColorInfo:function(d){if(this.colorInfo=d)p.forEach(d.colors,
function(a,b){l.isArray(a)&&(d.colors[b]=new m(a))}),p.forEach(d.stops,function(a,b){a.color&&l.isArray(a.color)&&(d.stops[b].color=new m(a.color))});this._ipDataForColors=this._interpolateData(d);return this},getColor:function(d){return this._getColorComponent(d,this.colorInfo)},setOpacityInfo:function(d){this.opacityInfo=d;this._ipDataForOpac=this._interpolateData(d);return this},getOpacity:function(d){return this._getColorComponent(d,this.opacityInfo,!0)},_getColorComponent:function(d,a,b){var c=
d.attributes,e=a&&a.field,k="number"===typeof d?d:null,h;e&&(h=a.normalizationField,h=c?parseFloat(c[h]):void 0,"number"!==typeof k&&(l.isFunction(e)?k=e.apply(this,arguments):c&&(k=c[e]||0)),isNaN(h)||(k/=h),h=b?this._getOpacity(k):this._getColor(k));return h},_interpolateData:function(d){var a;if(d)if(d.colors||d.opacityValues){var b=(d.colors||d.opacityValues).length,c=d.minDataValue,e=(d.maxDataValue-c)/(b-1);a=[];for(d=0;d<b;d++)a[d]=c+d*e}else d.stops&&(a=p.map(d.stops,function(a){return a.value}));
return a},_getOpacity:function(d){d=this._lookupData(d,this._ipDataForOpac);var a=this.opacityInfo,b;if(d){var c=d[0];b=d[1];c===b?b=this._getOpacValue(a,c):(c=this._getOpacValue(a,c),a=this._getOpacValue(a,b),b=c+(a-c)*d[2])}return b},_getOpacValue:function(d,a){return d.opacityValues?d.opacityValues[a]:d.stops[a].opacity},_getColor:function(d){d=this._lookupData(d,this._ipDataForColors);var a=this.colorInfo,b;if(d){b=d[0];var c=d[1];b=b===c?this._getColorObj(a,b):m.blendColors(this._getColorObj(a,
b),this._getColorObj(a,c),d[2])}return b},_getColorObj:function(d,a){return d.colors?d.colors[a]:d.stops[a].color},_lookupData:function(d,a){var b;if(a){var c=0,e=a.length-1;p.some(a,function(a,b){if(d<a)return e=b,!0;c=b;return!1});b=[c,e,(d-a[c])/(a[e]-a[c])]}return b},_meterIn:{inches:39.3701,feet:3.28084,yards:1.09361,miles:6.21371E-4,"nautical-miles":5.39957E-4,millimeters:1E3,centimeters:100,decimeters:10,meters:1,kilometers:0.0010,"decimal-degrees":180/20015077},toJson:function(){var g=this.proportionalSymbolInfo,
a,b=this.colorInfo,c=this.opacityInfo,e=this.rotationInfo;a=e&&e.field;var k=e&&(e.expression||a&&(l.isFunction(a)?a:"["+a+"]"));b&&(b=l.mixin({},b),b.colors&&(b.colors=p.map(b.colors,function(a){return l.isArray(a)?l.clone(a):m.toJsonColor(a)})),b.stops&&(b.stops=p.map(b.stops,function(a){a=l.mixin({},a);a.color&&(a.color=l.isArray(a.color)?l.clone(a.color):m.toJsonColor(a.color));return a})));c&&(c=l.mixin({},c),c.opacityValues&&(c.opacityValues=c.opacityValues.slice(0)),c.stops&&(c.stops=p.map(c.stops,
function(a){return l.mixin({},a)})));if(g&&(g=l.mixin({},g),g.minSize&&(g.minSize=d.px2pt(g.minSize)),g.maxSize&&(g.maxSize=d.px2pt(g.maxSize)),a=g.legendOptions))if(g.legendOptions=l.mixin({},a),a=a.customValues)g.legendOptions.customValues=a.slice(0);return{rotationType:k&&(e.type||"geographic"),rotationExpression:k,colorInfo:b,opacityInfo:c,proportionalSymbolInfo:g}}});r("extend-esri")&&l.setObject("renderer.Renderer",f,n);return f})},"esri/symbols/CartographicLineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./SimpleLineSymbol".split(" "),
function(f,l,p,r,d,n,m,g){var a={STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dashdot",STYLE_DASHDOTDOT:"longdashdotdot",STYLE_NULL:"none",STYLE_INSIDE_FRAME:"insideframe",STYLE_SHORTDASH:"shortdash",STYLE_SHORTDOT:"shortdot",STYLE_SHORTDASHDOT:"shortdashdot",STYLE_SHORTDASHDOTDOT:"shortdashdotdot",STYLE_LONGDASH:"longdash",STYLE_LONGDASHDOT:"longdashdot",CAP_BUTT:"butt",CAP_ROUND:"round",CAP_SQUARE:"square",JOIN_MITER:"miter",JOIN_ROUND:"round",JOIN_BEVEL:"bevel"},b={color:[0,
0,0,1],style:a.STYLE_SOLID,width:1,cap:a.CAP_BUTT,join:a.JOIN_MITER,miterLimit:10};f=f(g,{declaredClass:"esri.symbol.CartographicLineSymbol",type:"cartographiclinesymbol",_caps:{butt:"esriLCSButt",round:"esriLCSRound",square:"esriLCSSquare"},_joins:{miter:"esriLJSMiter",round:"esriLJSRound",bevel:"esriLJSBevel"},constructor:function(a,e,k,h,g,q){a?l.isString(a)?(this.style=a,e&&(this.color=e),void 0!==k&&(this.width=k),h&&(this.cap=h),g&&(this.join=g),void 0!==q&&(this.miterLimit=q)):(this.cap=m.valueOf(this._caps,
a.cap),this.join=m.valueOf(this._joins,a.join),this.width=d.pt2px(a.width),this.miterLimit=d.pt2px(a.miterLimit)):(l.mixin(this,b),this.color=new p(this.color),this.width=d.pt2px(this.width),this.miterLimit=d.pt2px(this.miterLimit))},setCap:function(a){this.cap=a;return this},setJoin:function(a){this.join=a;return this},setMiterLimit:function(a){this.miterLimit=a;return this},getStroke:function(){return l.mixin(this.inherited("getStroke",arguments),{cap:this.cap,join:this.join===a.JOIN_MITER?this.miterLimit:
this.join})},getFill:function(){return null},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -15,0 L 15,0 E"},fill:null,stroke:this.getStroke()}},toJson:function(){var a=d.px2pt(this.miterLimit),a=isNaN(a)?void 0:a;return m.fixJson(l.mixin(this.inherited("toJson",arguments),{type:"esriCLS",cap:this._caps[this.cap],join:this._joins[this.join],miterLimit:a}))}});l.mixin(f,a);f.defaultProps=b;r("extend-esri")&&(l.setObject("symbol.CartographicLineSymbol",f,n),n.symbol.defaultCartographicLineSymbol=
b);return f})},"esri/geometry/Multipoint":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../SpatialReference ./Geometry ./Point ./Extent".split(" "),function(f,l,p,r,d,n,m,g){var a={type:"multipoint",points:null};f=f(n,{declaredClass:"esri.geometry.Multipoint",constructor:function(b){l.mixin(this,a);this.points=[];b&&(b.points?l.mixin(this,b):this.spatialReference=b,this.spatialReference&&(this.spatialReference=new d(this.spatialReference)));this.verifySR()},_extent:null,
addPoint:function(a){this._extent=null;l.isArray(a)?this.points.push(a):this.points.push([a.x,a.y]);return this},removePoint:function(a){if(this._validateInputs(a))return this._extent=null,new m(this.points.splice(a,1)[0],this.spatialReference)},getExtent:function(){if(this._extent)return new g(this._extent);var a=this.points,c=a.length;if(c){var e=a[0],d,h,s=d=e[0],q=h=e[1],m=Math.min,n=Math.max,f=this.spatialReference,l,r;for(r=0;r<c;r++)e=a[r],l=e[0],e=e[1],s=m(s,l),q=m(q,e),d=n(d,l),h=n(h,e);
this._extent={xmin:s,ymin:q,xmax:d,ymax:h,spatialReference:f?f.toJson():null};return new g(this._extent)}},_validateInputs:function(a){return null===a||0>a||a>=this.points.length?!1:!0},getPoint:function(a){if(this._validateInputs(a))return a=this.points[a],new m(a[0],a[1],this.spatialReference)},setPoint:function(a,c){if(this._validateInputs(a))return this._extent=null,this.points[a]=[c.x,c.y],this},toJson:function(){var a={points:l.clone(this.points)},c=this.spatialReference;c&&(a.spatialReference=
c.toJson());return a}});f.defaultProps=a;p("extend-esri")&&(l.setObject("geometry.Multipoint",f,r),r.geometry.defaultMultipoint=a);return f})},"esri/deferredUtils":function(){define(["dojo/_base/lang","dojo/has","./kernel"],function(f,l,p){var r={_dfdCanceller:function(d){d.canceled=!0;var n=d._pendingDfd;-1===d.fired&&(n&&-1===n.fired)&&n.cancel();d._pendingDfd=null},_fixDfd:function(d){var n=d.then;d.then=function(d,g,a){if(d){var b=d;d=function(a){return a&&a._argsArray?b.apply(null,a):b(a)}}return n.call(this,
d,g,a)};return d},_resDfd:function(d,n,m){var g=n.length;1===g?m?d.errback(n[0]):d.callback(n[0]):1<g?(n._argsArray=!0,d.callback(n)):d.callback()}};l("extend-esri")&&f.mixin(p,r);return r})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(f,l,p,r,d){var n=d.doc.documentElement;d=r("ie");var m=r("opera"),g=Math.floor,a=r("ff"),b=f.boxModel.replace(/-/,""),m={dj_quirks:r("quirks"),dj_opera:m,dj_khtml:r("khtml"),dj_webkit:r("webkit"),
dj_safari:r("safari"),dj_chrome:r("chrome"),dj_gecko:r("mozilla"),dj_ios:r("ios"),dj_android:r("android")};d&&(m.dj_ie=!0,m["dj_ie"+g(d)]=!0,m.dj_iequirks=r("quirks"));a&&(m["dj_ff"+g(a)]=!0);m["dj_"+b]=!0;var c="",e;for(e in m)m[e]&&(c+=e+" ");n.className=l.trim(n.className+" "+c);p(function(){if(!f.isBodyLtr()){var a="dj_rtl dijitRtl "+c.replace(/ /g,"-rtl ");n.className=l.trim(n.className+" "+a+"dj_rtl dijitRtl "+c.replace(/ /g,"-rtl "))}});return r})},"esri/layers/RasterDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./DataSource".split(" "),
function(f,l,p,r,d,n){f=f(n,{declaredClass:"esri.layers.RasterDataSource",toJson:function(){return d.fixJson({type:"raster",workspaceId:this.workspaceId,dataSourceName:this.dataSourceName})}});p("extend-esri")&&l.setObject("layers.RasterDataSource",f,r);return f})},"esri/request":function(){define("require dojo/_base/array dojo/_base/config dojo/_base/Deferred dojo/_base/lang dojo/_base/url dojo/_base/xhr dojo/io/script dojo/io/iframe dojo/dom-construct dojo/io-query ./kernel ./config ./sniff ./lang ./urlUtils ./deferredUtils".split(" "),
function(f,l,p,r,d,n,m,g,a,b,c,e,k,h,s,q,t){function u(a){a=new n(a);return(a.host+(a.port?":"+a.port:"")).toLowerCase()}function x(k,n,f,t){var z=!1,x=!1,A;s.isDefined(n)&&(d.isObject(n)?(z=!!n.useProxy,x=!!n.usePost,A=n.crossOrigin):z=!!n);k=d.mixin({},k);k._ssl&&(k.url=k.url.replace(/^http:/i,"https:"));n=k.content;var w=k.url,v=f&&k.form,C=B;A=s.isDefined(A)?A:C.useCors;k.load=function(a){var b;a&&(a.error?(b=d.mixin(Error(),a.error),b.log=p.isDebug):"error"===a.status&&(b=d.mixin(Error(),a),
b.log=p.isDebug),b&&!s.isDefined(b.httpCode)&&(b.httpCode=b.code));return b||a};k.error=function(a,b){b&&b.xhr&&b.xhr.abort();a instanceof Error||(a=d.mixin(Error(),a));a.log=p.isDebug;C.errorHandler(a,b);return a};k._token&&(k.content=k.content||{},k.content.token=k._token);var M=0,S;n&&w&&(S=c.objectToQuery(n),M=S.length+w.length+1,h("esri-url-encodes-apostrophe")&&(M=S.replace(/'/g,"%27").length+w.length+1));k.timeout=s.isDefined(k.timeout)?k.timeout:C.timeout;k.handleAs=k.handleAs||"json";try{var T,
Y,aa=A&&q.canUseXhr(k.url)&&!/https?:\/\/[^\/]+\/[^\/]+\/admin\/?(\/.*)?$/i.test(k.url),ca=q.hasSameOrigin(k.url,window.location.href)||aa,Z=x||f||M>C.postLength?!0:!1,U=!ca&&-1!==k.handleAs.indexOf("json")&&k.callbackParamName&&!f?!0:!1,L=q.getProxyRule(k.url)||C.alwaysUseProxy||z||(!U||Z)&&!ca?!0:!1;f&&(!h("esri-file-upload")&&!L&&aa)&&(L=!0);if(L)if(T=q.getProxyUrl(w,A),Y=T.path,T._xo&&(aa=!0),!Z&&Y.length+1+M>C.postLength&&(Z=!0),k.url=Y+"?"+w,Z)k.content=d.mixin(T.query||{},n);else{var $=c.objectToQuery(d.mixin(T.query||
{},n));$&&(k.url+="?"+$);k.content=null}if(U&&!Z)return!s.isDefined(k.isAsync)&&4>h("ff")&&(k.isAsync=!0),g.get(D?D(k):k);var V=k.headers;if(aa&&(!V||!V.hasOwnProperty("X-Requested-With")))V=k.headers=V||{},V["X-Requested-With"]=null;if(f){var N=k.callbackParamName||"callback.html",R=k.callbackElementName||"textarea",W,X,ba,O,ea=v.elements?v.elements.length:0,da;if(n=k.content)for(W in n)if(ba=n[W],s.isDefined(ba)){X=null;for(O=0;O<ea;O++)if(da=v.elements[O],da.name===W){X=da;break}X?X.value=ba:t?
v.append(W,ba):v.appendChild(b.create("input",{type:"hidden",name:W,value:ba}))}if(h("esri-file-upload"))l.forEach(v.elements,function(a){a.name===N&&v.removeChild(a)}),k.contentType=!1,k.postData=t?v:new FormData(v),delete k.form;else{v.enctype="multipart/form-data";9>h("ie")&&(v.encoding="multipart/form-data");v.method="post";l.some(v.elements,function(a){return a.name===N})||v.appendChild(b.create("input",{type:"hidden",name:N,value:R}));if(-1!==w.toLowerCase().indexOf("addattachment")||-1!==w.toLowerCase().indexOf("updateattachment"))k.url=
w+(-1===w.indexOf("?")?"?":"\x26")+N+"\x3d"+R,L&&(k.url=Y+"?"+k.url);delete k.content}}if(aa&&!k.hasOwnProperty("withCredentials"))if(t=L?Y:w,-1!==l.indexOf(B.webTierAuthServers,u(t)))k.withCredentials=!0;else if(e.id){var fa=e.id.findServerInfo(t);fa&&fa.webTierAuth&&(k.withCredentials=!0)}k=D?D(k):k;return Z?f&&!h("esri-file-upload")?a.send(k):m.post(k):m.get(k)}catch(ga){return f=new r,f.errback(k.error(ga)),f}}function v(a){var b=B._processedCorsServers,e=-1,e=q.canUseXhr(a,!0);-1<e&&B.corsEnabledServers.splice(e,
1);b[u(a)]=1;return e}function C(a){var b=B._processedCorsServers;if(B.corsDetection&&B.useCors)try{var e=u(a);h("esri-cors")&&(a&&-1!==a.toLowerCase().indexOf("/rest/services")&&!q.hasSameOrigin(a,window.location.href)&&!q.canUseXhr(a)&&!b[e])&&(b[e]=-1,m.get({url:a.substring(0,a.toLowerCase().indexOf("/rest/")+6)+"info",content:{f:"json"},failOk:!0,handleAs:"json",headers:{"X-Requested-With":null}}).then(function(c){c?(b[e]=2,q.canUseXhr(a)||B.corsEnabledServers.push(e)):b[e]=1},function(a){b[e]=
1}))}catch(c){console.log("esri._detectCors: an unknown error occurred while detecting CORS support")}}function z(a){D=a}function w(a,b){function c(d){d._pendingDfd=x(a,b,M,P);if(!d._pendingDfd){d.ioArgs=d._pendingDfd&&d._pendingDfd.ioArgs;var k=Error("Deferred object is missing");k.log=p.isDebug;a._usrDfd=null;d.errback(k);d._pendingDfd=null;return d}d._pendingDfd.addCallback(function(b){d.ioArgs=d._pendingDfd&&d._pendingDfd.ioArgs;a._usrDfd=null;d.callback(b);d._pendingDfd=null}).addErrback(function(c){var k,
h,q;c&&(k=c.code,h=c.subcode,q=(q=c.messageCode)&&q.toUpperCase());if(c&&403==k&&(4==h||c.message&&-1<c.message.toLowerCase().indexOf("ssl")&&-1===c.message.toLowerCase().indexOf("permission"))){if(!a._ssl){a._ssl=a._sslFromServer=!0;a._usrDfd=d;w(a,b);return}}else if(c&&415==c.status){if(v(a.url),!a._err415){a._err415=1;a._usrDfd=d;w(a,b);return}}else if(e.id&&-1!==l.indexOf(e.id._errorCodes,k)&&!e.id._isPublic(a.url)&&!g&&(403!=k||-1===l.indexOf(A,q)&&(!s.isDefined(h)||2==h))){d._pendingDfd=e.id.getCredential(a.url,
{token:a._token,error:c});d._pendingDfd.addCallback(function(e){a._token=e.token;a._usrDfd=d;a._credential=e;a._ssl=a._sslFromServer||e.ssl;w(a,b)}).addErrback(function(b){a._usrDfd=null;d.errback(b);d._pendingDfd=null});return}d.ioArgs=d._pendingDfd&&d._pendingDfd.ioArgs;a._usrDfd=null;d.errback(c);d._pendingDfd=null})}a.url=q.fixUrl(a.url);"file:"!==window.location.protocol&&(a.url=q.getAbsoluteUrl(a.url));b=b||{};var d,k=a.form,g=b.disableIdentityLookup,n=b._preLookup,z=!1;if(h("esri-workers")&&
!1!==B.useWorkers)if(!0===b.useWorkers||!0===B.useWorkers)z=!0;else if(b.workerOptions){var D=b.workerOptions;if(D.callback||D.worker&&D.worker.worker instanceof Worker)z=!0}var P=k&&k.append,M=k&&(k.elements?l.some(k.elements,function(a){return"file"===a.type}):P),S=-1!==a.url.toLowerCase().indexOf("token\x3d")||a.content&&a.content.token||M&&l.some(k.elements,function(a){return"token"===a.name})?1:0;C(a.url);if(a._usrDfd)d=a._usrDfd;else{d=new r(t._dfdCanceller);d.addCallback(function(b){/\/sharing\/rest\/accounts\/self/i.test(a.url)&&
(!S&&!a._token&&b.user&&b.user.username)&&B.webTierAuthServers.push(u(a.url));if(b=a._credential){var c=e.id.findServerInfo(b.server);if(c=c&&c.owningSystemUrl)c=c.replace(/\/?$/,"/sharing"),(b=e.id.findCredential(c,b.userId))&&-1===e.id._getIdenticalSvcIdx(c,b)&&b.resources.splice(0,0,c)}});d.addBoth(function(b){delete a._credential;if(b&&(!h("ie")||!b.nodeType))b._ssl=a._ssl});var T=a.load,Y=a.error;T&&d.addCallback(function(a){var b=d._pendingDfd,b=b&&b.ioArgs;return T.call(b&&b.args,a,b)});Y&&
d.addErrback(function(a){var b=d._pendingDfd,b=b&&b.ioArgs;return Y.call(b&&b.args,a,b)})}if(e.id&&!S&&!a._token&&!e.id._isPublic(a.url)&&(!g||n))if(k=e.id.findCredential(a.url))a._token=k.token,a._ssl=k.ssl;z?b.workerOptions&&b.workerOptions.worker?(m=b.workerOptions.worker,c(d)):f(["./workers/RequestClient"],function(a){if(b.workerOptions){var e=b.workerOptions;m=a.getClient(e.callback,e.cbFunction)}else m=a.getClient();c(d)}):c(d);return d}var D,B=k.defaults.io,A=["COM_0056","COM_0057"];w._request=
x;w._disableCors=v;w._detectCors=C;w.setRequestPreCallback=z;h("extend-esri")&&(e.request=w,e._request=x,e._disableCors=v,e._detectCors=C,e.setRequestPreCallback=z);return w})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(f,l){var p=/[&<>'"\/]/g,r={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},d={};l.setObject("dojo.string",d);d.escape=function(d){return!d?"":d.replace(p,function(d){return r[d]})};d.rep=function(d,
m){if(0>=m||!d)return"";for(var g=[];;){m&1&&g.push(d);if(!(m>>=1))break;d+=d}return g.join("")};d.pad=function(n,m,g,a){g||(g="0");n=String(n);m=d.rep(g,Math.ceil((m-n.length)/g.length));return a?n+m:m+n};d.substitute=function(d,m,g,a){a=a||f.global;g=g?l.hitch(a,g):function(a){return a};return d.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(b,c,e){b=l.getObject(c,!1,m);e&&(b=l.getObject(e,!1,a).call(a,b,c));return g(b,c).toString()})};d.trim=String.prototype.trim?l.trim:function(d){d=
d.replace(/^\s+/,"");for(var m=d.length-1;0<=m;m--)if(/\S/.test(d.charAt(m))){d=d.substring(0,m+1);break}return d};return d})},"esri/symbols/PictureMarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./MarkerSymbol".split(" "),function(f,l,p,r,d,n,m,g){var a={url:"",width:12,height:12,angle:0,xoffset:0,yoffset:0};f=f(g,{declaredClass:"esri.symbol.PictureMarkerSymbol",type:"picturemarkersymbol",constructor:function(b,c,e){b?l.isString(b)?
(this.url=b,c&&(this.width=c),e&&(this.height=e)):(this.width=r.pt2px(b.width),this.height=r.pt2px(b.height),c=b.imageData,!(9>p("ie"))&&c&&(e=this.url,this.url="data:"+(b.contentType||"image")+";base64,"+c,this.imageData=e)):(l.mixin(this,a),this.width=r.pt2px(this.width),this.height=r.pt2px(this.height))},getStroke:function(){return null},getFill:function(){return null},setWidth:function(a){this.width=a;return this},setHeight:function(a){this.height=a;return this},setUrl:function(a){a!==this.url&&
(delete this.imageData,delete this.contentType);this.url=a;return this},getShapeDescriptors:function(){return{defaultShape:{type:"image",x:-Math.round(this.width/2),y:-Math.round(this.height/2),width:this.width,height:this.height,src:this.url||""},fill:null,stroke:null}},toJson:function(){var a=this.url,c=this.imageData;if(0===a.indexOf("data:"))var e=a,a=c,c=e.indexOf(";base64,")+8,c=e.substr(c);if(l.isString(a)&&(0===a.indexOf("/")||0===a.indexOf("//")||0===a.indexOf("./")||0===a.indexOf("../")))a=
m.getAbsoluteUrl(a);var e=r.px2pt(this.width),e=isNaN(e)?void 0:e,d=r.px2pt(this.height),d=isNaN(d)?void 0:d,a=n.fixJson(l.mixin(this.inherited("toJson",arguments),{type:"esriPMS",url:a,imageData:c,contentType:this.contentType,width:e,height:d}));delete a.color;delete a.size;a.imageData||delete a.imageData;return a}});f.defaultProps=a;p("extend-esri")&&(l.setObject("symbol.PictureMarkerSymbol",f,d),d.symbol.defaultPictureMarkerSymbol=a);return f})},"esri/layers/InheritedDomain":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/has","../kernel","./Domain"],function(f,l,p,r,d){f=f([d],{declaredClass:"esri.layers.InheritedDomain"});p("extend-esri")&&l.setObject("layers.InheritedDomain",f,r);return f})},"esri/layers/LayerMapSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./LayerSource".split(" "),function(f,l,p,r,d,n){f=f(n,{declaredClass:"esri.layers.LayerMapSource",type:"mapLayer",toJson:function(){return d.fixJson({type:"mapLayer",mapLayerId:this.mapLayerId,
gdbVersion:this.gdbVersion})}});p("extend-esri")&&l.setObject("layers.LayerMapSource",f,r);return f})},"esri/geometry/Polyline":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./Extent".split(" "),function(f,l,p,r,d,n,m,g,a,b){var c={type:"polyline",paths:null};f=f(g,{declaredClass:"esri.geometry.Polyline",constructor:function(a){p.mixin(this,c);this.paths=[];this._path=0;a&&(p.isArray(a)?this.paths=p.isArray(a[0][0])?
a:[a]:a.paths?p.mixin(this,a):this.spatialReference=a,this.spatialReference&&(this.spatialReference=new m(this.spatialReference)));this.verifySR()},_extent:null,addPath:function(a){this._extent=null;this._path=this.paths.length;this.paths[this._path]=[];p.isArray(a[0])?l.forEach(a,this._addPointArr,this):l.forEach(a,this._addPoint,this);return this},_addPointArr:function(a){this.paths[this._path].push(a)},_addPoint:function(a){this.paths[this._path].push([a.x,a.y])},_insertPoints:function(a,b){this._extent=
null;this._path=b;this.paths[this._path]||(this.paths[this._path]=[]);l.forEach(a,this._addPoint,this)},_validateInputs:function(a,b){return null!==a&&void 0!==a&&(0>a||a>=this.paths.length)||null!==b&&void 0!==a&&(0>b||b>=this.paths[a].length)?!1:!0},getPoint:function(b,c){if(this._validateInputs(b,c))return new a(this.paths[b][c],this.spatialReference)},setPoint:function(a,b,c){if(this._validateInputs(a,b))return this._extent=null,this.paths[a][b]=[c.x,c.y],this},insertPoint:function(a,b,c){if(this._validateInputs(a)&&
n.isDefined(b)&&0<=b&&b<=this.paths[a].length)return this._extent=null,this.paths[a].splice(b,0,[c.x,c.y]),this},removePath:function(b){if(this._validateInputs(b,null)){this._extent=null;b=this.paths.splice(b,1)[0];var c,d=b.length,g=this.spatialReference;for(c=0;c<d;c++)b[c]=new a(b[c],g);return b}},removePoint:function(b,c){if(this._validateInputs(b,c))return this._extent=null,new a(this.paths[b].splice(c,1)[0],this.spatialReference)},getExtent:function(){var a;if(this._extent)return a=new b(this._extent),
a._partwise=this._partwise,a;a=this.paths;var c=a.length;if(c&&a[0].length){var d,g,q,m,n,f,l,r,p=m=a[0][0][0],w=n=a[0][0][1],D=Math.min,B=Math.max,A=this.spatialReference,y=[],H,F,E,G;for(f=0;f<c;f++){d=a[f];H=F=d[0]&&d[0][0];E=G=d[0]&&d[0][1];r=d.length;for(l=0;l<r;l++)g=d[l],q=g[0],g=g[1],p=D(p,q),w=D(w,g),m=B(m,q),n=B(n,g),H=D(H,q),E=D(E,g),F=B(F,q),G=B(G,g);y.push(new b({xmin:H,ymin:E,xmax:F,ymax:G,spatialReference:A?A.toJson():null}))}this._extent={xmin:p,ymin:w,xmax:m,ymax:n,spatialReference:A?
A.toJson():null};this._partwise=1<y.length?y:null;a=new b(this._extent);a._partwise=this._partwise;return a}},toJson:function(){var a={paths:p.clone(this.paths)},b=this.spatialReference;b&&(a.spatialReference=b.toJson());return a}});f.defaultProps=c;r("extend-esri")&&(p.setObject("geometry.Polyline",f,d),d.geometry.defaultPolyline=c);return f})},"esri/layers/agsdynamic":function(){define(["./agscommon","./ArcGISDynamicMapServiceLayer","../_time"],function(){return{}})},"esri/layers/graphics":function(){define(["./GraphicsLayer",
"../graphic","../renderer"],function(){return{}})},"dojo/date":function(){define(["./has","./_base/lang"],function(f,l){var p={getDaysInMonth:function(f){var d=f.getMonth();return 1==d&&p.isLeapYear(f)?29:[31,28,31,30,31,30,31,31,30,31,30,31][d]},isLeapYear:function(f){f=f.getFullYear();return!(f%400)||!(f%4)&&!!(f%100)},getTimezoneName:function(f){var d=f.toString(),n="",m=d.indexOf("(");if(-1<m)n=d.substring(++m,d.indexOf(")"));else if(m=/([A-Z\/]+) \d{4}$/,d=d.match(m))n=d[1];else if(d=f.toLocaleString(),
m=/ ([A-Z\/]+)$/,d=d.match(m))n=d[1];return"AM"==n||"PM"==n?"":n},compare:function(f,d,n){f=new Date(+f);d=new Date(+(d||new Date));"date"==n?(f.setHours(0,0,0,0),d.setHours(0,0,0,0)):"time"==n&&(f.setFullYear(0,0,0),d.setFullYear(0,0,0));return f>d?1:f<d?-1:0},add:function(f,d,n){var m=new Date(+f),g=!1,a="Date";switch(d){case "day":break;case "weekday":var b;(d=n%5)?b=parseInt(n/5):(d=0<n?5:-5,b=0<n?(n-5)/5:(n+5)/5);var c=f.getDay(),e=0;6==c&&0<n?e=1:0==c&&0>n&&(e=-1);c+=d;if(0==c||6==c)e=0<n?2:
-2;n=7*b+d+e;break;case "year":a="FullYear";g=!0;break;case "week":n*=7;break;case "quarter":n*=3;case "month":g=!0;a="Month";break;default:a="UTC"+d.charAt(0).toUpperCase()+d.substring(1)+"s"}if(a)m["set"+a](m["get"+a]()+n);g&&m.getDate()<f.getDate()&&m.setDate(0);return m},difference:function(f,d,n){d=d||new Date;n=n||"day";var m=d.getFullYear()-f.getFullYear(),g=1;switch(n){case "quarter":f=f.getMonth();d=d.getMonth();f=Math.floor(f/3)+1;d=Math.floor(d/3)+1;g=d+4*m-f;break;case "weekday":m=Math.round(p.difference(f,
d,"day"));n=parseInt(p.difference(f,d,"week"));g=m%7;if(0==g)m=5*n;else{var a=0,b=f.getDay();d=d.getDay();n=parseInt(m/7);g=m%7;f=new Date(f);f.setDate(f.getDate()+7*n);f=f.getDay();if(0<m)switch(!0){case 6==b:a=-1;break;case 0==b:a=0;break;case 6==d:a=-1;break;case 0==d:a=-2;break;case 5<f+g:a=-2}else if(0>m)switch(!0){case 6==b:a=0;break;case 0==b:a=1;break;case 6==d:a=2;break;case 0==d:a=1;break;case 0>f+g:a=2}m=m+a-2*n}g=m;break;case "year":g=m;break;case "month":g=d.getMonth()-f.getMonth()+12*
m;break;case "week":g=parseInt(p.difference(f,d,"day")/7);break;case "day":g/=24;case "hour":g/=60;case "minute":g/=60;case "second":g/=1E3;case "millisecond":g*=d.getTime()-f.getTime()}return Math.round(g)}};l.mixin(l.getObject("dojo.date",!0),p);return p})},"esri/symbols/SimpleLineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./LineSymbol".split(" "),function(f,l,p,r,d,n,m,g){var a={STYLE_SOLID:"solid",STYLE_DASH:"dash",
STYLE_DOT:"dot",STYLE_DASHDOT:"dashdot",STYLE_DASHDOTDOT:"longdashdotdot",STYLE_NULL:"none",STYLE_SHORTDASH:"shortdash",STYLE_SHORTDOT:"shortdot",STYLE_SHORTDASHDOT:"shortdashdot",STYLE_SHORTDASHDOTDOT:"shortdashdotdot",STYLE_LONGDASH:"longdash",STYLE_LONGDASHDOT:"longdashdot"},b={color:[0,0,0,1],style:a.STYLE_SOLID,width:1};f=f(g,{declaredClass:"esri.symbol.SimpleLineSymbol",type:"simplelinesymbol",_styles:{solid:"esriSLSSolid",dash:"esriSLSDash",dot:"esriSLSDot",dashdot:"esriSLSDashDot",longdashdotdot:"esriSLSDashDotDot",
none:"esriSLSNull",insideframe:"esriSLSInsideFrame",shortdash:"esriSLSShortDash",shortdot:"esriSLSShortDot",shortdashdot:"esriSLSShortDashDot",shortdashdotdot:"esriSLSShortDashDotDot",longdash:"esriSLSLongDash",longdashdot:"esriSLSLongDashDot"},constructor:function(c,e,k){c?l.isString(c)?(this.style=c,e&&(this.color=e),k&&(this.width=k)):this.style=m.valueOf(this._styles,c.style)||a.STYLE_SOLID:(l.mixin(this,b),this.color=new p(this.color),this.width=d.pt2px(this.width))},setStyle:function(a){this.style=
a;return this},getStroke:function(){return this.style===a.STYLE_NULL||0===this.width?null:{color:this.color,style:this.style,width:this.width}},getFill:function(){return null},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -15,0 L 15,0 E"},fill:null,stroke:this.getStroke()}},toJson:function(){return m.fixJson(l.mixin(this.inherited("toJson",arguments),{type:"esriSLS",style:this._styles[this.style]}))}});l.mixin(f,a);f.defaultProps=b;r("extend-esri")&&(l.setObject("symbol.SimpleLineSymbol",
f,n),n.symbol.defaultSimpleLineSymbol=b);return f})},"esri/layers/OpenStreetMapLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../urlUtils ../SpatialReference ../geometry/Extent ./TiledMapServiceLayer ./TileInfo".split(" "),function(f,l,p,r,d,n,m,g,a){f=f(g,{declaredClass:"esri.layers.OpenStreetMapLayer",constructor:function(b){this.spatialReference=new n({wkid:102100});this.tileInfo=new a({rows:256,cols:256,dpi:96,format:"PNG8",compressionQuality:0,origin:{x:-2.0037508342787E7,
y:2.0037508342787E7},spatialReference:{wkid:102100},lods:[{level:0,scale:5.91657527591555E8,resolution:156543.033928},{level:1,scale:2.95828763795777E8,resolution:78271.5169639999},{level:2,scale:1.47914381897889E8,resolution:39135.7584820001},{level:3,scale:7.3957190948944E7,resolution:19567.8792409999},{level:4,scale:3.6978595474472E7,resolution:9783.93962049996},{level:5,scale:1.8489297737236E7,resolution:4891.96981024998},{level:6,scale:9244648.868618,resolution:2445.98490512499},{level:7,scale:4622324.434309,
resolution:1222.99245256249},{level:8,scale:2311162.217155,resolution:611.49622628138},{level:9,scale:1155581.108577,resolution:305.748113140558},{level:10,scale:577790.554289,resolution:152.874056570411},{level:11,scale:288895.277144,resolution:76.4370282850732},{level:12,scale:144447.638572,resolution:38.2185141425366},{level:13,scale:72223.819286,resolution:19.1092570712683},{level:14,scale:36111.909643,resolution:9.55462853563415},{level:15,scale:18055.954822,resolution:4.77731426794937},{level:16,
scale:9027.977411,resolution:2.38865713397468},{level:17,scale:4513.988705,resolution:1.19432856685505},{level:18,scale:2256.994353,resolution:0.597164283559817},{level:19,scale:1128.497176,resolution:0.298582141647617}]});this.fullExtent=new m({xmin:-2.003750834E7,ymin:-2.003750834E7,xmax:2.003750834E7,ymax:2.003750834E7,spatialReference:{wkid:102100}});this.initialExtent=new m({xmin:-2.003750834E7,ymin:-2.003750834E7,xmax:2.003750834E7,ymax:2.003750834E7,spatialReference:{wkid:102100}});this.tileServers=
b&&b.tileServers||["http://a.tile.openstreetmap.org","http://b.tile.openstreetmap.org","http://c.tile.openstreetmap.org"];this.serversLength=this.tileServers.length;this._displayLevels=b?b.displayLevels:null;this.copyright=b&&b.copyright||"Map data \x26copy; OpenStreetMap contributors, CC-BY-SA";this.loaded=!0;this.onLoad(this);(b=b&&b.loadCallback)&&b(this)},getTileUrl:function(a,c,e){a=this.tileServers[c%this.serversLength]+"/"+a+"/"+e+"/"+c+".png";a=this.addTimestampToURL(a);return d.addProxy(a)}});
p("extend-esri")&&l.setObject("layers.OpenStreetMapLayer",f,r);return f})},"esri/geometry/Rect":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../SpatialReference ./Geometry ./Point ./Extent".split(" "),function(f,l,p,r,d,n,m,g,a){function b(b){return new a(parseFloat(b.x),parseFloat(b.y)-parseFloat(b.height),parseFloat(b.x)+parseFloat(b.width),parseFloat(b.y),b.spatialReference)}var c=f(m,{declaredClass:"esri.geometry.Rect",constructor:function(a,b,c,d,g){l.mixin(this,
r.defaultRect);l.isObject(a)&&"extent"===a.type&&(b=a.ymax,c=a.getWidth(),d=a.getHeight(),g=a.spatialReference,a=a.xmin);l.isObject(a)?(l.mixin(this,a),this.spatialReference&&(this.spatialReference=new n(this.spatialReference))):(this.x=a,this.y=b,this.width=c,this.height=d,this.spatialReference=g);this.verifySR()},getCenter:function(){return new g(this.x+this.width/2,this.y+this.height/2,this.spatialReference)},offset:function(a,b){return new c(this.x+a,this.y+b,this.width,this.height,this.spatialReference)},
intersects:function(a){return a.x+a.width<=this.x||a.y+a.height<=this.y||a.y>=this.y+this.height||a.x>=this.x+this.width?!1:!0},getExtent:function(){return b(this)},update:function(a,b,c,d,g){this.x=a;this.y=b;this.width=c;this.height=d;this.spatialReference=g;return this}});p("extend-esri")&&(l.setObject("geometry.Rect",c,d),d.geometry._rectToExtent=b,d.geometry._extentToRect=function(a){return new c(a)});return c})},"esri/MapNavigationManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/event dojo/mouse dojo/keys ./kernel ./MouseEvents ./TouchEvents ./PointerEvents ./config ./sniff ./lang ./fx ./graphic ./tileUtils ./geometry/ScreenPoint ./geometry/Extent ./geometry/Rect ./geometry/mathUtils ./symbols/SimpleFillSymbol".split(" "),
function(f,l,p,r,d,n,m,g,a,b,c,e,k,h,s,q,t,u,x,v,C,z){var w=r.connect,D=r.disconnect,B=k("chrome"),A=k("safari"),y=[m.NUMPAD_PLUS,61,m.NUMPAD_MINUS,m.UP_ARROW,m.NUMPAD_8,m.RIGHT_ARROW,m.NUMPAD_6,m.DOWN_ARROW,m.NUMPAD_2,m.LEFT_ARROW,m.NUMPAD_4,m.PAGE_UP,m.NUMPAD_9,m.PAGE_DOWN,m.NUMPAD_3,m.END,m.NUMPAD_1,m.HOME,m.NUMPAD_7];f=f(null,{declaredClass:"esri.MapNavigationManager",eventModel:"",constructor:function(d,h){this.map=d;l.mixin(this,h);var g=d.__container;k("esri-pointer")?(this.pointerEvents=new c(g,
{map:d}),this.eventModel="pointer"):k("esri-touch")?(k("ios")||(this.mouseEvents=new a(g,{map:d})),this.touchEvents=new b(g,{map:d,mouseEvents:this.mouseEvents}),this.eventModel="touch"):(this.mouseEvents=new a(g,{map:d}),this.eventModel="mouse");this._zoomRect=new q(null,new z(e.defaults.map.zoomSymbol));this._keyDx=this._keyDy=0;this._adjustPinch=l.hitch(this,this._adjustPinch);this._adjustPinchEnd=l.hitch(this,this._adjustPinchEnd)},_panInit:function(a){var b=this.mouseEvents;n.isLeft(a)&&(this.map.isPan&&
!a.shiftKey)&&(this._dragOrigin=new u(0,0),l.mixin(this._dragOrigin,a.screenPoint),this._panStartHandle=w(b,"onMouseDragStart",this,this._panStart),this._panHandle=w(b,"onMouseDrag",this,this._pan),this._panEndHandle=w(b,"onMouseUp",this,this._panEnd),(B||A)&&a.preventDefault())},_panStart:function(a){this.map.setCursor("move");this.map.__panStart(a.screenPoint.x,a.screenPoint.y)},_pan:function(a){this.map.__pan(a.screenPoint.x-this._dragOrigin.x,a.screenPoint.y-this._dragOrigin.y)},_panEnd:function(a){D(this._panStartHandle);
D(this._panHandle);D(this._panEndHandle);this._panStartHandle=this._panHandle=this._panEndHandle=null;var b=this.map;b.__panning&&(b.__panEnd(a.screenPoint.x-this._dragOrigin.x,a.screenPoint.y-this._dragOrigin.y),b.resetMapCursor())},_zoomInit:function(a){var b=this.map,e=this.pointerEvents||this.mouseEvents;if((n.isLeft(a)||a.pointerType)&&b.isRubberBandZoom&&a.shiftKey)b.setCursor("crosshair"),this._dragOrigin=l.mixin({},a.screenPoint),this._zoomDir=a.ctrlKey||a.metaKey?-1:1,this.pointerEvents?
(this._zoomHandle=w(e,"onSwipeMove",this,this._zoom),this._zoomEndHandle=w(e,"onSwipeEnd",this,this._zoomEnd)):(this._zoomHandle=w(e,"onMouseDrag",this,this._zoom),this._zoomEndHandle=w(e,"onMouseUp",this,this._zoomEnd)),B&&a.preventDefault()},_zoom:function(a){var b=this.map,e=this._normalizeRect(a).offset(b.__visibleRect.x,b.__visibleRect.y);a=b.graphics;var c=this._zoomRect;c.geometry||b.setCursor("crosshair");c.geometry&&a.remove(c,!0);var d=b.toMap(new u(e.x,e.y)),e=b.toMap(new u(e.x+e.width,
e.y+e.height)),e=new v(d.x,d.y,e.x-d.x,d.y-e.y,b.spatialReference);e._originOnly=!0;c.setGeometry(e);a.add(c,!0)},_zoomEnd:function(a){var b=this._zoomRect,e=this.map,c=e.extent,d=e.spatialReference;D(this._zoomHandle);D(this._zoomEndHandle);this._zoomHandle=this._zoomEndHandle=null;if(e._canZoom(this._zoomDir)&&b.getDojoShape()){e.graphics.remove(b);b.geometry=null;a=this._normalizeRect(a);a.x+=e.__visibleRect.x;a.y+=e.__visibleRect.y;if(-1===this._zoomDir){var h=c.getWidth();a=(h*e.width/a.width-
h)/2;d=new x(c.xmin-a,c.ymin-a,c.xmax+a,c.ymax+a,d)}else c=e.toMap({x:a.x,y:a.y+a.height}),a=e.toMap({x:a.x+a.width,y:a.y}),d=new x(c.x,c.y,a.x,a.y,d);e._extentUtil(null,null,d)}b.getDojoShape()&&e.graphics.remove(b,!0);this._zoomDir=0;e.resetMapCursor()},_wheelZoom:function(a,b){var e=this.map;if(!b){if(e.smartNavigation&&!a.shiftKey&&!e._isPanningOrZooming()){e.disableScrollWheelZoom();this._setScrollWheelPan(!0);this._wheelPan(a);return}var c=a.timeStamp;if(!h.isDefined(c)||0>=c)c=(new Date).getTime();
if(100>(this._mwts?c-this._mwts:c))return;this._mwts=c}e._canZoom(a.value)&&e._extentUtil({numLevels:a.value,mapAnchor:a.mapPoint,screenAnchor:a.screenPoint})},_wheelPan:function(a){var b=this.map;if(a.shiftKey&&!b._isPanningOrZooming())this._setScrollWheelPan(!1),b.enableScrollWheelZoom(),this._wheelZoom(a);else{var e=0,c=0;k("ff")?a.axis===a.HORIZONTAL_AXIS?e=-a.detail:c=-a.detail:(e=a.wheelDeltaX,c=a.wheelDeltaY);b.translate(e,c)}},_setScrollWheelPan:function(a){this.map.isScrollWheelPan=a;this.mouseEvents.enableMouseWheel(a);
D(this._mwMacHandle);this._mwMacHandle=null;a&&(this._mwMacHandle=w(this.mouseEvents,"onMouseWheel",this,this._wheelPan))},_recenter:function(a){a.shiftKey&&!this.map._isPanningOrZooming()&&this.map.centerAt(a.mapPoint)},_recenterZoom:function(a){a.shiftKey&&!this.map._isPanningOrZooming()&&(a.value=a.ctrlKey||a.metaKey?-1:1,this._wheelZoom(a,!0))},_dblClickZoom:function(a){this.map._isPanningOrZooming()||(a.value=1,this._wheelZoom(a,!0))},_twoFingerTap:function(a){this.map._isPanningOrZooming()||
(a.value=-1,this._wheelZoom(a,!0))},_keyDown:function(a){var b=a.keyCode,e=this.map;if(-1!==p.indexOf(y,b)){if(b===m.NUMPAD_PLUS||61===b)e._extentUtil({numLevels:1});else if(b===m.NUMPAD_MINUS)e._extentUtil({numLevels:-1});else{e.__panning||e.__panStart(0,0);switch(b){case m.UP_ARROW:case m.NUMPAD_8:this._keyDy+=10;break;case m.RIGHT_ARROW:case m.NUMPAD_6:this._keyDx-=10;break;case m.DOWN_ARROW:case m.NUMPAD_2:this._keyDy-=10;break;case m.LEFT_ARROW:case m.NUMPAD_4:this._keyDx+=10;break;case m.PAGE_UP:case m.NUMPAD_9:this._keyDx-=
10;this._keyDy+=10;break;case m.PAGE_DOWN:case m.NUMPAD_3:this._keyDx-=10;this._keyDy-=10;break;case m.END:case m.NUMPAD_1:this._keyDx+=10;this._keyDy-=10;break;case m.HOME:case m.NUMPAD_7:this._keyDx+=10;this._keyDy+=10;break;default:return}e.__pan(this._keyDx,this._keyDy)}d.stop(a)}},_keyEnd:function(a){var b=this.map;b.__panning&&a.keyCode!==m.SHIFT&&(b.__panEnd(this._keyDx,this._keyDy),this._keyDx=this._keyDy=0)},_swipeInit:function(a){var b=this.map,b=b._zoomAnim||b._panAnim;if(a.shiftKey)return!1;
b&&b._active&&(b.stop(),b._fire("onEnd",[b.node]));this._dragOrigin=new u(0,0);l.mixin(this._dragOrigin,a.screenPoint);D(this._swipeHandle);D(this._swipeEndHandle);this._swipeHandle=w(this.touchEvents||this.pointerEvents,"onSwipeMove",this,this._swipe);this._swipeEndHandle=w(this.touchEvents||this.pointerEvents,"onSwipeEnd",this,this._swipeEnd)},_swipe:function(a){var b=this.map;b.__panning?(this._panX=a.screenPoint.x,this._panY=a.screenPoint.y,b.__pan(a.screenPoint.x-this._dragOrigin.x,a.screenPoint.y-
this._dragOrigin.y)):(b.setCursor("move"),b.__panStart(a.screenPoint.x,a.screenPoint.y))},_swipeEnd:function(a){D(this._swipeHandle);D(this._swipeEndHandle);this._swipeHandle=this._swipeEndHandle=null;var b=this.map;b.__panning&&(b.resetMapCursor(),b.__panEnd(a.screenPoint.x-this._dragOrigin.x,a.screenPoint.y-this._dragOrigin.y))},_pinchInit:function(a){var b=this.map,e=b._zoomAnim||b._panAnim;e&&e._active?(e.stop(),e._fire("onEnd",[e.node])):b.__panning&&(a.screenPoint=new u(this._panX,this._panY),
a.mapPoint=b.toMap(a.screenPoint),this._swipeEnd(a));D(this._pinchHandle);D(this._pinchEndHandle);this._pinchHandle=w(this.touchEvents||this.pointerEvents,"onPinchMove",this,this._pinch);this._pinchEndHandle=w(this.touchEvents||this.pointerEvents,"onPinchEnd",this,this._pinchEnd)},_pinch:function(a){var b=this.map;a.screenPoints&&(this.currLength=C.getLength(a.screenPoints[0],a.screenPoints[1]),b.__zooming?(a=this.currLength/this._length,this._zoomStartExtent=this.__scaleExtent(b.extent,a,this._dragOrigin),
b.__zoom(this._zoomStartExtent,a,this._dragOrigin)):(this._dragOrigin=new u((a.screenPoints[0].x+a.screenPoints[1].x)/2,(a.screenPoints[0].y+a.screenPoints[1].y)/2),this._length=this.currLength,b.__zoomStart(b.extent,this._dragOrigin)),b._fireOnScale(this.currLength/this._length,this._dragOrigin,!0))},_pinchEnd:function(a){a=this.map;D(this._pinchHandle);D(this._pinchEndHandle);this._pinchHandle=this._pinchEndHandle=null;if(a.__zooming&&null===a._zoomAnim){var b=this.currLength/this._length,c=a.extent.getWidth();
this._zoomAnimAnchor=a.toMap(this._dragOrigin);this._zoomStartExtent=this.__scaleExtent(a.extent,1/b,this._zoomAnimAnchor);if(a.__tileInfo){var d=t.getCandidateTileInfo(a,a.__tileInfo,this._zoomStartExtent),h=a.__getExtentForLevel(d.lod.level,this._zoomAnimAnchor),k=a.getMinZoom(),g=a.getMaxZoom(),q=h.extent,h=h.lod,m=c/q.getWidth(),f=d.lod.level;1>b?m>b&&f--:m<b&&f++;f<k?f=k:f>g&&(f=g);f!==d.lod.level&&(h=a.__getExtentForLevel(f,this._zoomAnimAnchor),q=h.extent,h=h.lod);this._zoomEndExtent=q;this._zoomEndLod=
h;a._zoomAnim=s.animateRange({range:{start:c/this._zoomStartExtent.getWidth(),end:m},duration:e.defaults.map.zoomDuration,rate:e.defaults.map.zoomRate,onAnimate:this._adjustPinch,onEnd:this._adjustPinchEnd});a._zoomAnim.play();a._fireOnScale(a.extent.getWidth()/this._zoomEndExtent.getWidth(),this._dragOrigin)}else this._zoomEndExtent=this._zoomStartExtent,a._fireOnScale(a.extent.getWidth()/this._zoomEndExtent.getWidth(),this._dragOrigin),this._adjustPinchEnd()}},_adjustPinch:function(a){var b=this.__scaleExtent(this.map.extent,
a,this._zoomAnimAnchor);this.map.__zoom(b,a,this._dragOrigin)},_adjustPinchEnd:function(){var a=this.map,b=a.extent.getWidth()/this._zoomEndExtent.getWidth(),e=this.__scaleExtent(a.extent,1/b,this._zoomAnimAnchor),c=this._dragOrigin,d=this._zoomEndLod;this._zoomStartExtent=this._zoomEndExtent=this._zoomEndLod=this._dragOrigin=a._zoomAnim=this._zoomAnimAnchor=null;a.__zoomEnd(e,b,c,d,!0)},__scaleExtent:function(a,b,e){e=e||a.getCenter();b=a.expand(b);var c=a.xmin-(b.getWidth()-a.getWidth())*(e.x-a.xmin)/
a.getWidth();e=a.ymax-(b.getHeight()-a.getHeight())*(e.y-a.ymax)/a.getHeight();return new x(c,e-b.getHeight(),c+b.getWidth(),e,a.spatialReference)},_normalizeRect:function(a){a=a.screenPoint;var b=this._dragOrigin.x,e=this._dragOrigin.y;a=new v((a.x<b?a.x:b)-this.map.__visibleRect.x,(a.y<e?a.y:e)-this.map.__visibleRect.y,Math.abs(a.x-b),Math.abs(a.y-e));delete a.spatialReference;0===a.width&&(a.width=1);0===a.height&&(a.height=1);return a},setImmediateClick:function(a){switch(this.eventModel){case "mouse":this.mouseEvents.setImmediateClick(a);
break;case "touch":this.touchEvents.setImmediateTap(a);this.mouseEvents&&this.mouseEvents.setImmediateClick(a);break;case "pointer":this.pointerEvents.setImmediateTap(a)}},enablePan:function(){this.disablePan();switch(this.eventModel){case "mouse":this._panInitHandle=w(this.mouseEvents,"onMouseDown",this,this._panInit);break;case "touch":this._panInitHandle=w(this.mouseEvents,"onMouseDown",this,this._panInit);this._swipeInitHandle=w(this.touchEvents,"onSwipeStart",this,this._swipeInit);break;case "pointer":this._swipeInitHandle=
w(this.pointerEvents,"onSwipeStart",this,this._swipeInit)}},disablePan:function(){D(this._panInitHandle);this._panInitHandle=null;D(this._swipeInitHandle);this._swipeInitHandle=null},enableRubberBandZoom:function(){this.disableRubberBandZoom();this._zoomInitHandle=this.pointerEvents?w(this.pointerEvents,"onSwipeStart",this,this._zoomInit):w(this.mouseEvents,"onMouseDown",this,this._zoomInit)},disableRubberBandZoom:function(){D(this._zoomInitHandle);this._zoomInitHandle=null},enablePinchZoom:function(){this.disablePinchZoom();
if("touch"===this.eventModel||"pointer"===this.eventModel)this._pinchInitHandle=w(this.touchEvents||this.pointerEvents,"onPinchStart",this,this._pinchInit)},disablePinchZoom:function(){D(this._pinchInitHandle);this._pinchInitHandle=null},enableScrollWheelZoom:function(){this.disableScrollWheelZoom();this._wheelHandle=w(this.mouseEvents||this.pointerEvents,"onMouseWheel",this,this._wheelZoom)},disableScrollWheelZoom:function(){D(this._wheelHandle);this._wheelHandle=null},enableDoubleClickZoom:function(){this.disableDoubleClickZoom();
switch(this.eventModel){case "mouse":this._dblClickHandle=w(this.mouseEvents,"onDblClick",this,this._dblClickZoom);break;case "touch":this._dblClickHandle=w(this.mouseEvents,"onDblClick",this,this._dblClickZoom);this._dblTapHandle=w(this.touchEvents,"onDoubleTap",this,this._dblClickZoom);this._zoomOutHandle=w(this.touchEvents,"onTwoFingerTap",this,this._twoFingerTap);break;case "pointer":this._dblTapHandle=w(this.pointerEvents,"onDoubleTap",this,this._dblClickZoom),this._zoomOutHandle=w(this.pointerEvents,
"onTwoFingerTap",this,this._twoFingerTap)}},disableDoubleClickZoom:function(){D(this._dblClickHandle);D(this._zoomOutHandle);this._dblTapHandle&&D(this._dblTapHandle);this._dblClickHandle=this._zoomOutHandle=this._dblTapHandle=null},enableShiftDoubleClickZoom:function(){this.disableShiftDoubleClickZoom();this._sDblClickHandle=w(this.pointerEvents||this.mouseEvents,"onDblClick",this,this._recenterZoom)},disableShiftDoubleClickZoom:function(){D(this._sDblClickHandle);this._sDblClickHandle=null},enableClickRecenter:function(){this.disableClickRecenter();
this._recenterHandle=w(this.pointerEvents||this.mouseEvents,"onClick",this,this._recenter)},disableClickRecenter:function(){D(this._recenterHandle);this._recenterHandle=null},enableKeyboardNavigation:function(){this.disableKeyboardNavigation();this._keyHandle=w(this.pointerEvents||this.mouseEvents,"onKeyDown",this,this._keyDown);this._keyEndHandle=w(this.pointerEvents||this.mouseEvents,"onKeyUp",this,this._keyEnd)},disableKeyboardNavigation:function(){D(this._keyHandle);D(this._keyEndHandle);this._keyHandle=
this._keyEndHandle=null},enableNavigation:function(){var a=this.map;a&&a.loaded&&(a.enableDoubleClickZoom(),a.enableClickRecenter(),a.enablePan(),a.enableRubberBandZoom(),this.enablePinchZoom(),a.enableKeyboardNavigation(),a.smartNavigation?this._setScrollWheelPan(!0):a.enableScrollWheelZoom())},disableNavigation:function(){var a=this.map;a&&a.loaded&&(a.disableDoubleClickZoom(),a.disableClickRecenter(),a.disablePan(),a.disableRubberBandZoom(),this.disablePinchZoom(),a.disableKeyboardNavigation(),
a.disableScrollWheelZoom(),a.smartNavigation&&this._setScrollWheelPan(!1))},destroy:function(){this.touchEvents&&this.touchEvents.destroy();this.mouseEvents&&this.mouseEvents.destroy();this.pointerEvents&&this.pointerEvents.destroy();var a,b=[this._panInitHandle,this._panStartHandle,this._panHandle,this._panEndHandle,this._zoomInitHandle,this._zoomHandle,this._zoomEndHandle,this._wheelHandle,this._mwMacHandle,this._dblClickHandle,this._zoomOutHandle,this._recenterHandle,this._sDblClickHandle,this._dblTapHandle,
this._keyHandle,this._keyEndHandle,this._swipeInitHandle,this._swipeHandle,this._swipeEndHandle,this._pinchInitHandle,this._pinchHandle,this._pinchEndHandle];for(a=0;a<b.length;a++)D(b[a]);this.map=this.touchEvents=this.mouseEvents=this.eventModel=this.pointerEvents=this._zoomRect=this._dragOrigin=this._panInitHandle=this._panStartHandle=this._panHandle=this._panEndHandle=this._zoomInitHandle=this._zoomHandle=this._zoomEndHandle=this._wheelHandle=this._mwMacHandle=this._dblClickHandle=this._zoomOutHandle=
this._recenterHandle=this._sDblClickHandle=this._dblTapHandle=this._keyHandle=this._keyEndHandle=this._swipeInitHandle=this._swipeHandle=this._swipeEndHandle=this._pinchInitHandle=this._pinchHandle=this._pinchEndHandle=null}});k("extend-esri")&&(g.MapNavigationManager=f);return f})},"esri/renderers/TimeRampAger":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has ../kernel ../symbols/jsonUtils ../Color ./SymbolAger".split(" "),function(f,l,p,r,d,n,m,g){f=f(g,{declaredClass:"esri.renderer.TimeRampAger",
constructor:function(a,b,c){this.colorRange=a;this.sizeRange=b;this.alphaRange=c},getAgedSymbol:function(a,b){var c=b.getLayer(),e=b.attributes;a=n.fromJson(a.toJson());var d=c._map.timeExtent,h=d.startTime,d=d.endTime;if(!h||!d)return a;h=h.getTime();d=d.getTime();c=new Date(e[c._startTimeField]);c=c.getTime();c<h&&(c=h);h=d===h?1:(c-h)/(d-h);if(c=this.sizeRange)e=c[0],d=c[1],c=Math.abs(d-e)*h,this._setSymbolSize(a,e<d?e+c:e-c);if(c=this.colorRange){var d=c[0],g=c[1],q=Math.round,e=new p,m=d.r,f=
g.r,c=Math.abs(f-m)*h;e.r=q(m<f?m+c:m-c);m=d.g;f=g.g;c=Math.abs(f-m)*h;e.g=q(m<f?m+c:m-c);m=d.b;f=g.b;c=Math.abs(f-m)*h;e.b=q(m<f?m+c:m-c);d=d.a;g=g.a;c=Math.abs(g-d)*h;e.a=d<g?d+c:d-c;a.setColor(e)}e=a.color;if((c=this.alphaRange)&&e)d=c[0],g=c[1],c=Math.abs(g-d)*h,e.a=d<g?d+c:d-c;return a},toJson:function(){var a={};this.sizeRange&&(a.sizeRange=this.sizeRange);this.colorRange&&(a.colorRange=[m.toJsonColor(this.colorRange[0]),m.toJsonColor(this.colorRange[1])]);this.alphaRange&&(a.alphaRange=[Math.round(255*
this.alphaRange[0]),Math.round(255*this.alphaRange[1])]);return a}});r("extend-esri")&&l.setObject("renderer.TimeRampAger",f,d);return f})},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(f,l,p){l.switchTo(p);return l})},"esri/WKIDUnitConversion":function(){define(["dojo/has","./kernel"],function(f,l){var p={values:[1,0.3048,0.3048006096012192,0.3047972654,0.9143917962,0.201166195164,0.9143984146160287,0.3047994715386762,20.11676512155263,20.11678249437587,
0.9143985307444408,0.91439523,0.3047997101815088,20.116756,5E4,15E4],2E3:0,2001:0,2002:0,2003:0,2004:0,2005:0,2006:0,2007:0,2008:0,2009:0,2010:0,2011:0,2012:0,2013:0,2014:0,2015:0,2016:0,2017:0,2018:0,2019:0,2020:0,2021:0,2022:0,2023:0,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0,2030:0,2031:0,2032:0,2033:0,2034:0,2035:0,2036:0,2037:0,2038:0,2039:0,2040:0,2041:0,2042:0,2043:0,2044:0,2045:0,2056:0,2057:0,2058:0,2059:0,2060:0,2061:0,2062:0,2063:0,2064:0,2065:0,2066:5,2067:0,2068:0,2069:0,2070:0,2071:0,
2072:0,2073:0,2074:0,2075:0,2076:0,2077:0,2078:0,2079:0,2080:0,2081:0,2082:0,2083:0,2084:0,2085:0,2086:0,2087:0,2088:0,2089:0,2090:0,2091:0,2092:0,2093:0,2094:0,2095:0,2096:0,2097:0,2098:0,2099:0,2100:0,2101:0,2102:0,2103:0,2104:0,2105:0,2106:0,2107:0,2108:0,2109:0,2110:0,2111:0,2112:0,2113:0,2114:0,2115:0,2116:0,2117:0,2118:0,2119:0,2120:0,2121:0,2122:0,2123:0,2124:0,2125:0,2126:0,2127:0,2128:0,2129:0,2130:0,2131:0,2132:0,2133:0,2134:0,2135:0,2136:12,2137:0,2138:0,2139:0,2140:0,2141:0,2142:0,2143:0,
2144:0,2145:0,2146:0,2147:0,2148:0,2149:0,2150:0,2151:0,2152:0,2153:0,2154:0,2155:2,2157:0,2158:0,2159:12,2160:12,2161:0,2162:0,2163:0,2164:0,2165:0,2166:0,2167:0,2168:0,2169:0,2170:0,2172:0,2173:0,2174:0,2175:0,2176:0,2177:0,2178:0,2179:0,2180:0,2181:0,2182:0,2183:0,2184:0,2185:0,2186:0,2187:0,2188:0,2189:0,2190:0,2191:0,2192:0,2193:0,2195:0,2196:0,2197:0,2198:0,2200:0,2201:0,2202:0,2203:0,2204:2,2205:0,2206:0,2207:0,2208:0,2209:0,2210:0,2211:0,2212:0,2213:0,2214:0,2215:0,2216:0,2217:0,2219:0,2220:0,
2222:1,2223:1,2224:1,2225:2,2226:2,2227:2,2228:2,2229:2,2230:2,2231:2,2232:2,2233:2,2234:2,2235:2,2236:2,2237:2,2238:2,2239:2,2240:2,2241:2,2242:2,2243:2,2244:2,2245:2,2246:2,2247:2,2248:2,2249:2,2250:2,2251:1,2252:1,2253:1,2254:2,2255:2,2256:1,2257:2,2258:2,2259:2,2260:2,2261:2,2262:2,2263:2,2264:2,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2274:2,2275:2,2276:2,2277:2,2278:2,2279:2,2280:1,2281:1,2282:1,2283:2,2284:2,2285:2,2286:2,2287:2,2288:2,2289:2,2290:0,2291:0,2292:0,2294:0,
2295:0,2308:0,2309:0,2310:0,2311:0,2312:0,2313:0,2314:3,2315:0,2316:0,2317:0,2318:0,2319:0,2320:0,2321:0,2322:0,2323:0,2324:0,2325:0,2326:0,2327:0,2328:0,2329:0,2330:0,2331:0,2332:0,2333:0,2334:0,2335:0,2336:0,2337:0,2338:0,2339:0,2340:0,2341:0,2342:0,2343:0,2344:0,2345:0,2346:0,2347:0,2348:0,2349:0,2350:0,2351:0,2352:0,2353:0,2354:0,2355:0,2356:0,2357:0,2358:0,2359:0,2360:0,2361:0,2362:0,2363:0,2364:0,2365:0,2366:0,2367:0,2368:0,2369:0,2370:0,2371:0,2372:0,2373:0,2374:0,2375:0,2376:0,2377:0,2378:0,
2379:0,2380:0,2381:0,2382:0,2383:0,2384:0,2385:0,2386:0,2387:0,2388:0,2389:0,2390:0,2391:0,2392:0,2393:0,2394:0,2395:0,2396:0,2397:0,2398:0,2399:0,2400:0,2401:0,2402:0,2403:0,2404:0,2405:0,2406:0,2407:0,2408:0,2409:0,2410:0,2411:0,2412:0,2413:0,2414:0,2415:0,2416:0,2417:0,2418:0,2419:0,2420:0,2421:0,2422:0,2423:0,2424:0,2425:0,2426:0,2427:0,2428:0,2429:0,2430:0,2431:0,2432:0,2433:0,2434:0,2435:0,2436:0,2437:0,2438:0,2439:0,2440:0,2441:0,2442:0,2443:0,2444:0,2445:0,2446:0,2447:0,2448:0,2449:0,2450:0,
2451:0,2452:0,2453:0,2454:0,2455:0,2456:0,2457:0,2458:0,2459:0,2460:0,2461:0,2462:0,2523:0,2524:0,2525:0,2526:0,2527:0,2528:0,2529:0,2530:0,2531:0,2532:0,2533:0,2534:0,2535:0,2536:0,2537:0,2538:0,2539:0,2540:0,2541:0,2542:0,2543:0,2544:0,2545:0,2546:0,2547:0,2548:0,2549:0,2550:0,2551:0,2552:0,2553:0,2554:0,2555:0,2556:0,2557:0,2558:0,2559:0,2560:0,2561:0,2562:0,2563:0,2564:0,2565:0,2566:0,2567:0,2568:0,2569:0,2570:0,2571:0,2572:0,2573:0,2574:0,2575:0,2576:0,2577:0,2578:0,2579:0,2580:0,2581:0,2582:0,
2583:0,2584:0,2585:0,2586:0,2587:0,2588:0,2589:0,2590:0,2591:0,2592:0,2593:0,2594:0,2595:0,2596:0,2597:0,2598:0,2599:0,2600:0,2601:0,2602:0,2603:0,2604:0,2605:0,2606:0,2607:0,2608:0,2609:0,2610:0,2611:0,2612:0,2613:0,2614:0,2615:0,2616:0,2617:0,2618:0,2619:0,2620:0,2621:0,2622:0,2623:0,2624:0,2625:0,2626:0,2627:0,2628:0,2629:0,2630:0,2631:0,2632:0,2633:0,2634:0,2635:0,2636:0,2637:0,2638:0,2639:0,2640:0,2641:0,2642:0,2643:0,2644:0,2645:0,2646:0,2647:0,2648:0,2649:0,2650:0,2651:0,2652:0,2653:0,2654:0,
2655:0,2656:0,2657:0,2658:0,2659:0,2660:0,2661:0,2662:0,2663:0,2664:0,2665:0,2666:0,2667:0,2668:0,2669:0,2670:0,2671:0,2672:0,2673:0,2674:0,2675:0,2676:0,2677:0,2678:0,2679:0,2680:0,2681:0,2682:0,2683:0,2684:0,2685:0,2686:0,2687:0,2688:0,2689:0,2690:0,2691:0,2692:0,2693:0,2694:0,2695:0,2696:0,2697:0,2698:0,2699:0,2700:0,2701:0,2702:0,2703:0,2704:0,2705:0,2706:0,2707:0,2708:0,2709:0,2710:0,2711:0,2712:0,2713:0,2714:0,2715:0,2716:0,2717:0,2718:0,2719:0,2720:0,2721:0,2722:0,2723:0,2724:0,2725:0,2726:0,
2727:0,2728:0,2729:0,2730:0,2731:0,2732:0,2733:0,2734:0,2735:0,2736:0,2737:0,2738:0,2739:0,2740:0,2741:0,2742:0,2743:0,2744:0,2745:0,2746:0,2747:0,2748:0,2749:0,2750:0,2751:0,2752:0,2753:0,2754:0,2755:0,2756:0,2757:0,2758:0,2759:0,2760:0,2761:0,2762:0,2763:0,2764:0,2765:0,2766:0,2767:0,2768:0,2769:0,2770:0,2771:0,2772:0,2773:0,2774:0,2775:0,2776:0,2777:0,2778:0,2779:0,2780:0,2781:0,2782:0,2783:0,2784:0,2785:0,2786:0,2787:0,2788:0,2789:0,2790:0,2791:0,2792:0,2793:0,2794:0,2795:0,2796:0,2797:0,2798:0,
2799:0,2800:0,2801:0,2802:0,2803:0,2804:0,2805:0,2806:0,2807:0,2808:0,2809:0,2810:0,2811:0,2812:0,2813:0,2814:0,2815:0,2816:0,2817:0,2818:0,2819:0,2820:0,2821:0,2822:0,2823:0,2824:0,2825:0,2826:0,2827:0,2828:0,2829:0,2830:0,2831:0,2832:0,2833:0,2834:0,2835:0,2836:0,2837:0,2838:0,2839:0,2840:0,2841:0,2842:0,2843:0,2844:0,2845:0,2846:0,2847:0,2848:0,2849:0,2850:0,2851:0,2852:0,2853:0,2854:0,2855:0,2856:0,2857:0,2858:0,2859:0,2860:0,2861:0,2862:0,2863:0,2864:0,2865:0,2866:0,2867:1,2868:1,2869:1,2870:2,
2871:2,2872:2,2873:2,2874:2,2875:2,2876:2,2877:2,2878:2,2879:2,2880:2,2881:2,2882:2,2883:2,2884:2,2885:2,2886:2,2887:2,2888:2,2891:2,2892:2,2893:2,2894:2,2895:2,2896:1,2897:1,2898:1,2899:2,2900:2,2901:1,2902:2,2903:2,2904:2,2905:2,2906:2,2907:2,2908:2,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2915:2,2916:2,2917:2,2918:2,2919:2,2920:2,2921:1,2922:1,2923:1,2924:2,2925:2,2926:2,2927:2,2928:2,2929:2,2930:2,2931:0,2932:0,2933:0,2934:0,2935:0,2936:0,2937:0,2938:0,2939:0,2940:0,2941:0,2942:0,2943:0,2944:0,
2945:0,2946:0,2947:0,2948:0,2949:0,2950:0,2951:0,2952:0,2953:0,2954:0,2955:0,2956:0,2957:0,2958:0,2959:0,2960:0,2961:0,2962:0,2964:2,2965:2,2966:2,2967:2,2968:2,2969:0,2970:0,2971:0,2972:0,2973:0,2975:0,2976:0,2977:0,2978:0,2979:0,2980:0,2981:0,2982:0,2983:0,2984:0,2985:0,2986:0,2987:0,2988:0,2989:0,2990:0,2991:0,2992:1,2993:0,2994:1,2995:0,2996:0,2997:0,2998:0,2999:0,3E3:0,3001:0,3002:0,3003:0,3004:0,3005:0,3006:0,3007:0,3008:0,3009:0,3010:0,3011:0,3012:0,3013:0,3014:0,3015:0,3016:0,3017:0,3018:0,
3019:0,3020:0,3021:0,3022:0,3023:0,3024:0,3025:0,3026:0,3027:0,3028:0,3029:0,3030:0,3031:0,3032:0,3033:0,3034:0,3035:0,3036:0,3037:0,3038:0,3039:0,3040:0,3041:0,3042:0,3043:0,3044:0,3045:0,3046:0,3047:0,3048:0,3049:0,3050:0,3051:0,3054:0,3055:0,3056:0,3057:0,3058:0,3059:0,3060:0,3061:0,3062:0,3063:0,3064:0,3065:0,3066:0,3067:0,3068:0,3069:0,3070:0,3071:0,3072:0,3073:0,3074:0,3075:0,3076:0,3077:0,3078:0,3079:0,3080:1,3081:0,3082:0,3083:0,3084:0,3085:0,3086:0,3087:0,3088:0,3089:2,3090:0,3091:2,3092:0,
3093:0,3094:0,3095:0,3096:0,3097:0,3098:0,3099:0,3100:0,3101:0,3102:2,3106:0,3107:0,3108:0,3109:0,3110:0,3111:0,3112:0,3113:0,3114:0,3115:0,3116:0,3117:0,3118:0,3119:0,3120:0,3121:0,3122:0,3123:0,3124:0,3125:0,3126:0,3127:0,3128:0,3129:0,3130:0,3131:0,3132:0,3133:0,3134:0,3135:0,3136:0,3137:0,3138:0,3141:0,3142:0,3146:0,3147:0,3148:0,3149:0,3150:0,3151:0,3153:0,3154:0,3155:0,3156:0,3157:0,3158:0,3159:0,3160:0,3161:0,3162:0,3163:0,3164:0,3165:0,3166:0,3167:13,3168:0,3169:0,3170:0,3171:0,3172:0,3174:0,
3175:0,3176:0,3177:0,3178:0,3179:0,3180:0,3181:0,3182:0,3183:0,3184:0,3185:0,3186:0,3187:0,3188:0,3189:0,3190:0,3191:0,3192:0,3193:0,3194:0,3195:0,3196:0,3197:0,3198:0,3199:0,3200:0,3201:0,3202:0,3203:0,3294:0,3295:0,3296:0,3297:0,3298:0,3299:0,3300:0,3301:0,3302:0,3303:0,3304:0,3305:0,3306:0,3307:0,3308:0,3309:0,3310:0,3311:0,3312:0,3313:0,3314:0,3315:0,3316:0,3317:0,3318:0,3319:0,3320:0,3321:0,3322:0,3323:0,3324:0,3325:0,3326:0,3327:0,3328:0,3329:0,3330:0,3331:0,3332:0,3333:0,3334:0,3335:0,3336:0,
3337:0,3338:0,3339:0,3340:0,3341:0,3342:0,3343:0,3344:0,3345:0,3346:0,3347:0,3348:0,3349:0,3350:0,3351:0,3352:0,3353:0,3354:0,3355:0,3356:0,3357:0,3358:0,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3367:0,3368:0,3369:0,3370:0,3371:0,3372:0,3373:0,3374:0,3375:0,3376:0,3377:0,3378:0,3379:0,3380:0,3381:0,3382:0,3383:0,3384:0,3385:0,3386:0,3387:0,3388:0,3389:0,3390:0,3391:0,3392:0,3393:0,3394:0,3395:0,3396:0,3397:0,3398:0,3399:0,3400:0,3401:0,3402:0,3403:0,3404:2,3405:0,3406:0,3407:3,3408:0,
3409:0,3410:0,3411:0,3412:0,3413:0,3414:0,3415:0,3416:0,3417:2,3418:2,3419:2,3420:2,3421:2,3422:2,3423:2,3424:2,3425:2,3426:2,3427:2,3428:2,3429:2,3430:2,3431:2,3432:2,3433:2,3434:2,3435:2,3436:2,3437:2,3438:2,3439:0,3440:0,3441:2,3442:2,3443:2,3444:2,3445:2,3446:2,3447:0,3448:0,3449:0,3450:0,3451:2,3452:2,3453:2,3454:2,3455:2,3456:2,3457:2,3458:2,3459:2,3460:0,3461:0,3462:0,3463:0,3464:0,3465:0,3466:0,3467:0,3468:0,3469:0,3470:0,3471:0,3472:0,3473:0,3474:0,3475:0,3476:0,3477:0,3478:0,3479:1,3480:0,
3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,
3553:2,3554:0,3555:0,3556:0,3557:0,3558:0,3559:0,3560:2,3561:2,3562:2,3563:2,3564:2,3565:2,3566:2,3567:2,3568:2,3569:2,3570:2,3571:0,3572:0,3573:0,3574:0,3575:0,3576:0,3577:0,3578:0,3579:0,3580:0,3581:0,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3594:0,3595:0,3596:0,3597:0,3598:2,3599:0,3600:2,3601:0,3602:0,3603:0,3604:0,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,
3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3637:0,3638:0,3639:0,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3665:0,3666:0,3667:0,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3693:0,3694:0,3695:0,3696:2,
3697:0,3698:2,3699:0,3700:2,3701:0,3702:0,3703:0,3704:0,3705:0,3706:0,3707:0,3708:0,3709:0,3710:0,3711:0,3712:0,3713:0,3714:0,3715:0,3716:0,3717:0,3718:0,3719:0,3720:0,3721:0,3722:0,3723:0,3724:0,3725:0,3726:0,3727:0,3728:2,3729:2,3730:2,3731:2,3732:2,3733:2,3734:2,3735:2,3736:2,3737:2,3738:2,3739:2,3740:0,3741:0,3742:0,3743:0,3744:0,3745:0,3746:0,3747:0,3748:0,3749:0,3750:0,3751:0,3753:2,3754:2,3755:2,3756:2,3757:2,3758:2,3759:2,3760:2,3761:0,3762:0,3763:0,3764:0,3765:0,3766:0,3767:0,3768:0,3769:0,
3770:0,3771:0,3772:0,3773:0,3775:0,3776:0,3777:0,3779:0,3780:0,3781:0,3783:0,3784:0,3785:0,3788:0,3789:0,3790:0,3791:0,3793:0,3794:0,3797:0,3798:0,3799:0,3800:0,3801:0,3802:0,3812:0,3814:0,3815:0,3816:0,3825:0,3826:0,3827:0,3828:0,3829:0,3832:0,3833:0,3834:0,3835:0,3836:0,3837:0,3838:0,3839:0,3840:0,3841:0,3844:0,3845:0,3846:0,3847:0,3848:0,3849:0,3850:0,3851:0,3852:0,3854:0,3857:0,3873:0,3874:0,3875:0,3876:0,3877:0,3878:0,3879:0,3880:0,3881:0,3882:0,3883:0,3884:0,3885:0,3890:0,3891:0,3892:0,3893:0,
3907:0,3908:0,3909:0,3910:0,3911:0,3912:0,3920:0,3942:0,3943:0,3944:0,3945:0,3946:0,3947:0,3948:0,3949:0,3950:0,3968:0,3969:0,3970:0,3973:0,3974:0,3975:0,3976:0,3978:0,3979:0,3986:0,3987:0,3988:0,3989:0,3991:2,3992:2,3994:0,3995:0,3996:0,3997:0,4026:0,4037:0,4038:0,4048:0,4049:0,4050:0,4051:0,4056:0,4057:0,4058:0,4059:0,4060:0,4061:0,4062:0,4063:0,4071:0,4082:0,4083:0,4093:0,4094:0,4095:0,4096:0,4217:2,4399:2,4400:2,4401:2,4402:2,4403:2,4404:2,4405:2,4406:2,4407:2,4408:2,4409:2,4410:2,4411:2,4412:2,
4413:2,4414:0,4415:0,4417:0,4418:2,4419:2,4420:2,4421:2,4422:2,4423:2,4424:2,4425:2,4426:2,4427:2,4428:2,4429:2,4430:2,4431:2,4432:2,4433:2,4434:0,4437:0,4438:2,4439:2,4455:2,4456:2,4457:2,4462:0,4467:0,4471:0,4474:0,4484:0,4485:0,4486:0,4487:0,4488:0,4489:0,4491:0,4492:0,4493:0,4494:0,4495:0,4496:0,4497:0,4498:0,4499:0,4500:0,4501:0,4502:0,4503:0,4504:0,4505:0,4506:0,4507:0,4508:0,4509:0,4510:0,4511:0,4512:0,4513:0,4514:0,4515:0,4516:0,4517:0,4518:0,4519:0,4520:0,4521:0,4522:0,4523:0,4524:0,4525:0,
4526:0,4527:0,4528:0,4529:0,4530:0,4531:0,4532:0,4533:0,4534:0,4535:0,4536:0,4537:0,4538:0,4539:0,4540:0,4541:0,4542:0,4543:0,4544:0,4545:0,4546:0,4547:0,4548:0,4549:0,4550:0,4551:0,4552:0,4553:0,4554:0,4559:0,4568:0,4569:0,4570:0,4571:0,4572:0,4573:0,4574:0,4575:0,4576:0,4577:0,4578:0,4579:0,4580:0,4581:0,4582:0,4583:0,4584:0,4585:0,4586:0,4587:0,4588:0,4589:0,4647:0,4652:0,4653:0,4654:0,4655:0,4656:0,4766:0,4767:0,4768:0,4769:0,4770:0,4771:0,4772:0,4773:0,4774:0,4775:0,4776:0,4777:0,4778:0,4779:0,
4780:0,4781:0,4782:0,4783:0,4784:0,4785:0,4786:0,4787:0,4788:0,4789:0,4790:0,4791:0,4792:0,4793:0,4794:0,4795:0,4796:0,4797:0,4798:0,4799:0,4800:0,4822:0,4826:0,4839:0,5014:0,5015:0,5016:0,5018:0,5048:0,5069:0,5070:0,5071:0,5072:0,5105:0,5106:0,5107:0,5108:0,5109:0,5110:0,5111:0,5112:0,5113:0,5114:0,5115:0,5116:0,5117:0,5118:0,5119:0,5120:0,5121:0,5122:0,5123:0,5124:0,5125:0,5126:0,5127:0,5128:0,5129:0,5130:0,5167:0,5168:0,5173:0,5174:0,5175:0,5176:0,5177:0,5178:0,5179:0,5180:0,5181:0,5182:0,5183:0,
5184:0,5185:0,5186:0,5187:0,5188:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5253:0,5254:0,5255:0,5256:0,5257:0,5258:0,5259:0,5266:0,5269:0,5270:0,5271:0,5272:0,5273:0,5274:0,5275:0,5292:0,5293:0,5294:0,5295:0,5296:0,5297:0,5298:0,5299:0,5300:0,5301:0,5302:0,5303:0,5304:0,5305:0,5306:0,5307:0,5308:0,5309:0,5310:0,5311:0,5316:0,5320:0,5321:0,5325:0,5329:0,5330:0,5331:0,5337:0,5343:0,5344:0,5345:0,5346:0,5347:0,5348:0,5349:0,5355:0,5356:0,5357:0,5361:0,5362:0,5367:0,5382:0,5383:0,5387:0,5388:0,5389:0,
5396:0,5456:0,5457:0,5459:0,5460:0,5461:0,5462:0,5463:0,5469:0,5472:4,5479:0,5480:0,5481:0,5482:0,5490:0,5513:0,5514:0,5518:0,5519:0,5520:0,5523:0,5530:0,5531:0,5532:0,5533:0,5534:0,5535:0,5536:0,5537:0,5538:0,5539:0,5550:0,5551:0,5552:0,5559:0,5562:0,5563:0,5564:0,5565:0,5566:0,5567:0,5568:0,5569:0,5570:0,5571:0,5572:0,5573:0,5574:0,5575:0,5576:0,5577:0,5578:0,5579:0,5580:0,5581:0,5582:0,5583:0,5588:1,5589:3,5596:0,5623:2,5624:2,5625:2,5627:0,5629:0,5631:0,5632:0,5633:0,5634:0,5635:0,5636:0,5637:0,
5638:0,5639:0,5641:0,5643:0,5644:0,5646:2,5649:0,5650:0,5651:0,5652:0,5653:0,5654:2,5655:2,5659:0,5663:0,5664:0,5665:0,5666:0,5667:0,5668:0,5669:0,5670:0,5671:0,5672:0,5673:0,5674:0,5675:0,5676:0,5677:0,5678:0,5679:0,5680:0,5682:0,5683:0,5684:0,5685:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5875:0,5876:0,5877:0,5879:0,5880:0,5887:0,5890:0,5921:0,5922:0,5923:0,5924:0,5925:0,5926:0,5927:0,5928:0,5929:0,5930:0,5931:0,5932:0,5933:0,5934:0,5935:0,5936:0,5937:0,5938:0,5939:0,5940:0,6050:0,
6051:0,6052:0,6053:0,6054:0,6055:0,6056:0,6057:0,6058:0,6059:0,6060:0,6061:0,6062:0,6063:0,6064:0,6065:0,6066:0,6067:0,6068:0,6069:0,6070:0,6071:0,6072:0,6073:0,6074:0,6075:0,6076:0,6077:0,6078:0,6079:0,6080:0,6081:0,6082:0,6083:0,6084:0,6085:0,6086:0,6087:0,6088:0,6089:0,6090:0,6091:0,6092:0,6093:0,6094:0,6095:0,6096:0,6097:0,6098:0,6099:0,6100:0,6101:0,6102:0,6103:0,6104:0,6105:0,6106:0,6107:0,6108:0,6109:0,6110:0,6111:0,6112:0,6113:0,6114:0,6115:0,6116:0,6117:0,6118:0,6119:0,6120:0,6121:0,6122:0,
6123:0,6124:0,6125:0,6128:1,6129:1,6141:1,6210:0,6211:0,6244:0,6245:0,6246:0,6247:0,6248:0,6249:0,6250:0,6251:0,6252:0,6253:0,6254:0,6255:0,6256:0,6257:0,6258:0,6259:0,6260:0,6261:0,6262:0,6263:0,6264:0,6265:0,6266:0,6267:0,6268:0,6269:0,6270:0,6271:0,6272:0,6273:0,6274:0,6275:0,6316:0,6328:0,6329:0,6330:0,6331:0,6332:0,6333:0,6334:0,6335:0,6336:0,6337:0,6338:0,6339:0,6340:0,6341:0,6342:0,6343:0,6344:0,6345:0,6346:0,6347:0,6348:0,6350:0,6351:0,6352:0,6353:0,6354:0,6391:1,20002:0,20003:0,20004:0,20005:0,
20006:0,20007:0,20008:0,20009:0,20010:0,20011:0,20012:0,20013:0,20014:0,20015:0,20016:0,20017:0,20018:0,20019:0,20020:0,20021:0,20022:0,20023:0,20024:0,20025:0,20026:0,20027:0,20028:0,20029:0,20030:0,20031:0,20032:0,20062:0,20063:0,20064:0,20065:0,20066:0,20067:0,20068:0,20069:0,20070:0,20071:0,20072:0,20073:0,20074:0,20075:0,20076:0,20077:0,20078:0,20079:0,20080:0,20081:0,20082:0,20083:0,20084:0,20085:0,20086:0,20087:0,20088:0,20089:0,20090:0,20091:0,20092:0,20135:0,20136:0,20137:0,20138:0,20248:0,
20249:0,20250:0,20251:0,20252:0,20253:0,20254:0,20255:0,20256:0,20257:0,20258:0,20348:0,20349:0,20350:0,20351:0,20352:0,20353:0,20354:0,20355:0,20356:0,20357:0,20358:0,20436:0,20437:0,20438:0,20439:0,20440:0,20499:0,20538:0,20539:0,20790:0,20791:0,20822:0,20823:0,20824:0,20934:0,20935:0,20936:0,21035:0,21036:0,21037:0,21095:0,21096:0,21097:0,21148:0,21149:0,21150:0,21291:0,21292:0,21413:0,21414:0,21415:0,21416:0,21417:0,21418:0,21419:0,21420:0,21421:0,21422:0,21423:0,21473:0,21474:0,21475:0,21476:0,
21477:0,21478:0,21479:0,21480:0,21481:0,21482:0,21483:0,21500:0,21780:0,21781:0,21782:0,21817:0,21818:0,21891:0,21892:0,21893:0,21894:0,21896:0,21897:0,21898:0,21899:0,22032:0,22033:0,22091:0,22092:0,22171:0,22172:0,22173:0,22174:0,22175:0,22176:0,22177:0,22181:0,22182:0,22183:0,22184:0,22185:0,22186:0,22187:0,22191:0,22192:0,22193:0,22194:0,22195:0,22196:0,22197:0,22234:0,22235:0,22236:0,22332:0,22391:0,22392:0,22521:0,22522:0,22523:0,22524:0,22525:0,22700:0,22770:0,22780:0,22832:0,22991:0,22992:0,
22993:0,22994:0,23028:0,23029:0,23030:0,23031:0,23032:0,23033:0,23034:0,23035:0,23036:0,23037:0,23038:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,23830:0,23831:0,23832:0,23833:0,23834:0,23835:0,23836:0,23837:0,23838:0,23839:0,23840:0,23841:0,23842:0,23843:0,23844:0,23845:0,23846:0,23847:0,23848:0,23849:0,23850:0,23851:0,23852:0,23853:0,23866:0,23867:0,23868:0,23869:0,23870:0,23871:0,23872:0,23877:0,23878:0,23879:0,23880:0,23881:0,23882:0,23883:0,23884:0,23886:0,23887:0,23888:0,23889:0,23890:0,
23891:0,23892:0,23893:0,23894:0,23946:0,23947:0,23948:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24311:0,24312:0,24313:0,24342:0,24343:0,24344:0,24345:0,24346:0,24347:0,24370:10,24371:10,24372:10,24373:10,24374:10,24375:0,24376:0,24377:0,24378:0,24379:0,24380:0,24381:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,24718:0,24719:0,24720:0,24721:0,24817:0,24818:0,24819:0,24820:0,24821:0,24877:0,24878:0,24879:0,24880:0,24881:0,24882:0,24891:0,24892:0,24893:0,25E3:0,25231:0,25391:0,
25392:0,25393:0,25394:0,25395:0,25828:0,25829:0,25830:0,25831:0,25832:0,25833:0,25834:0,25835:0,25836:0,25837:0,25838:0,25884:0,25932:0,26191:0,26192:0,26193:0,26194:0,26195:0,26237:0,26331:0,26332:0,26391:0,26392:0,26393:0,26432:0,26591:0,26592:0,26632:0,26692:0,26701:0,26702:0,26703:0,26704:0,26705:0,26706:0,26707:0,26708:0,26709:0,26710:0,26711:0,26712:0,26713:0,26714:0,26715:0,26716:0,26717:0,26718:0,26719:0,26720:0,26721:0,26722:0,26729:2,26730:2,26731:2,26732:2,26733:2,26734:2,26735:2,26736:2,
26737:2,26738:2,26739:2,26740:2,26741:2,26742:2,26743:2,26744:2,26745:2,26746:2,26747:2,26748:2,26749:2,26750:2,26751:2,26752:2,26753:2,26754:2,26755:2,26756:2,26757:2,26758:2,26759:2,26760:2,26761:2,26762:2,26763:2,26764:2,26765:2,26766:2,26767:2,26768:2,26769:2,26770:2,26771:2,26772:2,26773:2,26774:2,26775:2,26776:2,26777:2,26778:2,26779:2,26780:2,26781:2,26782:2,26783:2,26784:2,26785:2,26786:2,26787:2,26788:2,26789:2,26790:2,26791:2,26792:2,26793:2,26794:2,26795:2,26796:2,26797:2,26798:2,26799:2,
26801:2,26802:2,26803:2,26811:2,26812:2,26813:2,26847:2,26848:2,26849:2,26850:2,26851:2,26852:2,26853:2,26854:2,26855:2,26856:2,26857:2,26858:2,26859:2,26860:2,26861:2,26862:2,26863:2,26864:2,26865:2,26866:2,26867:2,26868:2,26869:2,26870:2,26891:0,26892:0,26893:0,26894:0,26895:0,26896:0,26897:0,26898:0,26899:0,26901:0,26902:0,26903:0,26904:0,26905:0,26906:0,26907:0,26908:0,26909:0,26910:0,26911:0,26912:0,26913:0,26914:0,26915:0,26916:0,26917:0,26918:0,26919:0,26920:0,26921:0,26922:0,26923:0,26929:0,
26930:0,26931:0,26932:0,26933:0,26934:0,26935:0,26936:0,26937:0,26938:0,26939:0,26940:0,26941:0,26942:0,26943:0,26944:0,26945:0,26946:0,26948:0,26949:0,26950:0,26951:0,26952:0,26953:0,26954:0,26955:0,26956:0,26957:0,26958:0,26959:0,26960:0,26961:0,26962:0,26963:0,26964:0,26965:0,26966:0,26967:0,26968:0,26969:0,26970:0,26971:0,26972:0,26973:0,26974:0,26975:0,26976:0,26977:0,26978:0,26979:0,26980:0,26981:0,26982:0,26983:0,26984:0,26985:0,26986:0,26987:0,26988:0,26989:0,26990:0,26991:0,26992:0,26993:0,
26994:0,26995:0,26996:0,26997:0,26998:0,27037:0,27038:0,27039:0,27040:0,27120:0,27200:0,27205:0,27206:0,27207:0,27208:0,27209:0,27210:0,27211:0,27212:0,27213:0,27214:0,27215:0,27216:0,27217:0,27218:0,27219:0,27220:0,27221:0,27222:0,27223:0,27224:0,27225:0,27226:0,27227:0,27228:0,27229:0,27230:0,27231:0,27232:0,27258:0,27259:0,27260:0,27291:6,27292:6,27391:0,27392:0,27393:0,27394:0,27395:0,27396:0,27397:0,27398:0,27429:0,27492:0,27493:0,27500:0,27561:0,27562:0,27563:0,27564:0,27571:0,27572:0,27573:0,
27574:0,27581:0,27582:0,27583:0,27584:0,27591:0,27592:0,27593:0,27594:0,27700:0,28191:0,28192:0,28193:0,28232:0,28348:0,28349:0,28350:0,28351:0,28352:0,28353:0,28354:0,28355:0,28356:0,28357:0,28358:0,28402:0,28403:0,28404:0,28405:0,28406:0,28407:0,28408:0,28409:0,28410:0,28411:0,28412:0,28413:0,28414:0,28415:0,28416:0,28417:0,28418:0,28419:0,28420:0,28421:0,28422:0,28423:0,28424:0,28425:0,28426:0,28427:0,28428:0,28429:0,28430:0,28431:0,28432:0,28462:0,28463:0,28464:0,28465:0,28466:0,28467:0,28468:0,
28469:0,28470:0,28471:0,28472:0,28473:0,28474:0,28475:0,28476:0,28477:0,28478:0,28479:0,28480:0,28481:0,28482:0,28483:0,28484:0,28485:0,28486:0,28487:0,28488:0,28489:0,28490:0,28491:0,28492:0,28600:0,28991:0,28992:0,29100:0,29101:0,29118:0,29119:0,29120:0,29121:0,29122:0,29168:0,29169:0,29170:0,29171:0,29172:0,29177:0,29178:0,29179:0,29180:0,29181:0,29182:0,29183:0,29184:0,29185:0,29187:0,29188:0,29189:0,29190:0,29191:0,29192:0,29193:0,29194:0,29195:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,
29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29900:0,29901:0,29902:0,29903:0,30161:0,30162:0,30163:0,30164:0,30165:0,30166:0,30167:0,30168:0,30169:0,30170:0,30171:0,30172:0,30173:0,30174:0,30175:0,30176:0,30177:0,30178:0,30179:0,30200:5,30339:0,30340:0,30491:0,30492:0,30493:0,30494:0,30591:0,30592:0,30729:0,30730:0,30731:0,30732:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31251:0,31252:0,31253:0,31254:0,31255:0,31256:0,31257:0,31258:0,31259:0,31265:0,31266:0,31267:0,
31268:0,31275:0,31276:0,31277:0,31278:0,31279:0,31281:0,31282:0,31283:0,31284:0,31285:0,31286:0,31287:0,31288:0,31289:0,31290:0,31291:0,31292:0,31293:0,31294:0,31295:0,31296:0,31297:0,31370:0,31461:0,31462:0,31463:0,31464:0,31465:0,31466:0,31467:0,31468:0,31469:0,31491:0,31492:0,31493:0,31494:0,31495:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,31917:0,31918:0,31919:0,31920:0,31921:0,31922:0,31965:0,31966:0,31967:0,31968:0,31969:0,31970:0,31971:0,31972:0,31973:0,31974:0,31975:0,
31976:0,31977:0,31978:0,31979:0,31980:0,31981:0,31982:0,31983:0,31984:0,31985:0,31986:0,31987:0,31988:0,31989:0,31990:0,31991:0,31992:0,31993:0,31994:0,31995:0,31996:0,31997:0,31998:0,31999:0,32E3:0,32001:2,32002:2,32003:2,32005:2,32006:2,32007:2,32008:2,32009:2,32010:2,32011:2,32012:2,32013:2,32014:2,32015:2,32016:2,32017:2,32018:2,32019:2,32020:2,32021:2,32022:2,32023:2,32024:2,32025:2,32026:2,32027:2,32028:2,32029:2,32030:2,32031:2,32033:2,32034:2,32035:2,32036:2,32037:2,32038:2,32039:2,32040:2,
32041:2,32042:2,32043:2,32044:2,32045:2,32046:2,32047:2,32048:2,32049:2,32050:2,32051:2,32052:2,32053:2,32054:2,32055:2,32056:2,32057:2,32058:2,32059:2,32060:2,32061:0,32062:0,32064:2,32065:2,32066:2,32067:2,32074:2,32075:2,32076:2,32077:2,32081:0,32082:0,32083:0,32084:0,32085:0,32086:0,32098:0,32099:2,32100:0,32104:0,32107:0,32108:0,32109:0,32110:0,32111:0,32112:0,32113:0,32114:0,32115:0,32116:0,32117:0,32118:0,32119:0,32120:0,32121:0,32122:0,32123:0,32124:0,32125:0,32126:0,32127:0,32128:0,32129:0,
32130:0,32133:0,32134:0,32135:0,32136:0,32137:0,32138:0,32139:0,32140:0,32141:0,32142:0,32143:0,32144:0,32145:0,32146:0,32147:0,32148:0,32149:0,32150:0,32151:0,32152:0,32153:0,32154:0,32155:0,32156:0,32157:0,32158:0,32161:0,32164:2,32165:2,32166:2,32167:2,32180:0,32181:0,32182:0,32183:0,32184:0,32185:0,32186:0,32187:0,32188:0,32189:0,32190:0,32191:0,32192:0,32193:0,32194:0,32195:0,32196:0,32197:0,32198:0,32199:0,32201:0,32202:0,32203:0,32204:0,32205:0,32206:0,32207:0,32208:0,32209:0,32210:0,32211:0,
32212:0,32213:0,32214:0,32215:0,32216:0,32217:0,32218:0,32219:0,32220:0,32221:0,32222:0,32223:0,32224:0,32225:0,32226:0,32227:0,32228:0,32229:0,32230:0,32231:0,32232:0,32233:0,32234:0,32235:0,32236:0,32237:0,32238:0,32239:0,32240:0,32241:0,32242:0,32243:0,32244:0,32245:0,32246:0,32247:0,32248:0,32249:0,32250:0,32251:0,32252:0,32253:0,32254:0,32255:0,32256:0,32257:0,32258:0,32259:0,32260:0,32301:0,32302:0,32303:0,32304:0,32305:0,32306:0,32307:0,32308:0,32309:0,32310:0,32311:0,32312:0,32313:0,32314:0,
32315:0,32316:0,32317:0,32318:0,32319:0,32320:0,32321:0,32322:0,32323:0,32324:0,32325:0,32326:0,32327:0,32328:0,32329:0,32330:0,32331:0,32332:0,32333:0,32334:0,32335:0,32336:0,32337:0,32338:0,32339:0,32340:0,32341:0,32342:0,32343:0,32344:0,32345:0,32346:0,32347:0,32348:0,32349:0,32350:0,32351:0,32352:0,32353:0,32354:0,32355:0,32356:0,32357:0,32358:0,32359:0,32360:0,32601:0,32602:0,32603:0,32604:0,32605:0,32606:0,32607:0,32608:0,32609:0,32610:0,32611:0,32612:0,32613:0,32614:0,32615:0,32616:0,32617:0,
32618:0,32619:0,32620:0,32621:0,32622:0,32623:0,32624:0,32625:0,32626:0,32627:0,32628:0,32629:0,32630:0,32631:0,32632:0,32633:0,32634:0,32635:0,32636:0,32637:0,32638:0,32639:0,32640:0,32641:0,32642:0,32643:0,32644:0,32645:0,32646:0,32647:0,32648:0,32649:0,32650:0,32651:0,32652:0,32653:0,32654:0,32655:0,32656:0,32657:0,32658:0,32659:0,32660:0,32661:0,32662:0,32664:2,32665:2,32666:2,32667:2,32701:0,32702:0,32703:0,32704:0,32705:0,32706:0,32707:0,32708:0,32709:0,32710:0,32711:0,32712:0,32713:0,32714:0,
32715:0,32716:0,32717:0,32718:0,32719:0,32720:0,32721:0,32722:0,32723:0,32724:0,32725:0,32726:0,32727:0,32728:0,32729:0,32730:0,32731:0,32732:0,32733:0,32734:0,32735:0,32736:0,32737:0,32738:0,32739:0,32740:0,32741:0,32742:0,32743:0,32744:0,32745:0,32746:0,32747:0,32748:0,32749:0,32750:0,32751:0,32752:0,32753:0,32754:0,32755:0,32756:0,32757:0,32758:0,32759:0,32760:0,32761:0,32766:0,53001:0,53002:0,53003:0,53004:0,53008:0,53009:0,53010:0,53011:0,53012:0,53013:0,53014:0,53015:0,53016:0,53017:0,53018:0,
53019:0,53021:0,53022:0,53023:0,53024:0,53025:0,53026:0,53027:0,53028:0,53029:0,53030:0,53031:0,53032:0,53034:0,53042:0,53043:0,53044:0,53045:0,53046:0,53048:0,53049:0,54001:0,54002:0,54003:0,54004:0,54008:0,54009:0,54010:0,54011:0,54012:0,54013:0,54014:0,54015:0,54016:0,54017:0,54018:0,54019:0,54021:0,54022:0,54023:0,54024:0,54025:0,54026:0,54027:0,54028:0,54029:0,54030:0,54031:0,54032:0,54034:0,54042:0,54043:0,54044:0,54045:0,54046:0,54048:0,54049:0,54050:0,54051:0,54052:0,54053:0,65061:2,65062:2,
65161:0,65163:0,102001:0,102002:0,102003:0,102004:0,102005:0,102006:0,102007:0,102008:0,102009:0,102010:0,102011:0,102012:0,102013:0,102014:0,102015:0,102016:0,102017:0,102018:0,102019:0,102020:0,102021:0,102022:0,102023:0,102024:0,102025:0,102026:0,102027:0,102028:0,102029:0,102030:0,102031:0,102032:0,102033:0,102034:0,102035:0,102036:0,102037:0,102038:0,102039:0,102040:0,102041:2,102042:0,102043:0,102044:0,102045:0,102046:0,102047:0,102048:0,102049:0,102050:0,102051:0,102052:0,102053:0,102054:0,
102055:0,102056:0,102057:0,102058:0,102059:0,102060:0,102061:0,102062:0,102063:0,102064:11,102065:0,102066:0,102067:0,102068:14,102069:15,102070:0,102071:0,102072:0,102073:0,102074:0,102075:0,102076:0,102077:0,102078:0,102079:0,102080:0,102081:0,102082:0,102083:0,102084:0,102085:0,102086:0,102087:0,102088:0,102089:0,102090:0,102091:0,102092:0,102093:0,102094:0,102095:0,102096:0,102097:0,102098:0,102099:0,102100:0,102101:0,102102:0,102103:0,102104:0,102105:0,102106:0,102107:0,102108:0,102109:0,102110:0,
102111:0,102112:0,102113:0,102114:0,102115:0,102116:0,102117:0,102118:2,102119:1,102120:2,102121:2,102122:0,102123:0,102124:0,102125:0,102126:0,102127:0,102128:0,102129:0,102130:0,102131:0,102132:0,102133:0,102134:0,102135:0,102136:0,102137:0,102138:0,102139:0,102140:0,102141:0,102142:0,102143:0,102144:0,102145:0,102146:0,102147:0,102148:0,102149:0,102150:0,102151:0,102152:0,102153:0,102154:0,102155:0,102156:0,102157:0,102158:0,102159:0,102160:0,102161:0,102162:0,102163:0,102164:0,102165:0,102166:0,
102167:0,102168:0,102169:0,102170:0,102171:0,102172:0,102173:0,102174:0,102175:0,102176:0,102177:0,102178:0,102179:0,102180:0,102181:0,102182:0,102183:0,102184:0,102185:0,102186:0,102187:0,102188:0,102189:0,102190:0,102191:0,102192:0,102193:0,102194:0,102195:0,102196:0,102197:0,102198:0,102199:0,102200:0,102201:0,102202:0,102203:0,102204:0,102205:0,102206:0,102207:0,102208:0,102209:0,102210:0,102211:0,102212:0,102213:0,102214:0,102215:0,102216:0,102217:2,102218:0,102219:2,102220:2,102221:0,102222:0,
102223:0,102224:0,102225:0,102226:0,102227:0,102228:0,102229:0,102230:0,102231:0,102232:0,102233:0,102234:0,102235:0,102236:0,102237:0,102238:0,102239:0,102240:0,102241:0,102242:0,102243:0,102244:0,102245:0,102246:0,102247:0,102248:0,102249:0,102250:0,102251:0,102252:0,102253:0,102254:0,102255:0,102256:0,102257:0,102258:0,102259:0,102260:0,102261:0,102262:0,102263:0,102264:0,102265:0,102266:0,102267:0,102268:0,102269:0,102270:0,102271:0,102272:0,102273:0,102274:0,102275:0,102276:0,102277:0,102278:0,
102279:0,102280:0,102281:0,102282:0,102283:0,102284:0,102285:0,102286:0,102287:0,102288:0,102289:0,102290:0,102291:0,102292:0,102293:0,102294:0,102295:0,102296:0,102297:0,102298:0,102299:0,102300:0,102301:0,102302:0,102303:0,102304:0,102305:0,102306:0,102307:0,102308:0,102309:0,102310:0,102311:0,102312:0,102313:0,102314:0,102315:0,102316:0,102317:0,102318:0,102319:0,102320:0,102321:0,102322:0,102323:0,102324:0,102325:0,102326:0,102327:0,102328:0,102329:0,102330:0,102331:0,102332:0,102333:0,102334:0,
102335:0,102336:0,102337:0,102338:0,102339:0,102340:0,102341:0,102342:0,102343:0,102344:0,102345:0,102346:0,102347:0,102348:0,102349:0,102350:0,102351:0,102352:0,102353:0,102354:0,102355:0,102356:0,102357:0,102358:0,102359:0,102360:0,102361:0,102362:0,102363:0,102364:0,102365:0,102366:0,102367:0,102368:0,102369:0,102370:0,102371:0,102372:0,102373:0,102374:0,102375:0,102376:0,102377:0,102378:1,102379:1,102380:0,102381:1,102382:0,102383:0,102384:0,102385:0,102386:0,102387:0,102388:0,102389:2,102390:2,
102391:2,102392:2,102393:2,102394:2,102395:2,102396:2,102397:2,102398:2,102401:0,102402:0,102403:0,102404:0,102405:0,102406:0,102407:0,102408:0,102409:0,102410:0,102411:0,102412:0,102413:0,102414:0,102415:0,102416:0,102417:0,102418:0,102419:0,102420:0,102421:0,102422:0,102423:0,102424:0,102425:0,102426:0,102427:0,102428:0,102429:0,102430:0,102431:0,102432:0,102433:0,102434:0,102435:0,102436:0,102437:0,102438:0,102439:0,102440:0,102441:0,102442:0,102443:0,102444:0,102445:2,102446:2,102447:2,102450:0,
102451:0,102452:0,102461:2,102462:2,102463:2,102464:2,102465:2,102466:2,102467:2,102468:2,102469:0,102470:0,102471:0,102472:0,102473:0,102474:0,102475:0,102476:0,102477:0,102478:0,102479:0,102480:0,102481:0,102482:0,102483:0,102484:0,102485:0,102486:0,102487:0,102488:0,102489:0,102490:0,102491:0,102492:0,102493:0,102494:0,102495:0,102496:0,102500:1,102501:1,102502:1,102503:1,102504:1,102505:1,102506:1,102507:1,102508:1,102509:1,102510:1,102511:1,102512:1,102513:1,102514:1,102515:1,102516:1,102517:1,
102518:1,102519:1,102520:0,102521:0,102522:0,102523:0,102524:0,102525:2,102526:2,102527:2,102528:2,102529:2,102530:0,102531:0,102532:0,102533:0,102534:0,102535:0,102536:0,102537:0,102538:0,102539:0,102540:0,102541:0,102542:0,102543:0,102544:0,102545:0,102546:0,102547:0,102548:0,102549:0,102570:0,102571:0,102572:0,102573:0,102574:0,102575:0,102576:0,102577:0,102578:0,102579:0,102580:0,102581:0,102582:0,102583:0,102584:0,102585:0,102586:0,102587:0,102588:0,102589:2,102590:0,102591:0,102592:0,102593:0,
102594:0,102595:0,102596:0,102597:0,102598:0,102599:2,102600:2,102601:0,102602:0,102603:0,102604:2,102605:0,102606:0,102607:0,102608:0,102609:0,102610:0,102611:0,102612:0,102613:0,102614:0,102615:0,102616:0,102617:0,102618:0,102619:0,102620:0,102621:0,102622:0,102623:0,102624:0,102625:0,102626:0,102627:0,102628:0,102629:2,102630:2,102631:2,102632:2,102633:2,102634:2,102635:2,102636:2,102637:2,102638:2,102639:2,102640:2,102641:2,102642:2,102643:2,102644:2,102645:2,102646:2,102647:0,102648:2,102649:2,
102650:2,102651:2,102652:2,102653:2,102654:2,102655:2,102656:2,102657:2,102658:2,102659:2,102660:2,102661:2,102662:2,102663:2,102664:2,102665:2,102666:2,102667:2,102668:2,102669:2,102670:2,102671:2,102672:2,102673:2,102674:2,102675:2,102676:2,102677:2,102678:2,102679:2,102680:2,102681:2,102682:2,102683:2,102684:2,102685:2,102686:2,102687:2,102688:2,102689:2,102690:2,102691:2,102692:2,102693:2,102694:2,102695:2,102696:2,102697:2,102698:2,102699:2,102700:2,102701:0,102702:0,102703:0,102704:2,102705:2,
102707:2,102708:2,102709:2,102710:2,102711:2,102712:2,102713:2,102714:2,102715:2,102716:2,102717:2,102718:2,102719:2,102720:2,102721:2,102722:2,102723:2,102724:2,102725:2,102726:2,102727:2,102728:2,102729:2,102730:2,102733:2,102734:2,102735:2,102736:2,102737:2,102738:2,102739:2,102740:2,102741:2,102742:2,102743:2,102744:2,102745:2,102746:2,102747:2,102748:2,102749:2,102750:2,102751:2,102752:2,102753:2,102754:2,102755:2,102756:2,102757:2,102758:2,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,
102767:0,102768:0,102769:0,102770:0,102771:0,102772:0,102773:0,102774:0,102775:0,102776:0,102777:0,102778:0,102779:0,102780:0,102781:0,102782:0,102783:0,102784:0,102785:0,102786:0,102787:0,102788:0,102789:0,102790:0,102791:0,102792:0,102793:0,102794:0,102795:0,102796:0,102797:0,102798:0,102962:0,102963:0,102964:0,102965:0,102966:0,102967:0,102968:0,102969:0,102970:1,102971:0,102972:0,102973:0,102974:2,102975:0,102976:0,102977:0,102978:0,102979:0,102980:0,102981:0,102982:0,102983:0,102984:0,102985:0,
102986:0,102987:0,102988:0,102989:0,102990:1,102991:1,102992:1,102993:0,102994:0,102995:2,102996:2,102997:0,102998:0,102999:0,103E3:0,103001:0,103002:0,103003:2,103004:2,103005:2,103006:2,103007:2,103008:2,103009:0,103010:0,103011:0,103012:2,103013:2,103014:2,103015:0,103016:2,103017:0,103018:2,103019:0,103020:0,103021:0,103022:2,103023:2,103024:2,103025:0,103026:0,103027:2,103028:2,103029:0,103030:0,103031:0,103032:2,103033:2,103034:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,
103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103065:0,103066:0,103067:0,103068:0,103069:2,103070:0,103071:0,103072:2,103073:2,103074:0,103075:0,103076:0,103077:1,103078:1,103079:1,103080:0,103081:0,103082:0,103083:2,103084:2,103085:2,103086:0,103087:0,103088:2,103089:2,103090:0,103091:0,103092:0,103093:0,103094:1,103095:0,103096:2,103097:0,
103098:0,103099:0,103100:2,103101:2,103102:2,103103:0,103104:2,103105:0,103106:2,103107:0,103108:0,103109:0,103110:2,103111:2,103112:2,103113:0,103114:0,103115:0,103116:0,103117:2,103118:2,103119:2,103120:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103153:0,
103154:0,103155:0,103156:0,103157:0,103158:2,103159:2,103160:2,103161:2,103162:2,103163:0,103164:0,103165:0,103166:1,103167:1,103168:1,103169:2,103170:2,103171:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103186:0,103187:0,103188:0,103189:2,103190:2,103191:2,103192:0,103193:0,103194:0,103195:0,103196:2,103197:2,103198:2,103199:2,103200:0,103201:0,103202:0,103203:0,103204:0,103205:0,103206:0,103207:0,103208:0,103209:0,
103210:0,103211:0,103212:0,103213:0,103214:0,103215:0,103216:0,103217:0,103218:0,103219:0,103220:0,103221:0,103222:0,103223:0,103224:0,103225:1,103226:1,103227:1,103228:0,103229:0,103230:2,103231:2,103232:0,103233:0,103234:0,103235:0,103236:0,103237:0,103238:2,103239:2,103240:2,103241:2,103242:2,103243:2,103244:0,103245:0,103246:0,103247:2,103248:2,103249:2,103250:0,103251:2,103252:0,103253:2,103254:0,103255:0,103256:0,103257:2,103258:2,103259:2,103260:0,103261:0,103262:2,103263:2,103264:0,103265:0,
103266:0,103267:2,103268:2,103269:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103300:0,103301:0,103302:0,103303:0,103304:0,103305:0,103306:0,103307:0,103308:0,103309:0,103310:0,103311:0,103312:0,103313:0,103314:0,103315:0,103316:0,103317:0,103318:0,103319:0,103320:0,103321:0,
103322:0,103323:0,103324:0,103325:0,103326:0,103327:0,103328:0,103329:0,103330:0,103331:0,103332:0,103333:0,103334:0,103335:0,103336:0,103337:0,103338:0,103339:0,103340:0,103341:0,103342:0,103343:0,103344:0,103345:0,103346:0,103347:0,103348:0,103349:0,103350:0,103351:0,103352:0,103353:0,103354:0,103355:0,103356:0,103357:0,103358:0,103359:0,103360:0,103361:0,103362:0,103363:0,103364:0,103365:0,103366:0,103367:0,103368:0,103369:0,103370:0,103371:0,103372:0,103373:0,103374:0,103375:0,103376:2,103377:0,
103378:0,103379:2,103380:2,103381:0,103382:0,103383:0,103384:1,103385:1,103386:1,103387:0,103388:0,103389:0,103390:2,103391:2,103392:2,103393:0,103394:0,103395:2,103396:2,103397:0,103398:0,103399:0,103400:2,103401:2,103402:2,103403:2,103404:2,103405:2,103406:2,103407:2,103408:2,103409:2,103410:2,103411:2,103412:2,103413:2,103414:2,103415:2,103416:2,103417:2,103418:2,103419:2,103420:2,103421:2,103422:2,103423:2,103424:2,103425:2,103426:2,103427:2,103428:2,103429:2,103430:2,103431:2,103432:2,103433:2,
103434:2,103435:2,103436:2,103437:2,103438:2,103439:2,103440:2,103441:2,103442:2,103443:2,103444:2,103445:2,103446:2,103447:2,103448:2,103449:2,103450:2,103451:2,103452:2,103453:2,103454:2,103455:2,103456:2,103457:2,103458:2,103459:2,103460:2,103461:2,103462:2,103463:2,103464:2,103465:2,103466:2,103467:2,103468:2,103469:2,103470:2,103471:2,103472:0,103473:1,103474:0,103475:2,103476:0,103477:0,103478:0,103479:2,103480:2,103481:2,103482:0,103483:2,103484:0,103485:2,103486:0,103487:0,103488:0,103489:2,
103490:2,103491:2,103492:0,103493:0,103494:0,103495:0,103496:2,103497:2,103498:2,103499:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103528:0,103529:0,103530:0,103531:0,103532:0,103533:0,103534:0,103535:0,103536:0,103537:0,103538:0,103539:0,103540:0,103541:0,103542:0,103543:0,103544:2,103545:2,
103546:2,103547:2,103548:2,103549:0,103550:0,103551:0,103552:1,103553:1,103554:1,103555:2,103556:2,103557:2,103558:0,103559:0,103560:0,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103571:0,103572:0,103573:0,103574:2,103575:2,103576:2,103577:0,103578:0,103579:0,103580:0,103581:2,103582:2,103583:2,103584:0,103585:2,103600:0,103601:0,103602:0,103603:0,103604:0,103605:0,103606:0,103607:0,103608:0,103609:0,103610:0,103611:0,103612:0,103613:0,103614:0,103615:0,
103616:0,103617:0,103618:0,103619:0,103620:0,103621:0,103622:0,103623:0,103624:0,103625:0,103626:0,103627:0,103628:0,103629:0,103630:0,103631:0,103632:0,103633:0,103634:0,103635:0,103636:0,103637:0,103638:0,103639:0,103640:0,103641:0,103642:0,103643:0,103644:0,103645:0,103646:0,103647:0,103648:0,103649:0,103650:0,103651:0,103652:0,103653:0,103654:0,103655:0,103656:0,103657:0,103658:0,103659:0,103660:0,103661:0,103662:0,103663:0,103664:0,103665:0,103666:0,103667:0,103668:0,103669:0,103670:0,103671:0,
103672:0,103673:0,103674:0,103675:0,103676:0,103677:0,103678:0,103679:0,103680:0,103681:0,103682:0,103683:0,103684:0,103685:0,103686:0,103687:0,103688:0,103689:0,103690:0,103691:0,103692:0,103693:0,103694:0,103695:2,103700:2,103701:2,103702:2,103703:2,103704:2,103705:2,103706:2,103707:2,103708:2,103709:2,103710:2,103711:2,103712:2,103713:2,103714:2,103715:2,103716:2,103717:2,103718:2,103719:2,103720:2,103721:2,103722:2,103723:2,103724:2,103725:2,103726:2,103727:2,103728:2,103729:2,103730:2,103731:2,
103732:2,103733:2,103734:2,103735:2,103736:2,103737:2,103738:2,103739:2,103740:2,103741:2,103742:2,103743:2,103744:2,103745:2,103746:2,103747:2,103748:2,103749:2,103750:2,103751:2,103752:2,103753:2,103754:2,103755:2,103756:2,103757:2,103758:2,103759:2,103760:2,103761:2,103762:2,103763:2,103764:2,103765:2,103766:2,103767:2,103768:2,103769:2,103770:2,103771:2,103772:2,103773:2,103774:2,103775:2,103776:2,103777:2,103778:2,103779:2,103780:2,103781:2,103782:2,103783:2,103784:2,103785:2,103786:2,103787:2,
103788:2,103789:2,103790:2,103791:2,103792:2,103793:2,103794:0,103795:0,103796:0,103797:0,103798:0,103799:0,103800:0,103801:0,103802:0,103803:0,103804:0,103805:0,103806:0,103807:0,103808:0,103809:0,103810:0,103811:0,103812:0,103813:0,103814:0,103815:0,103816:0,103817:0,103818:0,103819:0,103820:0,103821:0,103822:0,103823:0,103824:0,103825:0,103826:0,103827:0,103828:0,103829:0,103830:0,103831:0,103832:0,103833:0,103834:0,103835:0,103836:0,103837:0,103838:0,103839:0,103840:0,103841:0,103842:0,103843:0,
103844:0,103845:0,103846:0,103847:0,103848:0,103849:0,103850:0,103851:0,103852:0,103853:0,103854:0,103855:0,103856:0,103857:0,103858:0,103859:0,103860:0,103861:0,103862:0,103863:0,103864:0,103865:0,103866:0,103867:0,103868:0,103869:0,103870:0,103871:0,103900:2,103901:2,103902:2,103903:2,103904:2,103905:2,103906:2,103907:2,103908:2,103909:2,103910:2,103911:2,103912:2,103913:2,103914:2,103915:2,103916:2,103917:2,103918:2,103919:2,103920:2,103921:2,103922:2,103923:2,103924:2,103925:2,103926:2,103927:2,
103928:2,103929:2,103930:2,103931:2,103932:2,103933:2,103934:2,103935:2,103936:2,103937:2,103938:2,103939:2,103940:2,103941:2,103942:2,103943:2,103944:2,103945:2,103946:2,103947:2,103948:2,103949:2,103950:2,103951:2,103952:2,103953:2,103954:2,103955:2,103956:2,103957:2,103958:2,103959:2,103960:2,103961:2,103962:2,103963:2,103964:2,103965:2,103966:2,103967:2,103968:2,103969:2,103970:2,103971:2};f("extend-esri")&&(l.WKIDUnitConversion=p);return p})},"esri/layers/CodedValueDomain":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./Domain".split(" "),
function(f,l,p,r,d,n){f=f([n],{declaredClass:"esri.layers.CodedValueDomain",constructor:function(d){d&&l.isObject(d)&&(this.codedValues=d.codedValues)},toJson:function(){var m=this.inherited(arguments);m.codedValues=l.clone(this.codedValues);return d.fixJson(m)}});p("extend-esri")&&l.setObject("layers.CodedValueDomain",f,r);return f})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(f,l){var p={};f.setObject("dojo.cldr.supplemental",p);p.getFirstDayOfWeek=function(f){f=
{bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[p._region(f)];return void 0===f?1:f};p._region=function(f){f=l.normalizeLocale(f);f=f.split("-");var d=f[1];
d?4==d.length&&(d=f[2]):d={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",
ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",
ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",
bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",
gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",
lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",
rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",
vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[f[0]];return d};p.getWeekend=function(f){var d=p._region(f);f={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[d];d={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[d];void 0===f&&(f=6);void 0===d&&(d=0);return{start:f,end:d}};return p})},"esri/layers/TileInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../SpatialReference ../geometry/Point ./LOD".split(" "),
function(f,l,p,r,d,n,m,g,a){f=f(null,{declaredClass:"esri.layers.TileInfo",constructor:function(b){l.mixin(this,b);this.width=this.cols;this.height=this.rows;b=this.spatialReference;var c=this.origin;b&&(b=this.spatialReference=new m(b.toJson?b.toJson():b));c&&(this.origin=new g(c.toJson?c.toJson():c),!c.spatialReference&&b&&this.origin.setSpatialReference(new m(b.toJson())));this.lods=p.map(this.lods,function(b){return new a(b)})},toJson:function(){return n.fixJson({rows:this.rows,cols:this.cols,
dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin&&this.origin.toJson(),spatialReference:this.spatialReference&&this.spatialReference.toJson(),lods:this.lods&&p.map(this.lods,function(a){return a.toJson()})})}});r("extend-esri")&&l.setObject("layers.TileInfo",f,d);return f})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(f,
l,p,r,d,n,m,g,a,b,c){function e(a,b){a.canDelete&&t._remove(a.id,b.options.frameDoc,!0)}function k(a){w&&w.length&&(d.forEach(w,function(a){t._remove(a.id,a.frameDoc);a.frameDoc=null}),w=[]);return a.options.jsonp?!a.data:!0}function h(a){return!!this.scriptLoaded}function s(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function q(a,b){if(this.canDelete){var e=this.response.options;w.push({id:this.id,frameDoc:e.ioArgs?e.ioArgs.frameDoc:e.frameDoc});e.ioArgs&&(e.ioArgs.frameDoc=
null);e.frameDoc=null}b?this.reject(b):this.resolve(a)}function t(a,b,c){var d=p.parseArgs(a,p.deepCopy({},b));a=d.url;b=d.options;var g=p.deferred(d,e,k,b.jsonp?null:b.checkString?s:h,q);n.mixin(g,{id:u+x++,canDelete:!1});b.jsonp&&(RegExp("[?\x26]"+b.jsonp+"\x3d").test(a)||(a+=(~a.indexOf("?")?"\x26":"?")+b.jsonp+"\x3d"+(b.frameDoc?"parent.":"")+u+"_callbacks."+g.id),g.canDelete=!0,z[g.id]=function(a){d.data=a;g.handleResponse(d)});p.notify&&p.notify.emit("send",d,g.promise.cancel);if(!b.canAttach||
b.canAttach(g)){var f=t._attach(g.id,a,b.frameDoc);if(!b.jsonp&&!b.checkString)var r=m(f,v,function(a){if("load"===a.type||C.test(f.readyState))r.remove(),g.scriptLoaded=a})}l(g);return c?g:g.promise}b.add("script-readystatechange",function(a,b){return"undefined"!==typeof b.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var u=f.id.replace(/[\/\.\-]/g,"_"),x=0,v=b("script-readystatechange")?"readystatechange":"load",C=/complete|loaded/,
z=r.global[u+"_callbacks"]={},w=[];t.get=t;t._attach=function(a,b,e){e=e||c.doc;var d=e.createElement("script");d.type="text/javascript";d.src=b;d.id=a;d.async=!0;d.charset="utf-8";return e.getElementsByTagName("head")[0].appendChild(d)};t._remove=function(b,e,c){a.destroy(g.byId(b,e));z[b]&&(c?z[b]=function(){delete z[b]}:delete z[b])};t._callbacksProperty=u+"_callbacks";return t})},"esri/symbols/TextSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../lang ../Color ./Symbol ./Font".split(" "),
function(f,l,p,r,d,n,m,g,a){var b={type:"textsymbol",x:0,y:0,text:"",rotated:!1,kerning:!0,color:[0,0,0,1],font:r.defaultFont,angle:0,xoffset:0,yoffset:0,horizontalAlignment:"center"},c={start:"left",middle:"center",end:"right"},e={left:"start",center:"middle",right:"end",justify:"start"},k={top:"text-before-edge",middle:"central",baseline:"alphabetic",bottom:"text-after-edge"},h=document.createElement("canvas");f=f(g,{declaredClass:"esri.symbol.TextSymbol",angle:0,xoffset:0,yoffset:0,constructor:function(e,
c,d){l.mixin(this,b);this.font=new a(this.font);this.color=new m(this.color);e&&(l.isObject(e)?(l.mixin(this,e),this.color&&n.isDefined(this.color[0])&&(this.color=m.toDojoColor(this.color)),this.type="textsymbol",this.font=new a(this.font),this.xoffset=r.pt2px(this.xoffset),this.yoffset=r.pt2px(this.yoffset),this.angle&&(this.angle*=-1)):(this.text=e,c&&(this.font=c),d&&(this.color=d)));this.setAlign(this.align||this.getSVGAlign())},setFont:function(a){this.font=a;return this},setSize:function(a){this.font.size=
a;return this},setAngle:function(a){this.angle=a;return this},setOffset:function(a,b){this.xoffset=a;this.yoffset=b;return this},setAlign:function(a){this.align=a;this.setHorizontalAlignment(a&&c[a.toLowerCase()]||"center");return this},setHorizontalAlignment:function(a){this.horizontalAlignment=a;return this},getSVGAlign:function(){var a=this.horizontalAlignment;return a=a&&e[a.toLowerCase()]||"middle"},setVerticalAlignment:function(a){this.verticalAlignment=a;return this},getSVGBaseline:function(){var a=
this.verticalAlignment;return a&&k[a.toLowerCase()]||"alphabetic"},getSVGBaselineShift:function(){return"bottom"===this.verticalAlignment?"super":null},setDecoration:function(b){this.decoration=b;this.font||this.setFont(new a);this.font.setDecoration(b);return this},setRotated:function(a){this.rotated=a;return this},setKerning:function(a){this.kerning=a;return this},setText:function(a){this.text=a;return this},getStroke:function(){return null},getFill:function(){return this.color},getWidth:function(){var a=
h&&h.getContext&&h.getContext("2d");if(a){var b=this.font;a.font=(b.style?b.style:r.defaultFont.style)+" "+(b.weight?b.weight:r.defaultFont.weight)+" "+(b.size?b.size:r.defaultFont.size)+"px "+(b.family?b.family:r.defaultFont.family);return a.measureText(this.text).width}var a=this.getHeight(),b=0,e,c;for(e=0;e<this.text.length;e++)c=this.text.charAt(e),b=c==c.toUpperCase()?b+0.7*a:b+0.5*a;return b},getHeight:function(){return r.normalizedLength(this.font.size)},toJson:function(){var a=r.px2pt(this.xoffset),
b=r.px2pt(this.yoffset),a=isNaN(a)?void 0:a,b=isNaN(b)?void 0:b;return n.fixJson(l.mixin(this.inherited("toJson",arguments),{type:"esriTS",backgroundColor:this.backgroundColor,borderLineColor:this.borderLineColor,borderLineSize:this.borderLineSize,haloSize:this.haloSize,haloColor:this.haloColor,verticalAlignment:this.verticalAlignment,horizontalAlignment:this.horizontalAlignment,rightToLeft:this.rightToLeft,width:this.width,angle:this.angle&&-1*this.angle,xoffset:a,yoffset:b,text:this.text,rotated:this.rotated,
kerning:this.kerning,font:this.font.toJson()}))}});l.mixin(f,{ALIGN_START:"start",ALIGN_MIDDLE:"middle",ALIGN_END:"end",DECORATION_NONE:"none",DECORATION_UNDERLINE:"underline",DECORATION_OVERLINE:"overline",DECORATION_LINETHROUGH:"line-through"});f.defaultProps=b;p("extend-esri")&&(l.setObject("symbol.TextSymbol",f,d),d.symbol.defaultTextSymbol=b);return f})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(f,l,p,r,
d){var n={};f.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(d){n[d]=r[d]});p.mixin(n,{defaultDuration:l.defaultDuration||200});p.mixin(d,n);return d})},"esri/Color":function(){define(["dojo/_base/declare","dojo/_base/Color","dojo/has","./kernel"],function(f,l,p,r){f=f([l],{declaredClass:"esri.Color"});f.toJsonColor=function(d){return d&&[d.r,d.g,d.b,1<d.a?d.a:Math.round(255*d.a)]};f.toDojoColor=function(d){return d&&new l([d[0],d[1],d[2],d[3]/255])};
var d,n="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(d=0;d<n.length;d++)f[n[d]]=l[n[d]];p("extend-esri")&&(r.Color=f);return f})},"esri/fx":function(){define("dojo/_base/connect dojo/_base/fx dojo/_base/lang dojo/dom dojo/dom-geometry dojo/dom-style dojo/fx dojo/has ./kernel".split(" "),function(f,l,p,r,d,n,m,g,a){var b={animateRange:function(a){var b=a.range;return new l.Animation(p.mixin({curve:new l._Line(b.start,b.end)},a))},resize:function(a){var b=a.node=r.byId(a.node),
k=a.start,h=a.end;k||(k=d.getMarginBox(b),b=d.getPadBorderExtents(b),k=a.start={left:k.l+b.l,top:k.t+b.t,width:k.w-b.w,height:k.h-b.h});h||(h=a.anchor?a.anchor:{x:k.left,y:k.top},b=a.size,h=a.end={left:k.left-(b.width-k.width)*(h.x-k.left)/k.width,top:k.top-(b.height-k.height)*(h.y-k.top)/k.height,width:b.width,height:b.height});return l.animateProperty(p.mixin({properties:{left:{start:k.left,end:h.left},top:{start:k.top,end:h.top},width:{start:k.width,end:h.width},height:{start:k.height,end:h.height}}},
a))},slideTo:function(a){var b=a.node=r.byId(a.node),k=n.getComputedStyle,h=null,g=null,q=function(){return function(){var a="absolute"==b.style.position?"absolute":"relative";h="absolute"==a?b.offsetTop:parseInt(k(b).top)||0;g="absolute"==a?b.offsetLeft:parseInt(k(b).left)||0;"absolute"!=a&&"relative"!=a&&(a=d.position(b,!0),h=a.y,g=a.x,b.style.position="absolute",b.style.top=h+"px",b.style.left=g+"px")}}();q();a=l.animateProperty(p.mixin({properties:{top:{start:h,end:a.top||0},left:{start:g,end:a.left||
0}}},a));f.connect(a,"beforeBegin",a,q);return a},flash:function(a){a=p.mixin({end:"#f00",duration:500,count:1},a);a.duration/=2*a.count;var b=r.byId(a.node),d=a.start;d||(d=n.getComputedStyle(b).backgroundColor);var h=a.end,g=[],q=a.count,b={node:b,duration:a.duration};for(a=0;a<q;a++)g.push(l.animateProperty(p.mixin({properties:{backgroundColor:{start:d,end:h}}},b))),g.push(l.animateProperty(p.mixin({properties:{backgroundColor:{start:h,end:d}}},b)));return m.chain(g)}};g("extend-esri")&&p.mixin(p.getObject("fx",
!0,a),b);return b})},"esri/renderer":function(){define("./renderers/Renderer ./renderers/SimpleRenderer ./renderers/UniqueValueRenderer ./renderers/ClassBreaksRenderer ./renderers/TemporalRenderer ./renderers/SymbolAger ./renderers/TimeClassBreaksAger ./renderers/TimeRampAger ./renderers/jsonUtils".split(" "),function(f,l,p,r,d,n,m,g,a){return{Renderer:f,SimpleRenderer:l,UniqueValueRenderer:p,ClassBreaksRenderer:r,TemporalRenderer:d,SymbolAger:n,TimeClassBreaksAger:m,TimeRampAger:g,jsonUtils:a}})},
"esri/geometry/ScreenPoint":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","./Point"],function(f,l,p,r,d){f=f(d,{declaredClass:"esri.geometry.ScreenPoint",verifySR:function(){}});p("extend-esri")&&l.setObject("geometry.ScreenPoint",f,r);return f})},"esri/layers/LayerTimeOptions":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(f,l,p,r,d){f=f(null,{declaredClass:"esri.layers.LayerTimeOptions",constructor:function(d){d&&
l.mixin(this,d)},toJson:function(){return d.fixJson({timeDataCumulative:this.timeDataCumulative,timeOffset:this.timeOffset,timeOffsetUnits:this.timeOffsetUnits,useTime:this.useTime})}});p("extend-esri")&&l.setObject("layers.LayerTimeOptions",f,r);return f})},"esri/renderers/TemporalRenderer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","./Renderer"],function(f,l,p,r,d){f=f(d,{declaredClass:"esri.renderer.TemporalRenderer",constructor:function(d,m,g,a){this.observationRenderer=
d;this.latestObservationRenderer=m;this.trackRenderer=g;this.observationAger=a},getSymbol:function(d){var m=d.getLayer(),g=this.getObservationRenderer(d),a=g&&g.getSymbol(d),b=this.observationAger;m.timeInfo&&(m._map.timeExtent&&g===this.observationRenderer&&b&&a)&&(a=b.getAgedSymbol(a,d));return a},getObservationRenderer:function(d){return 0===d.getLayer()._getKind(d)?this.observationRenderer:this.latestObservationRenderer||this.observationRenderer},toJson:function(){var d={type:"temporal"};d.observationRenderer=
this.observationRenderer.toJson();this.latestObservationRenderer&&(d.latestObservationRenderer=this.latestObservationRenderer.toJson());this.trackRenderer&&(d.trackRenderer=this.trackRenderer.toJson());this.observationAger&&(d.observationAger=this.observationAger.toJson());return d}});p("extend-esri")&&l.setObject("renderer.TemporalRenderer",f,r);return f})},"dojo/request/iframe":function(){define("module require ./watch ./util ./handlers ../_base/lang ../io-query ../query ../has ../dom ../dom-construct ../_base/window ../NodeList-dom".split(" "),
function(f,l,p,r,d,n,m,g,a,b,c,e){function k(a){return!this.isFulfilled()}function h(a){return!!this._finished}function s(a,b){if(!b)try{var e=a.options,c=t.doc(t._frame),h=e.handleAs;if("html"!==h){if("xml"===h)if("html"===c.documentElement.tagName.toLowerCase()){g("a",c.documentElement).orphan();var k=c.documentElement.innerText,k=k.replace(/>\s+</g,"\x3e\x3c");a.text=n.trim(k)}else a.data=c;else a.text=c.getElementsByTagName("textarea")[0].value;d(a)}else a.data=c}catch(q){b=q}b?this.reject(b):
this._finished?this.resolve(a):this.reject(Error("Invalid dojo/request/iframe request state"))}function q(a){this._callNext()}function t(a,b,e){var c=r.parseArgs(a,r.deepCreate(v,b),!0);a=c.url;b=c.options;if("GET"!==b.method&&"POST"!==b.method)throw Error(b.method+" not supported by dojo/request/iframe");t._frame||(t._frame=t.create(t._iframeName,x+"();"));a=r.deferred(c,null,k,h,s,q);a._callNext=function(){this._calledNext||(this._calledNext=!0,t._currentDfd=null,t._fireNextRequest())};a._legacy=
e;t._dfdQueue.push(a);t._fireNextRequest();p(a);return e?a:a.promise}var u=f.id.replace(/[\/\.\-]/g,"_"),x=u+"_onload";e.global[x]||(e.global[x]=function(){var a=t._currentDfd;if(a){var e=b.byId(a.response.options.form)||a._tmpForm;if(e){for(var d=a._contentToClean,h=0;h<d.length;h++)for(var k=d[h],g=0;g<e.childNodes.length;g++){var q=e.childNodes[g];if(q.name===k){c.destroy(q);break}}a._originalAction&&e.setAttribute("action",a._originalAction);a._originalMethod&&(e.setAttribute("method",a._originalMethod),
e.method=a._originalMethod);a._originalTarget&&(e.setAttribute("target",a._originalTarget),e.target=a._originalTarget)}a._tmpForm&&(c.destroy(a._tmpForm),delete a._tmpForm);a._finished=!0}else t._fireNextRequest()});var v={method:"POST"};t.create=function(b,d,h){if(e.global[b])return e.global[b];if(e.global.frames[b])return e.global.frames[b];h||(a("config-useXDomain")&&!a("config-dojoBlankHtmlUrl")&&console.warn("dojo/request/iframe: When using cross-domain Dojo builds, please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl to the path on your domain to blank.html"),
h=a("config-dojoBlankHtmlUrl")||l.toUrl("dojo/resources/blank.html"));d=c.place('\x3ciframe id\x3d"'+b+'" name\x3d"'+b+'" src\x3d"'+h+'" onload\x3d"'+d+'" style\x3d"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden"\x3e',e.body());return e.global[b]=d};t.doc=function(a){if(a.contentDocument)return a.contentDocument;var b=a.name;if(b){var c=e.doc.getElementsByTagName("iframe");if(a.document&&c[b].contentWindow&&c[b].contentWindow.document)return c[b].contentWindow.document;
if(e.doc.frames[b]&&e.doc.frames[b].document)return e.doc.frames[b].document}return null};t.setSrc=function(a,b,c){a=e.global.frames[a.name];a.contentWindow&&(a=a.contentWindow);try{c?a.location.replace(b):a.location=b}catch(d){console.log("dojo/request/iframe.setSrc: ",d)}};t._iframeName=u+"_IoIframe";t._notifyStart=function(){};t._dfdQueue=[];t._currentDfd=null;t._fireNextRequest=function(){var a;try{if(!t._currentDfd&&t._dfdQueue.length){do a=t._currentDfd=t._dfdQueue.shift();while(a&&(a.canceled||
a.isCanceled&&a.isCanceled())&&t._dfdQueue.length);if(!a||a.canceled||a.isCanceled&&a.isCanceled())t._currentDfd=null;else{var d=a.response,h=d.options,k=a._contentToClean=[],g=b.byId(h.form),q=r.notify,f=h.data||null,s;!a._legacy&&"POST"===h.method&&!g?g=a._tmpForm=c.create("form",{name:u+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},e.body()):"GET"===h.method&&(g&&-1<d.url.indexOf("?"))&&(s=d.url.slice(d.url.indexOf("?")+1),f=n.mixin(m.queryToObject(s),f));if(g){if(!a._legacy){var l=
g;do l=l.parentNode;while(l!==e.doc.documentElement);l||(g.style.position="absolute",g.style.left="-1000px",g.style.top="-1000px",e.body().appendChild(g));g.name||(g.name=u+"_form")}if(f){var l=function(a,b){c.create("input",{type:"hidden",name:a,value:b},g);k.push(a)},p;for(p in f){var x=f[p];if(n.isArray(x)&&1<x.length)for(s=0;s<x.length;s++)l(p,x[s]);else g[p]?g[p].value=x:l(p,x)}}var v=g.getAttributeNode("action"),I=g.getAttributeNode("method"),J=g.getAttributeNode("target");d.url&&(a._originalAction=
v?v.value:null,v?v.value=d.url:g.setAttribute("action",d.url));if(a._legacy){if(!I||!I.value)I?I.value=h.method:g.setAttribute("method",h.method)}else a._originalMethod=I?I.value:null,I?I.value=h.method:g.setAttribute("method",h.method);a._originalTarget=J?J.value:null;J?J.value=t._iframeName:g.setAttribute("target",t._iframeName);g.target=t._iframeName;q&&q.emit("send",d,a.promise.cancel);t._notifyStart(d);g.submit()}else h="",d.options.data&&(h=d.options.data,"string"!==typeof h&&(h=m.objectToQuery(h))),
l=d.url+(-1<d.url.indexOf("?")?"\x26":"?")+h,q&&q.emit("send",d,a.promise.cancel),t._notifyStart(d),t.setSrc(t._frame,l,!0)}}}catch(Q){a.reject(Q)}};r.addCommonMethods(t,["GET","POST"]);return t})},"dojox/collections/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(f,l,p){f=l.getObject("dojox.collections",!0);f.DictionaryEntry=function(f,d){this.key=f;this.value=d;this.valueOf=function(){return this.value};this.toString=function(){return String(this.value)}};
f.Iterator=function(f){var d=0;this.element=f[d]||null;this.atEnd=function(){return d>=f.length};this.get=function(){return this.atEnd()?null:this.element=f[d++]};this.map=function(d,m){return p.map(f,d,m)};this.reset=function(){d=0;this.element=f[d]}};f.DictionaryIterator=function(f){var d=[],n={},m;for(m in f)n[m]||d.push(f[m]);var g=0;this.element=d[g]||null;this.atEnd=function(){return g>=d.length};this.get=function(){return this.atEnd()?null:this.element=d[g++]};this.map=function(a,b){return p.map(d,
a,b)};this.reset=function(){g=0;this.element=d[g]}};return f})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(f,l){var p={};l.setObject("dojo.regexp",p);p.escapeString=function(f,d){return f.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(f){return d&&-1!=d.indexOf(f)?f:"\\"+f})};p.buildGroupRE=function(f,d,n){if(!(f instanceof Array))return d(f);for(var m=[],g=0;g<f.length;g++)m.push(d(f[g]));return p.group(m.join("|"),n)};p.group=function(f,d){return"("+(d?"?:":"")+
f+")"};return p})},"esri/_time":function(){define(["./TimeExtent"],function(){return{}})},"esri/layers/LayerDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./LayerSource ./TableDataSource ./QueryDataSource ./JoinDataSource ./RasterDataSource".split(" "),function(f,l,p,r,d,n,m,g,a,b){f=f(n,{declaredClass:"esri.layers.LayerDataSource",type:"dataLayer",constructor:function(c){if(c&&c.dataSource){switch(c.dataSource.type){case "table":c=new m(c.dataSource);
break;case "queryTable":c=new g(c.dataSource);break;case "joinTable":c=new a(c.dataSource);break;case "raster":c=new b(c.dataSource);break;default:c=c.dataSource}this.dataSource=c}},toJson:function(){var a={type:"dataLayer",dataSource:this.dataSource&&this.dataSource.toJson()};return d.fixJson(a)}});p("extend-esri")&&l.setObject("layers.LayerDataSource",f,r);return f})},"esri/layers/LayerDrawingOptions":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../renderers/jsonUtils ./LabelClass".split(" "),
function(f,l,p,r,d,n,m,g){f=f(null,{declaredClass:"esri.layers.LayerDrawingOptions",constructor:function(a){if(a&&(l.mixin(this,a),a.renderer&&(this.renderer=m.fromJson(a.renderer)),a.labelingInfo&&0<a.labelingInfo.length)){this.labelingInfo=[];var b;p.forEach(a.labelingInfo,function(a){b=new g(a);this.labelingInfo.push(b)},this)}},toJson:function(){var a={renderer:this.renderer&&this.renderer.toJson(),transparency:this.transparency,scaleSymbols:this.scaleSymbols,showLabels:this.showLabels};this.labelingInfo&&
0<this.labelingInfo.length&&(a.labelingInfo=[],p.forEach(this.labelingInfo,function(b){a.labelingInfo.push(b.toJson())}));return n.fixJson(a)}});r("extend-esri")&&l.setObject("layers.LayerDrawingOptions",f,d);return f})},"esri/renderers/UniqueValueRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer".split(" "),function(f,l,p,r,d,n,m,g){f=f(g,{declaredClass:"esri.renderer.UniqueValueRenderer",constructor:function(a,
b,c,e,d){this.values=[];this._symbols={};this.infos=[];a&&!a.declaredClass?(b=a,this.defaultSymbol=(a=b.defaultSymbol)&&(a.declaredClass?a:m.fromJson(a)),this.attributeField=b.field1,this.attributeField2=b.field2,this.attributeField3=b.field3,this.fieldDelimiter=b.fieldDelimiter,this.defaultLabel=b.defaultLabel,l.forEach(b.uniqueValueInfos,this._addValueInfo,this)):(this.defaultSymbol=a,this.attributeField=b,this.attributeField2=c,this.attributeField3=e,this.fieldDelimiter=d);this._multiple=!!this.attributeField2},
addValue:function(a,b){var c=p.isObject(a)?a:{value:a,symbol:b};this._addValueInfo(c)},removeValue:function(a){var b=l.indexOf(this.values,a);-1!==b&&(this.values.splice(b,1),delete this._symbols[a],this.infos.splice(b,1))},getUniqueValueInfo:function(a){var b=this.attributeField,c=a.attributes,e,d;this._multiple?(a=this.attributeField2,e=this.attributeField3,d=[],b&&d.push(c[b]),a&&d.push(c[a]),e&&d.push(c[e]),b=d.join(this.fieldDelimiter||"")):b=p.isFunction(b)?b(a):c[b];return this._symbols[b]},
getSymbol:function(a){return(a=this.getUniqueValueInfo(a))&&a.symbol||this.defaultSymbol},_addValueInfo:function(a){var b=a.value;this.values.push(b);this.infos.push(a);var c=a.symbol;c&&!c.declaredClass&&(a.symbol=m.fromJson(c));this._symbols[b]=a},toJson:function(){var a=n.fixJson,b=p.mixin(this.inherited(arguments),{type:"uniqueValue",field1:this.attributeField,field2:this.attributeField2,field3:this.attributeField3,fieldDelimiter:this.fieldDelimiter,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.toJson(),
defaultLabel:this.defaultLabel,uniqueValueInfos:l.map(this.infos||[],function(b){b=p.mixin({},b);b.symbol=b.symbol&&b.symbol.toJson();b.value+="";return a(b)})});return a(b)}});r("extend-esri")&&p.setObject("renderer.UniqueValueRenderer",f,d);return f})},"esri/Evented":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Evented dojo/has ./kernel".split(" "),function(f,l,p,r,d,n){f=f([r],{declaredClass:"esri.Evented",registerConnectEvents:function(){var d=this.constructor,g=this.constructor._meta.parents,
a=[{}],b={},c,e,k=function(a,b){l.isArray(a)||(a=[a]);for(var e=0;e<a.length;e++){var c=a[e];c._meta&&c._meta.parents&&k(c._meta.parents,b);c.prototype._eventMap&&b.push(l.mixin({},c.prototype._eventMap))}return b};if(!d._onMap){k(g,a);a.push(this._eventMap);g=l.mixin.apply(this,a);for(c in this)/^on\w/.test(c)&&l.isFunction(this[c])&&(a=this._hyphenLower(c).toLowerCase(),g[a]||(b[a]={method:c}));for(e in g)c=this._onCamelCase(e),b[e]={method:c,argKeys:g[e]};d._onMap=b;return d._onMap}},on:function(d,
g){if(-1<d.indexOf(",")){for(var a=d.split(/\s*,\s*/),b=a.length,c=[];b--;)c.push(this.on(a[b],g));c.remove=function(){for(var a=0;a<c.length;a++)c[a].remove()};return c}var a=this.constructor._onMap||this.registerConnectEvents(),b="string"==typeof d&&d.toLowerCase(),e=this._onCamelCase(b),k=a&&a[b];return(e=k&&k.method||this[e]&&l.isFunction(this[e])&&e)?k&&l.isArray(k.argKeys)?(a=this._onArr2Obj(g,a[b].argKeys),p.after(this,e,a,!0)):p.after(this,e,function(a){a=a||{};a.target||(a.target=this);g.call(this,
a)},!0):this.inherited(arguments)},emit:function(d,g){var a,b,c,e,k=d.toLowerCase();e=this._onCamelCase(d);var h=this.constructor._onMap||this.registerConnectEvents();e=(c=h&&h[k]&&h[k].method||l.isFunction(this[e])&&e)&&this[c];c&&(h&&h[k])&&this._onObj2Arr(function(){b=Array.prototype.slice.call(arguments)},h[k].argKeys)(g);g=g||{};g.target||(g.target=this);e&&(a=b&&b.length?b:[g],a=e.apply(this,a));this.inherited(arguments,[d,g]);return a},_onObj2Arr:function(d,g){if(g){var a=this;return function(b){var c,
e=[],k=g.length;for(c=0;c<k;c++)e[c]=b[g[c]];d.apply(a,e)}}return d},_onArr2Obj:function(d,g){if(g){var a=this;return function(){var b,c={},e=arguments.length;for(b=0;b<e;b++)c[g[b]]=arguments[b];c.target||(c.target=a);d.call(a,c)}}return d},_hyphenLower:function(d){return d.replace(/^on/,"").replace(/[A-Z](?=[a-z])/g,function(d,a){return(a?"-":"")+d.toLowerCase()})},_onCamelCase:function(d){return"on"+d.substr(0,1).toUpperCase()+d.substr(1).replace(/\-([a-z])/g,function(d,a){return a.toUpperCase()})}});
d("extend-esri")&&(n.Evented=f);return f})},"esri/PopupBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Color dojo/_base/Deferred dojo/has ./kernel ./graphic ./geometry/Point ./geometry/jsonUtils ./geometry/mathUtils ./geometry/webMercatorUtils ./symbols/SimpleMarkerSymbol ./symbols/SimpleLineSymbol ./symbols/CartographicLineSymbol ./symbols/SimpleFillSymbol ./tasks/query ./Evented".split(" "),function(f,l,p,r,d,n,m,g,a,b,c,e,k,h,s,q,t,u){f=f(u,{declaredClass:"esri.PopupBase",
_featureLayers:{},_updateEndHandles:[],_evtMap:{"set-features":!0,"clear-features":!0,"selection-change":!0,"dfd-complete":!0},onSetFeatures:function(){},onClearFeatures:function(){},onSelectionChange:function(){},onDfdComplete:function(){},initialize:function(){this.count=0;this.selectedIndex=-1;this.on("clear-features",l.hitch(this,this._resetUpdateEndListeners));this.on("dfd-complete",l.hitch(this,this._processFeatures));this.on("set-features",l.hitch(this,this._processFeatures))},cleanup:function(){this.features=
this.deferreds=null;this._resetUpdateEndListeners()},setFeatures:function(a){if(a&&a.length){this.clearFeatures();var b,e;a[0]instanceof d?e=a:b=a;b?this._updateFeatures(null,b):(this.deferreds=e,e=e.slice(0),p.forEach(e,function(a){a.addBoth(l.hitch(this,this._updateFeatures,a))},this))}},clearFeatures:function(){this.features=this.deferreds=this._marked=null;this.count=0;var a=this.selectedIndex;this.selectedIndex=-1;if(-1<a)this.onSelectionChange();this.onClearFeatures()},getSelectedFeature:function(){var a=
this.features;if(a)return a[this.selectedIndex]},select:function(a){0>a||a>=this.count||(this.selectedIndex=a,this.onSelectionChange())},enableHighlight:function(b){this._highlighted=b.graphics.add(new g(new a(0,0,b.spatialReference)));this._highlighted.hide();this.markerSymbol||(b=this.markerSymbol=new k,b.setStyle(k.STYLE_TARGET),b._setDim(16,16,7),b.setOutline(new s(h.STYLE_SOLID,new r([0,255,255]),2,s.CAP_ROUND,s.JOIN_ROUND)),b.setColor(new r([0,0,0,0])));this.lineSymbol||(this.lineSymbol=new h(h.STYLE_SOLID,
new r([0,255,255]),2));this.fillSymbol||(this.fillSymbol=new q(q.STYLE_NULL,new h(h.STYLE_SOLID,new r([0,255,255]),2),new r([0,0,0,0])))},disableHighlight:function(a){var b=this._highlighted;b&&(b.hide(),a.graphics.remove(b),delete this._highlighted);this.markerSymbol=this.lineSymbol=this.fillSymbol=null},showHighlight:function(){var a=this.features&&this.features[this.selectedIndex];this._highlighted&&(a&&a.geometry)&&this._highlighted.show()},hideHighlight:function(){this._highlighted&&this._highlighted.hide()},
updateHighlight:function(a,e){var c=e.geometry,d=this._highlighted;if(!c||!d)d&&d.hide();else{d.hide();!d._graphicsLayer&&a&&a.graphics.add(d);d.setGeometry(b.fromJson(c.toJson()));var h;switch(c.type){case "point":case "multipoint":h=this.markerSymbol;h.setOffset(0,0);h.setAngle(0);var k=e.getLayer();if(k){var c=k._getSymbol(e),g,q,f=0,m=0,s=0;if(c){if((k=!e.symbol?k._getRenderer(e):null)&&k.proportionalSymbolInfo)g=q=k.getSize(e,{shape:c.style});else switch(c.type){case "simplemarkersymbol":g=q=
c.size||0;break;case "picturemarkersymbol":g=c.width||0,q=c.height||0}f=c.xoffset||0;m=c.yoffset||0;s=c.angle||0}g&&q&&h._setDim(g+1,q+1,7);h.setOffset(f,m);h.setAngle(s)}break;case "polyline":h=this.lineSymbol;break;case "polygon":h=this.fillSymbol}d.setSymbol(h)}},showClosestFirst:function(a){var b=this.features;if(b&&b.length){if(1<b.length){var d,h=Infinity,k=-1,g,q=c.getLength,f,m=a.spatialReference,s,n;a=a.normalize();for(d=b.length-1;0<=d;d--)if(g=b[d].geometry){s=g.spatialReference;f=0;try{n=
"point"===g.type?g:g.getExtent().getCenter(),n=n.normalize(),m&&(s&&!m.equals(s)&&m._canProject(s))&&(n=m.isWebMercator()?e.geographicToWebMercator(n):e.webMercatorToGeographic(n)),f=q(a,n)}catch(l){}0<f&&f<h&&(h=f,k=d)}0<k&&(b.splice(0,0,b.splice(k,1)[0]),this.select(0))}}else this.deferreds&&(this._marked=a)},_unbind:function(a){a=p.indexOf(this.deferreds,a);if(-1!==a)return this.deferreds.splice(a,1),!this.deferreds.length?(this.deferreds=null,2):1},_fireComplete:function(a){var b=this._marked;
b&&(this._marked=null,this.showClosestFirst(b));this.onDfdComplete(a)},_updateFeatures:function(a,b){if(a){if(this.deferreds){var e=this._unbind(a);if(e)if(b&&b instanceof Error){if(this._fireComplete(b),2===e)this.onSetFeatures()}else if(b&&b.length)if(this.features){var c=p.filter(b,function(a){return-1===p.indexOf(this.features,a)},this);this.features=this.features.concat(c);this.count=this.features.length;this._fireComplete();if(2===e)this.onSetFeatures()}else{this.features=b;this.count=b.length;
this.selectedIndex=0;this._fireComplete();if(2===e)this.onSetFeatures();this.select(0)}else if(this._fireComplete(),2===e)this.onSetFeatures()}}else this.features=b,this.count=b.length,this.selectedIndex=0,this.onSetFeatures(),this.select(0)},_resetUpdateEndListeners:function(){this._featureLayers={};p.forEach(this._updateEndHandles,function(a){a.remove()});this._updateEndHandles=[]},_processFeatures:function(){p.forEach(this.features,function(a){if((a=a.getLayer())&&!this._featureLayers[a.id]&&1===
a.currentMode&&a.objectIdField&&a.hasXYFootprint&&a.queryFeatures&&("esriGeometryPolygon"===a.geometryType||"esriGeometryPolyline"===a.geometryType||a.hasXYFootprint()))this._featureLayers[a.id]=a,a=a.on("update-end",l.hitch(this,this._fLyrUpdateEndHandler)),this._updateEndHandles.push(a)},this)},_fLyrUpdateEndHandler:function(a){if(!a.error){var b=this,e=a.target,c={},d=[];p.forEach(this.features,function(a){if(a.getLayer()===e){var b=a.attributes[e.objectIdField];c[b]=a;d.push(b)}});d.length&&(a=
new t,a.objectIds=d,e.queryFeatures(a,function(a){p.forEach(a.features,function(a){var b=c[a.attributes[e.objectIdField]];b.geometry!==a.geometry&&(b.setGeometry(a.geometry),this._highlighted&&b===this.getSelectedFeature()&&this._highlighted.setGeometry(a.geometry))},b)}))}}});n("extend-esri")&&(m.PopupBase=f);return f})},"esri/TouchEvents":function(){define("dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/_base/sniff dojo/dom ./kernel ./Evented ./geometry/Point ./geometry/ScreenPoint".split(" "),
function(f,l,p,r,d,n,m,g,a){f=f([m],{declaredClass:"esri.TouchEvents",tapRadius:8,doubleTapRadius:10,tapStartTolerance:50,doubleTapDuration:300,map:null,constructor:function(a,c){this.node=a;p.mixin(this,c);l.setSelectable(a,!1);this._touchStart=p.hitch(this,this._touchStart);this._touchMove=p.hitch(this,this._touchMove);this._touchEnd=p.hitch(this,this._touchEnd);this._touchCancel=p.hitch(this,this._touchCancel);a.addEventListener("touchstart",this._touchStart,!1);a.addEventListener("touchmove",
this._touchMove,!1);a.addEventListener("touchend",this._touchEnd,!1);a.addEventListener("touchcancel",this._touchCancel,!1);this.map&&r("ios")&&(this._mouseOver=p.hitch(this,this._mouseOver),this._mouseOut=p.hitch(this,this._mouseOut),this._mouseDown=p.hitch(this,this._mouseDown),this._mouseUp=p.hitch(this,this._mouseUp),this._mouseClick=p.hitch(this,this._mouseClick),a.addEventListener("mouseover",this._mouseOver,!1),a.addEventListener("mouseout",this._mouseOut,!1),a.addEventListener("mousedown",
this._mouseDown,!1),a.addEventListener("mouseup",this._mouseUp,!1),a.addEventListener("click",this._mouseClick,!1));this._numTouches=0;this._nodeTouches=[];this._touches={};this._touchIds=[];this._taps=[];this._immediate=!1},_touchStart:function(a){var c=this._touches,e,d=a.changedTouches.length,h,g,q,f,m=(new Date).getTime();if(!r("android")||!r("safari")||!(1===a.targetTouches.length&&a.touches.length===a.targetTouches.length&&a.targetTouches.length===a.changedTouches.length&&0===a.changedTouches[0].identifier&&
c[a.changedTouches[0].identifier])){this._addTouch(a);for(e=0;e<d;e++)h=a.changedTouches[e],g=c[h.identifier]={},g.startX=h.pageX,g.startY=h.pageY,g.startTS=m,-1===this._touchIds.indexOf(h.identifier)&&this._touchIds.push(h.identifier);this._swipeActive&&(q=this._nodeTouches[0]);this._pinchActive&&(f=this._nodeTouches[1]);1===this._numTouches?this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(a,q))):this._pinchActive&&(this._pinchActive=!1,this._fire("onPinchEnd",
this._processTouchEvent(a,[q,f]))):2===this._numTouches?this._swipeActive&&(q&&(g=c[this._touchIds[0]],g.startX=q.pageX,g.startY=q.pageY,g.moved=!1),this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(a,q))):this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(a,q))):this._pinchActive&&(this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(a,[q,f])))}},_touchMove:function(a){a.preventDefault();this._updateTouch(a);var c=this._touches,
e,d=a.changedTouches.length,h,g,q,f;if(!r("android")||!r("safari")||!(1===a.targetTouches.length&&a.touches.length===a.targetTouches.length&&a.targetTouches.length===a.changedTouches.length&&0===a.changedTouches[0].identifier&&c[a.changedTouches[0].identifier]&&1<this._touchIds.length)){for(e=0;e<d;e++)if(h=a.changedTouches[e],g=c[h.identifier]){q=Math.abs(h.pageX-g.startX);h=Math.abs(h.pageY-g.startY);if(!g.moved&&(q>=this.tapRadius||h>=this.tapRadius))g.moved=g.absMoved=!0;f=f?f:g.moved}1===this._numTouches?
(e=a.changedTouches[0],this._swipeActive?this._fire("onSwipeMove",this._processTouchEvent(a,e)):f&&(this._swipeActive=!0,this._fire("onSwipeStart",this._processTouchEvent(a,e)))):2===this._numTouches&&(e=this._nodeTouches[0],d=this._nodeTouches[1],this._pinchActive?this._fire("onPinchMove",this._processTouchEvent(a,[e,d])):f&&(f=c[e.identifier],g=c[d.identifier],c=Math.abs(f.startX-g.startX),f=Math.abs(f.startY-g.startY),c=Math.sqrt(c*c+f*f),f=Math.abs(e.pageX-d.pageX),g=Math.abs(e.pageY-d.pageY),
f=Math.sqrt(f*f+g*g),Math.abs(f-c)>=2*this.tapRadius&&(this._pinchActive=!0,this._fire("onPinchStart",this._processTouchEvent(a,[e,d])))))}},_touchEnd:function(a){this._removeTouch(a);var c=this._touches,e=a.changedTouches,d,h=e.length,g,q,f=(new Date).getTime(),m=this._touchIds;for(d=0;d<h;d++)if(q=c[e[d].identifier])q.absMoved&&(g=!0),q.pageX=e[d].pageX,q.pageY=e[d].pageY,q.endTS=f;if(0===this._numTouches)if(this._touches={},this._touchIds=[],this._swipeActive)this._swipeActive=!1,this._fire("onSwipeEnd",
this._processTouchEvent(a,e[0]));else if(this._pinchActive)this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(a,e));else{if(!g){h=Infinity;g=-Infinity;var f=Infinity,n=-Infinity,l=this.tapStartTolerance,p=[],r=!0;for(d=0;d<m.length;d++)q=c[m[d]],p.push(q),q.startTS<h&&(h=q.startTS),q.startTS>g&&(g=q.startTS),q.endTS<f&&(f=q.endTS),q.endTS>n&&(n=q.endTS),delete c[m[d]];if(1===p.length&&e[0]&&(c=Math.abs(e[0].pageX-p[0].startX),e=Math.abs(e[0].pageY-p[0].startY),c>=this.tapRadius||
e>=this.tapRadius))r=!1;r&&(Math.abs(g-h)<=l&&Math.abs(n-f)<=l)&&this._basicTap(a,p)}}else 1===this._numTouches&&this._pinchActive&&(d=this._nodeTouches[0],q=c[d.identifier],q.startX=d.pageX,q.startY=d.pageY,this._pinchActive=q.moved=!1,this._fire("onPinchEnd",this._processTouchEvent(a,[e[0],d])))},_touchCancel:function(a){this._numTouches&&this._touchEnd(a)},_basicTap:function(a,c){var e=(new Date).getTime(),d=this;a=this._processTouchEvent(a,c);this._taps.push({touchInfos:c,ts:e,event:a});2<this._taps.length&&
this._taps.shift();this._fire("onBasicTap",a);clearTimeout(this._tapTimer);this._immediate?this._analyzeTap(!0):this._tapTimer=setTimeout(function(){var a=d;d=null;clearTimeout(a._tapTimer);a._analyzeTap()},2===this._taps.length?this.doubleTapDuration/2:this.doubleTapDuration)},_analyzeTap:function(a){var c=this._taps,e=c[0],d=c[1],h=e.touchInfos,g=d&&d.touchInfos;c.length&&(a||(this._taps=[]),e&&d?h.length===g.length?d.ts-e.ts<=this.doubleTapDuration?(1===h.length?(a=Math.abs(h[0].startX-g[0].startX),
h=Math.abs(h[0].startY-g[0].startY),h=a<=this.doubleTapRadius&&h<=this.doubleTapRadius):h=!0,h?this._processedDoubleTap(c):this._processedTap(d)):this._processedTap(d):this._processedTap(d):this._processedTap(e||d))},_processedTap:function(a){var c=a.event;this._fire("onProcessedTap",c);1===a.touchInfos.length?this._fire("onTap",this._fixEvent(c)):2===a.touchInfos.length&&this._fire("onTwoFingerTap",c)},_processedDoubleTap:function(a){var c=1===a[1].touchInfos.length,e;c&&(e=[this._fixEvent(a[0].event),
this._fixEvent(a[1].event)],e[1].relatedEvents=e);a=[a[0].event,a[1].event];a[1].relatedEvents=a;this._fire("onProcessedDoubleTap",a[1]);c&&(this._fire("onDoubleTap",e[1]),this._fire("onDblClick",e[1]))},_addTouch:function(a){var c=a.changedTouches,e=this._nodeTouches,g,h,f;this._numTouches+=c.length;for(a=0;a<c.length;a++){h=e.length;f=!1;for(g=0;g<h&&!(f=e[g].identifier===c[a].identifier);g++);f?this._numTouches--:e.push(c[a])}for(a=e.length-1;0<=a;a--)d.isDescendant(e[a].target,document.body)||
(e.splice(a,1),this._numTouches--);0>this._numTouches&&(this._numTouches=0)},_removeTouch:function(a){var c=[],e=[],d=a.changedTouches,h=this._nodeTouches;this._numTouches-=d.length;0>this._numTouches&&(this._numTouches=0);for(a=0;a<d.length;a++)c.push(d[a].identifier);for(a=h.length-1;0<=a;a--)-1!==c.indexOf(h[a].identifier)&&e.push(h.splice(a,1)[0]);return e},_updateTouch:function(a){var c=[],e,d=a.changedTouches,h=this._nodeTouches;for(a=0;a<d.length;a++)c.push(d[a].identifier);for(a=0;a<h.length;a++)e=
c.indexOf(h[a].identifier),-1!==e&&h.splice(a,1,d[e])},_mouseOver:function(a){this._fire("onMouseOver",this._processMouseEvent(a))},_mouseOut:function(a){this._fire("onMouseOut",this._processMouseEvent(a))},_mouseDown:function(a){this._fire("onMouseDown",this._processMouseEvent(a))},_mouseUp:function(a){this._fire("onMouseUp",this._processMouseEvent(a))},_mouseClick:function(a){this._fire("onClick",this._processMouseEvent(a))},_fire:function(a,c){if("onDblClick"===a&&this.mouseEvents){this.mouseEvents.preventClickEvents(!0);
var e=this;setTimeout(function(){e.mouseEvents.preventClickEvents(!1)},350)}if(this[a])this[a](c);if(this.map&&this.map[a])this.map[a](c)},_fixEvent:function(a){var c={},e;for(e in a)c[e]=a[e];this.map&&(c.screenPoint=c.screenPoints[0],c.mapPoint=c.mapPoints[0]);return c},_processTouchEvent:function(b,c){var e=this.map,d=e&&e.position,h=0;if(d&&c)if(p.isArray(c)){var f,q;b.screenPoints=[];b.mapPoints=[];for(f=0;f<c.length;f++)c[f]?(q=new a(c[f].pageX-d.x,c[f].pageY-d.y),b.screenPoints.push(q),b.mapPoints.push(e.extent?
e.toMap(q):new g)):h++}else b.screenPoint=new a(c.pageX-d.x,c.pageY-d.y),b.mapPoint=e.extent?e.toMap(b.screenPoint):new g;b.numPoints=c?p.isArray(c)?c.length-h:1:0;return b},_processMouseEvent:function(b){var c=this.map,e=c&&c.position;e&&(b.screenPoint=new a(b.pageX-e.x,b.pageY-e.y),b.mapPoint=c.extent?c.toMap(b.screenPoint):new g);return b},setImmediateTap:function(a){this._immediate=a},destroy:function(){var a=this.node;a.removeEventListener("touchstart",this._touchStart,!1);a.removeEventListener("touchmove",
this._touchMove,!1);a.removeEventListener("touchend",this._touchEnd,!1);a.removeEventListener("touchcancel",this._touchCancel,!1);this.map&&(a.removeEventListener("mouseover",this._mouseOver,!1),a.removeEventListener("mouseout",this._mouseOut,!1),a.removeEventListener("mousedown",this._mouseDown,!1),a.removeEventListener("mouseup",this._mouseUp,!1),a.removeEventListener("click",this._mouseClick,!1));l.setSelectable(a,!0);clearTimeout(this._tapTimer);this.node=this.map=this._numTouches=this._nodeTouches=
this._touches=this._touchIds=this._taps=null}});r("extend-esri")&&(n.TouchEvents=f);return f})},"esri/symbols/SimpleMarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./MarkerSymbol ./SimpleLineSymbol".split(" "),function(f,l,p,r,d,n,m,g,a){var b={STYLE_CIRCLE:"circle",STYLE_SQUARE:"square",STYLE_CROSS:"cross",STYLE_X:"x",STYLE_DIAMOND:"diamond",STYLE_PATH:"path",STYLE_TARGET:"target"},c={style:b.STYLE_CIRCLE,color:[255,
255,255,0.25],size:12,angle:0,xoffset:0,yoffset:0};f=f(g,{declaredClass:"esri.symbol.SimpleMarkerSymbol",type:"simplemarkersymbol",_styles:{circle:"esriSMSCircle",square:"esriSMSSquare",cross:"esriSMSCross",x:"esriSMSX",diamond:"esriSMSDiamond",path:"esriSMSPath"},constructor:function(e,g,h,f){e?l.isString(e)?(this.style=e,g&&(this.size=g),h&&(this.outline=h),f&&(this.color=f)):(this.style=m.valueOf(this._styles,this.style),e.outline&&(this.outline=new a(e.outline))):(l.mixin(this,c),this.size=d.pt2px(this.size),
this.outline=new a(this.outline),this.color=new p(this.color));this.style||(this.style=b.STYLE_CIRCLE)},setStyle:function(a){this.style=a;return this},setPath:function(a){this.path=a;this.setStyle(b.STYLE_PATH);return this},setOutline:function(a){this.outline=a;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){return this.color},_setDim:function(a,b,c){this._targetWidth=a;this._targetHeight=b;this._spikeSize=c},getShapeDescriptors:function(){var a,
g,h,f=this.style,q=(this.size||d.pt2px(c.size))/2,m=0-q,n=0+q,l=0-q,p=0+q;switch(f){case b.STYLE_CIRCLE:a={type:"circle",cx:0,cy:0,r:q};g=this.getFill();if(h=this.getStroke())h.style=h.style||"Solid";break;case b.STYLE_CROSS:a={type:"path",path:"M "+m+",0 L "+n+",0 M 0,"+l+" L 0,"+p+" E"};g=null;h=this.getStroke();break;case b.STYLE_DIAMOND:a={type:"path",path:"M "+m+",0 L 0,"+l+" L "+n+",0 L 0,"+p+" L "+m+",0 E"};g=this.getFill();h=this.getStroke();break;case b.STYLE_SQUARE:a={type:"path",path:"M "+
m+","+p+" L "+m+","+l+" L "+n+","+l+" L "+n+","+p+" L "+m+","+p+" E"};g=this.getFill();h=this.getStroke();break;case b.STYLE_X:a={type:"path",path:"M "+m+","+p+" L "+n+","+l+" M "+m+","+l+" L "+n+","+p+" E"};g=null;h=this.getStroke();break;case b.STYLE_PATH:a={type:"path",path:this.path||""},g=this.getFill(),h=this.getStroke()}return{defaultShape:a,fill:g,stroke:h}},toJson:function(){var a=l.mixin(this.inherited("toJson",arguments),{type:"esriSMS",style:this._styles[this.style]}),b=this.outline;b&&
(a.outline=b.toJson());a.path=this.path;return m.fixJson(a)}});l.mixin(f,b);f.defaultProps=c;r("extend-esri")&&(l.setObject("symbol.SimpleMarkerSymbol",f,n),n.symbol.defaultSimpleMarkerSymbol=c);return f})},"esri/symbols/LineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ./Symbol".split(" "),function(f,l,p,r,d,n){f=f(n,{declaredClass:"esri.symbol.LineSymbol",constructor:function(d){l.isObject(d)?this.width=r.pt2px(this.width):this.width=12},setWidth:function(d){this.width=
d;return this},toJson:function(){var d=r.px2pt(this.width),d=isNaN(d)?void 0:d;return l.mixin(this.inherited("toJson",arguments),{width:d})}});p("extend-esri")&&l.setObject("symbol.LineSymbol",f,d);return f})},"esri/graphicsUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/has","./kernel","./geometry/Extent"],function(f,l,p,r,d){var n={graphicsExtent:function(f){var g=f[0].geometry,a=g.getExtent(),b,c,e=f.length;null===a&&(a=new d(g.x,g.y,g.x,g.y,g.spatialReference));for(c=1;c<
e;c++)b=(g=f[c].geometry).getExtent(),null===b&&(b=new d(g.x,g.y,g.x,g.y,g.spatialReference)),a=a.union(b);return 0>a.getWidth()&&0>a.getHeight()?null:a},getGeometries:function(d){return l.map(d,function(d){return d.geometry})},_encodeGraphics:function(d,g){var a=[],b,c,e;l.forEach(d,function(d,h){b=d.toJson();c={};b.geometry&&(e=g&&g[h],c.geometry=e&&e.toJson()||b.geometry);b.attributes&&(c.attributes=b.attributes);a[h]=c});return a}};p("extend-esri")&&f.mixin(r,n);return n})},"dojox/gfx/matrix":function(){define(["./_base",
"dojo/_base/lang"],function(f,l){var p=f.matrix={},r={};p._degToRad=function(d){return r[d]||(r[d]=Math.PI*d/180)};p._radToDeg=function(d){return 180*(d/Math.PI)};p.Matrix2D=function(d){if(d)if("number"==typeof d)this.xx=this.yy=d;else if(d instanceof Array){if(0<d.length){for(var f=p.normalize(d[0]),m=1;m<d.length;++m){var g=f,a=p.normalize(d[m]),f=new p.Matrix2D;f.xx=g.xx*a.xx+g.xy*a.yx;f.xy=g.xx*a.xy+g.xy*a.yy;f.yx=g.yx*a.xx+g.yy*a.yx;f.yy=g.yx*a.xy+g.yy*a.yy;f.dx=g.xx*a.dx+g.xy*a.dy+g.dx;f.dy=
g.yx*a.dx+g.yy*a.dy+g.dy}l.mixin(this,f)}}else l.mixin(this,d)};l.extend(p.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});l.mixin(p,{identity:new p.Matrix2D,flipX:new p.Matrix2D({xx:-1}),flipY:new p.Matrix2D({yy:-1}),flipXY:new p.Matrix2D({xx:-1,yy:-1}),translate:function(d,f){return 1<arguments.length?new p.Matrix2D({dx:d,dy:f}):new p.Matrix2D({dx:d.x,dy:d.y})},scale:function(d,f){return 1<arguments.length?new p.Matrix2D({xx:d,yy:f}):"number"==typeof d?new p.Matrix2D({xx:d,yy:d}):new p.Matrix2D({xx:d.x,
yy:d.y})},rotate:function(d){var f=Math.cos(d);d=Math.sin(d);return new p.Matrix2D({xx:f,xy:-d,yx:d,yy:f})},rotateg:function(d){return p.rotate(p._degToRad(d))},skewX:function(d){return new p.Matrix2D({xy:Math.tan(d)})},skewXg:function(d){return p.skewX(p._degToRad(d))},skewY:function(d){return new p.Matrix2D({yx:Math.tan(d)})},skewYg:function(d){return p.skewY(p._degToRad(d))},reflect:function(d,f){1==arguments.length&&(f=d.y,d=d.x);var m=d*d,g=f*f,a=m+g,b=2*d*f/a;return new p.Matrix2D({xx:2*m/a-
1,xy:b,yx:b,yy:2*g/a-1})},project:function(d,f){1==arguments.length&&(f=d.y,d=d.x);var m=d*d,g=f*f,a=m+g,b=d*f/a;return new p.Matrix2D({xx:m/a,xy:b,yx:b,yy:g/a})},normalize:function(d){return d instanceof p.Matrix2D?d:new p.Matrix2D(d)},isIdentity:function(d){return 1==d.xx&&0==d.xy&&0==d.yx&&1==d.yy&&0==d.dx&&0==d.dy},clone:function(d){var f=new p.Matrix2D,m;for(m in d)"number"==typeof d[m]&&("number"==typeof f[m]&&f[m]!=d[m])&&(f[m]=d[m]);return f},invert:function(d){d=p.normalize(d);var f=d.xx*
d.yy-d.xy*d.yx;return d=new p.Matrix2D({xx:d.yy/f,xy:-d.xy/f,yx:-d.yx/f,yy:d.xx/f,dx:(d.xy*d.dy-d.yy*d.dx)/f,dy:(d.yx*d.dx-d.xx*d.dy)/f})},_multiplyPoint:function(d,f,m){return{x:d.xx*f+d.xy*m+d.dx,y:d.yx*f+d.yy*m+d.dy}},multiplyPoint:function(d,f,m){d=p.normalize(d);return"number"==typeof f&&"number"==typeof m?p._multiplyPoint(d,f,m):p._multiplyPoint(d,f.x,f.y)},multiplyRectangle:function(d,f){var m=p.normalize(d);f=f||{x:0,y:0,width:0,height:0};if(p.isIdentity(m))return{x:f.x,y:f.y,width:f.width,
height:f.height};var g=p.multiplyPoint(m,f.x,f.y),a=p.multiplyPoint(m,f.x,f.y+f.height),b=p.multiplyPoint(m,f.x+f.width,f.y),c=p.multiplyPoint(m,f.x+f.width,f.y+f.height),m=Math.min(g.x,a.x,b.x,c.x),e=Math.min(g.y,a.y,b.y,c.y),k=Math.max(g.x,a.x,b.x,c.x),g=Math.max(g.y,a.y,b.y,c.y);return{x:m,y:e,width:k-m,height:g-e}},multiply:function(d){for(var f=p.normalize(d),m=1;m<arguments.length;++m){var g=f,a=p.normalize(arguments[m]),f=new p.Matrix2D;f.xx=g.xx*a.xx+g.xy*a.yx;f.xy=g.xx*a.xy+g.xy*a.yy;f.yx=
g.yx*a.xx+g.yy*a.yx;f.yy=g.yx*a.xy+g.yy*a.yy;f.dx=g.xx*a.dx+g.xy*a.dy+g.dx;f.dy=g.yx*a.dx+g.yy*a.dy+g.dy}return f},_sandwich:function(d,f,m){return p.multiply(p.translate(f,m),d,p.translate(-f,-m))},scaleAt:function(d,f,m,g){switch(arguments.length){case 4:return p._sandwich(p.scale(d,f),m,g);case 3:return"number"==typeof m?p._sandwich(p.scale(d),f,m):p._sandwich(p.scale(d,f),m.x,m.y)}return p._sandwich(p.scale(d),f.x,f.y)},rotateAt:function(d,f,m){return 2<arguments.length?p._sandwich(p.rotate(d),
f,m):p._sandwich(p.rotate(d),f.x,f.y)},rotategAt:function(d,f,m){return 2<arguments.length?p._sandwich(p.rotateg(d),f,m):p._sandwich(p.rotateg(d),f.x,f.y)},skewXAt:function(d,f,m){return 2<arguments.length?p._sandwich(p.skewX(d),f,m):p._sandwich(p.skewX(d),f.x,f.y)},skewXgAt:function(d,f,m){return 2<arguments.length?p._sandwich(p.skewXg(d),f,m):p._sandwich(p.skewXg(d),f.x,f.y)},skewYAt:function(d,f,m){return 2<arguments.length?p._sandwich(p.skewY(d),f,m):p._sandwich(p.skewY(d),f.x,f.y)},skewYgAt:function(d,
f,m){return 2<arguments.length?p._sandwich(p.skewYg(d),f,m):p._sandwich(p.skewYg(d),f.x,f.y)}});f.Matrix2D=p.Matrix2D;return p})},"esri/tasks/SpatialRelationship":function(){define(["dojo/_base/lang","dojo/has","../kernel"],function(f,l,p){var r={SPATIAL_REL_INTERSECTS:"esriSpatialRelIntersects",SPATIAL_REL_CONTAINS:"esriSpatialRelContains",SPATIAL_REL_CROSSES:"esriSpatialRelCrosses",SPATIAL_REL_ENVELOPEINTERSECTS:"esriSpatialRelEnvelopeIntersects",SPATIAL_REL_INDEXINTERSECTS:"esriSpatialRelIndexIntersects",
SPATIAL_REL_OVERLAPS:"esriSpatialRelOverlaps",SPATIAL_REL_TOUCHES:"esriSpatialRelTouches",SPATIAL_REL_WITHIN:"esriSpatialRelWithin",SPATIAL_REL_RELATION:"esriSpatialRelRelation"};l("extend-esri")&&f.setObject("tasks._SpatialRelationship",r,p);return r})},"esri/layers/QueryDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./DataSource ../SpatialReference".split(" "),function(f,l,p,r,d,n,m){f=f(n,{declaredClass:"esri.layers.QueryDataSource",constructor:function(d){d&&
(d.oidFields&&l.isString(d.oidFields)&&(this.oidFields=d.oidFields.split(",")),d.spatialReference&&(this.spatialReference=new m(d.spatialReference)))},toJson:function(){var g={type:"queryTable",workspaceId:this.workspaceId,query:this.query,oidFields:this.oidFields&&this.oidFields.join(),spatialReference:this.spatialReference&&this.spatialReference.toJson()};if(this.geometryType){var a;a="point"===this.geometryType.toLowerCase()?"esriGeometryPoint":"multipoint"===this.geometryType.toLowerCase()?"esriGeometryMultipoint":
"polyline"===this.geometryType.toLowerCase()?"esriGeometryPolyline":"polygon"===this.geometryType.toLowerCase()?"esriGeometryPolygon":this.geometryType;g.geometryType=a}return d.fixJson(g)}});p("extend-esri")&&l.setObject("layers.QueryDataSource",f,r);return f})},"esri/PointerEvents":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ./kernel ./Evented ./geometry/Point ./geometry/ScreenPoint".split(" "),function(f,l,p,r,d,n,m,g){f=f([n],{declaredClass:"esri.PointerEvents",
tapRadius:8,clickRadius:2,doubleTapRadius:10,tapStartTolerance:50,doubleTapDuration:300,minWheelValue:1,maxWheelValue:1,mozWheelDivisor:-1!==r("mac")?1:3,wheelDivisor:120,preventPageScroll:!0,constructor:function(a,b){this.node=a;l.mixin(this,b);void 0!==a.style.msTouchAction?a.style.msTouchAction="none":void 0!==a.style.touchAction&&(a.style.touchAction="none");var c=navigator.msPointerEnabled,e=function(a){a.preventDefault()};a.addEventListener("selectstart",e,!1);a.addEventListener("dragstart",
e,!1);this._pointerDown=l.hitch(this,this._pointerDown);this._pointerMove=l.hitch(this,this._pointerMove);this._pointerUp=l.hitch(this,this._pointerUp);this._pointerCancel=l.hitch(this,this._pointerCancel);a.addEventListener(c?"MSPointerDown":"pointerdown",this._pointerDown,!1);a.addEventListener(c?"MSPointerMove":"pointermove",this._pointerMove,!1);a.addEventListener(c?"MSPointerUp":"pointerup",this._pointerUp,!1);a.addEventListener(c?"MSPointerCancel":"pointercancel",this._pointerCancel,!1);this.map&&
(this._mouseOver=l.hitch(this,this._mouseOver),this._mouseOut=l.hitch(this,this._mouseOut),this._mouseLeave=l.hitch(this,this._mouseLeave),this._mouseDown=l.hitch(this,this._mouseDown),this._mouseUp=l.hitch(this,this._mouseUp),this._mouseClick=l.hitch(this,this._mouseClick),this._mouseWheel=l.hitch(this,this._mouseWheel),this._mouseMove=l.hitch(this,this._mouseMove),this._mouseEnter=l.hitch(this,this._mouseEnter),this._onKeyDown=l.hitch(this,this._onKeyDown),this._onKeyUp=l.hitch(this,this._onKeyUp),
a.addEventListener("mouseover",this._mouseOver,!1),a.addEventListener("mouseout",this._mouseOut,!1),a.addEventListener("mouseleave",this._mouseLeave,!1),a.addEventListener("mousedown",this._mouseDown,!1),a.addEventListener("mouseup",this._mouseUp,!1),a.addEventListener("click",this._mouseClick,!1),a.addEventListener("mousewheel",this._mouseWheel,!1),a.addEventListener("mousemove",this._mouseMove,!1),a.addEventListener("mouseenter",this._mouseEnter,!1));this._numTouches=0;this._touches={};this._touchIds=
[];this._taps=[];this._immediate=!1},_pointerDown:function(a){var b=this._touches,c=a.target,e=a.pointerId,d=this._touchIds,h,g=(new Date).getTime();h=b[e]={};h.pointerId=e;h.startX=h.pageX=a.pageX;h.startY=h.pageY=a.pageY;h.startTS=g;d.push(e);this._numTouches++;c.setPointerCapture?c.setPointerCapture(e):c.msSetPointerCapture&&c.msSetPointerCapture(e);c=b[d[0]];b=b[d[1]];1!==this._numTouches&&(2===this._numTouches?this._swipeActive&&(c&&(c.startX=c.pageX,c.startY=c.pageY,c.moved=!1),this._swipeActive=
!1,this._fire("onSwipeEnd",this._processTouchEvent(a,c))):this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(a,c))):this._pinchActive&&(this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(a,[c,b]))))},_pointerMove:function(a){var b=this._touches,c=this._touchIds,e,d,h;if((e=b[a.pointerId])&&!(e.pageX===a.pageX&&e.pageY===a.pageY)){e.pageX=a.pageX;e.pageY=a.pageY;d=Math.abs(e.pageX-e.startX);h=Math.abs(e.pageY-e.startY);if(!e.moved&&(d>=this.tapRadius||
h>=this.tapRadius))e.moved=e.absMoved=!0;if(1===this._numTouches)this._swipeActive?this._fire("onSwipeMove",this._processTouchEvent(a,a)):e.moved&&(this._swipeActive=!0,this._fire("onSwipeStart",this._processTouchEvent(a,a)));else if(2===this._numTouches)if(e=b[c[0]],b=b[c[1]],this._pinchActive)this._fire("onPinchMove",this._processTouchEvent(a,[e,b]));else if(e.moved||b.moved)c=Math.abs(e.startX-b.startX),d=Math.abs(e.startY-b.startY),c=Math.sqrt(c*c+d*d),d=Math.abs(e.pageX-b.pageX),h=Math.abs(e.pageY-
b.pageY),d=Math.sqrt(d*d+h*h),Math.abs(d-c)>=2*this.tapRadius&&(this._pinchActive=!0,this._fire("onPinchStart",this._processTouchEvent(a,[e,b])))}},_pointerUp:function(a){var b=this._touches,c,e=this.node,d=a.target,h=a.pointerId,g=this._touchIds,f=g.slice(0),m=p.map(f,function(a){return b[a]}),l=(new Date).getTime();if(c=b[h])if(c.pageX=a.pageX,c.pageY=a.pageY,c.endTS=l,this._numTouches--,d.releasePointerCapture?d.releasePointerCapture(h):d.msReleasePointerCapture&&d.msReleasePointerCapture(h),0===
this._numTouches)if(this._touches={},this._touchIds=[],this._swipeActive)this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(a,a));else if(this._pinchActive)this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(a,a));else{if(!c.absMoved){var d=Infinity,h=-Infinity,g=Infinity,l=-Infinity,n=this.tapStartTolerance,r;for(r=0;r<f.length;r++)c=m[r],c.startTS<d&&(d=c.startTS),c.startTS>h&&(h=c.startTS),c.endTS<g&&(g=c.endTS),c.endTS>l&&(l=c.endTS);Math.abs(h-d)<=n&&Math.abs(l-
g)<=n&&this._basicTap(a,m)}}else 1===this._numTouches&&this._pinchActive&&(g.splice(p.indexOf(g,a.pointerId),1),delete b[a.pointerId],c=b[g[0]],c.startX=c.pageX,c.startY=c.pageY,c.moved=!1,document.msElementsFromPoint&&(f=document.msElementsFromPoint(c.pageX,c.pageY),p.some(f,function(a){return a===e})||(this._touches={},this._touchIds=[],this._numTouches=0)),this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(a,[a,c])))},_pointerCancel:function(a){this._numTouches&&this._pointerUp(a)},
_basicTap:function(a,b){var c=(new Date).getTime(),e=this,d=this._immediate;a=this._processTouchEvent(a,b);this._taps.push({touchInfos:b,ts:c,event:a});2<this._taps.length&&this._taps.shift();this._fire("onBasicTap",a);clearTimeout(this._tapTimer);c=2===this._taps.length?this.doubleTapDuration/2:this.doubleTapDuration;this._tapTimer=setTimeout(function(){var a=e;e=null;clearTimeout(a._tapTimer);a._analyzeTap(d)},d?0:c)},_analyzeTap:function(a){var b=this._taps,c=b[0],e=b[1],d=c.touchInfos,h=e&&e.touchInfos;
b.length&&(a||(this._taps=[]),c&&e?d.length===h.length?e.ts-c.ts<=this.doubleTapDuration?(1===d.length?(a=Math.abs(d[0].startX-h[0].startX),d=Math.abs(d[0].startY-h[0].startY),d=a<=this.doubleTapRadius&&d<=this.doubleTapRadius):d=!0,d?this._processedDoubleTap(b):this._processedTap(e)):this._processedTap(e):this._processedTap(e):this._processedTap(c||e))},_processedTap:function(a){var b=a.event;this._fire("onProcessedTap",b);1===a.touchInfos.length?this._fire("onTap",this._fixEvent(b)):2===a.touchInfos.length&&
this._fire("onTwoFingerTap",b)},_processedDoubleTap:function(a){var b=1===a[1].touchInfos.length,c;b&&(c=[this._fixEvent(a[0].event),this._fixEvent(a[1].event)],c[1].relatedEvents=c);a=[a[0].event,a[1].event];a[1].relatedEvents=a;this._fire("onProcessedDoubleTap",a[1]);b&&(this._fire("onDoubleTap",c[1]),this._fire("onDblClick",c[1]))},_mouseOver:function(a){this._fire("onMouseOver",this._processMouseEvent(a))},_mouseMove:function(a){this._fire("onMouseMove",this._processMouseEvent(a))},_mouseOut:function(a){this._fire("onMouseOut",
this._processMouseEvent(a))},_mouseLeave:function(a){document.removeEventListener("keydown",this._onKeyDown,!1);document.removeEventListener("keyup",this._onKeyUp,!1);this._fire("onMouseOut",this._processMouseEvent(event))},_mouseDown:function(a){this._downX=a.pageX;this._downY=a.pageY;this._fire("onMouseDown",this._processMouseEvent(a))},_mouseUp:function(a){this._fire("onMouseUp",this._processMouseEvent(a))},_mouseClick:function(a){Math.abs(a.pageX-this._downX)<=this.clickRadius&&Math.abs(a.pageY-
this._downY)<=this.clickRadius&&this._fire("onClick",this._processMouseEvent(a))},_mouseWheel:function(a){var b=this.map;(b?b.isScrollWheelZoom||b.isScrollWheelPan:this.preventPageScroll)&&a.preventDefault();var b=a.wheelDelta?a.wheelDelta/this.wheelDivisor:-a.detail/this.mozWheelDivisor,c=Math.abs(b),c=c<=this.minWheelValue?this.minWheelValue:this.maxWheelValue;a.value=0>b?-c:c;this._fire("onMouseWheel",this._processMouseEvent(a))},_mouseEnter:function(a){document.removeEventListener("keydown",this._onKeyDown,
!1);document.removeEventListener("keyup",this._onKeyUp,!1);document.addEventListener("keydown",this._onKeyDown,!1);document.addEventListener("keyup",this._onKeyUp,!1);this._fire("onMouseEnter",this._processMouseEvent(a))},_onKeyDown:function(a){this._fire("onKeyDown",a)},_onKeyUp:function(a){this._fire("onKeyUp",a)},_fire:function(a,b){if(this[a])this[a](b);if(this.map&&this.map[a])this.map[a](b)},_fixEvent:function(a){var b={},c;for(c in a)b[c]=a[c];this.map&&(b.screenPoint=b.screenPoints[0],b.mapPoint=
b.mapPoints[0]);return b},_processTouchEvent:function(a,b){var c=this.map,e=c&&c.position,d=0;if(e&&b)if(l.isArray(b)){var h,f;a.screenPoints=[];a.mapPoints=[];for(h=0;h<b.length;h++)b[h]?(f=new g(b[h].pageX-e.x,b[h].pageY-e.y),a.screenPoints.push(f),a.mapPoints.push(c.extent?c.toMap(f):new m)):d++}else a.screenPoint=new g(b.pageX-e.x,b.pageY-e.y),a.mapPoint=c.extent?c.toMap(a.screenPoint):new m;a.numPoints=b?l.isArray(b)?b.length-d:1:0;return a},_processMouseEvent:function(a){var b=this.map,c=b&&
b.position;c&&(a.screenPoint=new g(a.pageX-c.x,a.pageY-c.y),a.mapPoint=b.extent?b.toMap(a.screenPoint):new m);return a},setImmediateTap:function(a){this._immediate=a},destroy:function(){var a=this.node;a.removeEventListener("MSPointerDown",this._pointerDown,!1);a.removeEventListener("MSPointerMove",this._pointerMove,!1);a.removeEventListener("MSPointerUp",this._pointerUp,!1);a.removeEventListener("MSPointerCancel",this._pointerCancel,!1);this.map&&(a.removeEventListener("mouseover",this._mouseOver,
!1),a.removeEventListener("mousemove",this._mouseMove,!1),a.removeEventListener("mouseout",this._mouseOut,!1),a.removeEventListener("mouseleave",this._mouseLeave,!1),a.removeEventListener("mousedown",this._mouseDown,!1),a.removeEventListener("mouseup",this._mouseUp,!1),a.removeEventListener("click",this._mouseClick,!1),a.removeEventListener("mouseenter",this._mouseEnter,!1));clearTimeout(this._tapTimer);this.node=this.map=this._numTouches=this._touches=this._touchIds=this._taps=null}});r("extend-esri")&&
(d.PointerEvents=f);return f})},"esri/layers/JoinDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./DataSource ./LayerMapSource ./TableDataSource ./QueryDataSource ./RasterDataSource".split(" "),function(f,l,p,r,d,n,m,g,a,b){var c=f(n,{declaredClass:"esri.layers.JoinDataSource",constructor:function(a){a&&(a.leftTableSource&&(this.leftTableSource=this._createLayerSource(a.leftTableSource)),a.rightTableSource&&(this.rightTableSource=this._createLayerSource(a.rightTableSource)))},
_createLayerSource:function(e){var f;if("mapLayer"===e.type)f=new m(e);else{f={type:"dataLayer"};var h;switch(e.dataSource.type){case "table":h=new g(e.dataSource);break;case "queryTable":h=new a(e.dataSource);break;case "joinTable":h=new c(e.dataSource);break;case "raster":h=new b(e.dataSource);break;default:h=e.dataSource}f.dataSource=h;f.toJson=function(){var a={type:"dataLayer",dataSource:h.toJson()};return d.fixJson(a)}}return f},toJson:function(){var a={type:"joinTable",leftTableSource:this.leftTableSource&&
this.leftTableSource.toJson(),rightTableSource:this.rightTableSource&&this.rightTableSource.toJson(),leftTableKey:this.leftTableKey,rightTableKey:this.rightTableKey},b;b="left-outer-join"===this.joinType.toLowerCase()?"esriLeftOuterJoin":"left-inner-join"===this.joinType.toLowerCase()?"esriLeftInnerJoin":this.joinType;a.joinType=b;return d.fixJson(a)}});p("extend-esri")&&l.setObject("layers.JoinDataSource",c,r);return c})},"esri/layers/LayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang",
"dojo/has","../kernel","../lang"],function(f,l,p,r,d){f=f(null,{declaredClass:"esri.layers.LayerInfo",constructor:function(d){l.mixin(this,d)},toJson:function(){return d.fixJson({defaultVisibility:this.defaultVisibility,id:this.id,maxScale:this.maxScale,minScale:this.minScale,name:this.name,parentLayerId:this.parentLayerId,subLayerIds:this.subLayerIds})}});p("extend-esri")&&l.setObject("layers.LayerInfo",f,r);return f})},"esri/symbols/PictureFillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./FillSymbol".split(" "),
function(f,l,p,r,d,n,m,g){var a={xoffset:0,yoffset:0,width:12,height:12};f=f(g,{declaredClass:"esri.symbol.PictureFillSymbol",type:"picturefillsymbol",xscale:1,yscale:1,xoffset:0,yoffset:0,constructor:function(b,c,e,d){b?l.isString(b)?(this.url=b,void 0!==c&&(this.outline=c),void 0!==e&&(this.width=e),void 0!==d&&(this.height=d)):(this.xoffset=r.pt2px(b.xoffset),this.yoffset=r.pt2px(b.yoffset),this.width=r.pt2px(b.width),this.height=r.pt2px(b.height),c=b.imageData,!(9>p("ie"))&&c&&(e=this.url,this.url=
"data:"+(b.contentType||"image")+";base64,"+c,this.imageData=e)):(l.mixin(this,a),this.width=r.pt2px(this.width),this.height=r.pt2px(this.height))},setWidth:function(a){this.width=a;return this},setHeight:function(a){this.height=a;return this},setOffset:function(a,c){this.xoffset=a;this.yoffset=c;return this},setUrl:function(a){a!==this.url&&(delete this.imageData,delete this.contentType);this.url=a;return this},setXScale:function(a){this.xscale=a;return this},setYScale:function(a){this.yscale=a;
return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){return l.mixin({},r.defaultPattern,{src:this.url,width:this.width*this.xscale,height:this.height*this.yscale,x:this.xoffset,y:this.yoffset})},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 E"},fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){var a=this.url,c=this.imageData;if(0===a.indexOf("data:"))var e=a,a=c,c=e.indexOf(";base64,")+
8,c=e.substr(c);if(l.isString(a)&&(0===a.indexOf("/")||0===a.indexOf("//")||0===a.indexOf("./")||0===a.indexOf("../")))a=m.getAbsoluteUrl(a);var e=r.px2pt(this.width),e=isNaN(e)?void 0:e,d=r.px2pt(this.height),d=isNaN(d)?void 0:d,h=r.px2pt(this.xoffset),h=isNaN(h)?void 0:h,g=r.px2pt(this.yoffset),g=isNaN(g)?void 0:g,a=n.fixJson(l.mixin(this.inherited("toJson",arguments),{type:"esriPFS",url:a,imageData:c,contentType:this.contentType,width:e,height:d,xoffset:h,yoffset:g,xscale:this.xscale,yscale:this.yscale}));
a.imageData||delete a.imageData;return a}});f.defaultProps=a;p("extend-esri")&&(l.setObject("symbol.PictureFillSymbol",f,d),d.symbol.defaultPictureFillSymbol=a);return f})},"esri/layers/DataSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(f,l,p,r){f=f(null,{declaredClass:"esri.layers.DataSource",constructor:function(d){d&&l.mixin(this,d)},toJson:function(){}});p("extend-esri")&&l.setObject("layers.DataSource",f,r);return f})},"esri/symbols/ShieldLabelSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./MarkerSymbol ./Font".split(" "),
function(f,l,p,r,d,n,m,g,a){var b={url:"",width:12,height:12,angle:0,xoffset:0,yoffset:0};f=f(g,{declaredClass:"esri.symbol.ShieldLabelSymbol",type:"shieldlabelsymbol",color:[255,255,255,1],width:32,height:32,font:r.defaultFont,constructor:function(a,e,d,h,g){a?l.isString(a)?(this.url=a,e&&(this.color=e),d&&(this.width=d),h&&(this.height=h),void 0!==g&&(this.font=g)):(this.width=r.pt2px(a.width),this.height=r.pt2px(a.height),e=a.imageData,!(9>p("ie"))&&e&&(d=this.url,this.url="data:"+(a.contentType||
"image")+";base64,"+e,this.imageData=d)):l.mixin(this,b)},getStroke:function(){return null},getFill:function(){return this.color},setWidth:function(a){this.width=a;return this},setHeight:function(a){this.height=a;return this},setUrl:function(a){a!==this.url&&(delete this.imageData,delete this.contentType);this.url=a;return this},setFont:function(a){this.font=a;return this},setText:function(a){this.text=a;return this},getWidth:function(){return this.width},getHeight:function(){return this.height},
getShapeDescriptors:function(){return{defaultShape:{type:"image",x:-Math.round(this.width/2),y:-Math.round(this.height/2),width:this.width,height:this.height,src:this.url||""},fill:null,stroke:null}},toJson:function(){var b=this.url,e=this.imageData;if(0===b.indexOf("data:"))var d=b,b=e,e=d.indexOf(";base64,")+8,e=d.substr(e);var b=m.getAbsoluteUrl(b),d=r.px2pt(this.width),d=isNaN(d)?void 0:d,h=r.px2pt(this.height),h=isNaN(h)?void 0:h,b=n.fixJson(l.mixin(this.inherited("toJson",arguments),{type:"esriSHD",
url:b,imageData:e,contentType:this.contentType,width:d,height:h}));this.font?(e=new a(this.font),b.font=e.toJson()):b.font=null;delete b.size;b.imageData||delete b.imageData;return b}});f.defaultProps=b;p("extend-esri")&&(l.setObject("symbol.ShieldLabelSymbol",f,d),d.symbol.defaultShieldLabelSymbol=b);return f})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(f,l,p,r,d,n,m){l.add("rtl-adjust-position-for-verticalScrollBar",
function(a,b){var c=p.body(b),e=m.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},c,"last"),g=m.create("div",{style:{overflow:"hidden",direction:"ltr"}},e,"last"),h=0!=d.position(g).x;e.removeChild(g);c.removeChild(e);return h});l.add("position-fixed-support",function(a,b){var c=p.body(b),e=m.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},c,"last"),g=
m.create("span",{style:{position:"fixed",left:"0",top:"0"}},e,"last"),h=d.position(g).x!=d.position(e).x;e.removeChild(g);c.removeChild(e);return h});var g={getBox:function(a){a=a||p.doc;var b="BackCompat"==a.compatMode?p.body(a):a.documentElement,c=d.docScroll(a);if(l("touch")){var e=g.get(a);a=e.innerWidth||b.clientWidth;b=e.innerHeight||b.clientHeight}else a=b.clientWidth,b=b.clientHeight;return{l:c.x,t:c.y,w:a,h:b}},get:function(a){if(l("ie")&&g!==document.parentWindow){a.parentWindow.execScript("document._parentWindow \x3d window;",
"Javascript");var b=a._parentWindow;a._parentWindow=null;return b}return a.parentWindow||a.defaultView},scrollIntoView:function(a,b){try{a=r.byId(a);var c=a.ownerDocument||p.doc,e=p.body(c),g=c.documentElement||e.parentNode,h=l("ie"),f=l("webkit");if(!(a==e||a==g))if(!l("mozilla")&&(!h&&!f&&!l("opera")&&!l("trident"))&&"scrollIntoView"in a)a.scrollIntoView(!1);else{var q="BackCompat"==c.compatMode,m=Math.min(e.clientWidth||g.clientWidth,g.clientWidth||e.clientWidth),u=Math.min(e.clientHeight||g.clientHeight,
g.clientHeight||e.clientHeight),c=f||q?e:g,x=b||d.position(a),v=a.parentNode,f=function(a){return 6>=h||7==h&&q?!1:l("position-fixed-support")&&"fixed"==n.get(a,"position").toLowerCase()},C=this,z=function(a,b,e){"BODY"==a.tagName||"HTML"==a.tagName?C.get(a.ownerDocument).scrollBy(b,e):(b&&(a.scrollLeft+=b),e&&(a.scrollTop+=e))};if(!f(a))for(;v;){v==e&&(v=c);var w=d.position(v),D=f(v),B="rtl"==n.getComputedStyle(v).direction.toLowerCase();if(v==c){w.w=m;w.h=u;c==g&&(h&&B)&&(w.x+=c.offsetWidth-w.w);
if(0>w.x||!h||9<=h)w.x=0;if(0>w.y||!h||9<=h)w.y=0}else{var A=d.getPadBorderExtents(v);w.w-=A.w;w.h-=A.h;w.x+=A.l;w.y+=A.t;var y=v.clientWidth,H=w.w-y;0<y&&0<H&&(B&&l("rtl-adjust-position-for-verticalScrollBar")&&(w.x+=H),w.w=y);y=v.clientHeight;H=w.h-y;0<y&&0<H&&(w.h=y)}D&&(0>w.y&&(w.h+=w.y,w.y=0),0>w.x&&(w.w+=w.x,w.x=0),w.y+w.h>u&&(w.h=u-w.y),w.x+w.w>m&&(w.w=m-w.x));var F=x.x-w.x,E=x.y-w.y,G=F+x.w-w.w,K=E+x.h-w.h,I,J;if(0<G*F&&(v.scrollLeft||v==c||v.scrollWidth>v.offsetHeight)){I=Math[0>F?"max":
"min"](F,G);if(B&&(8==h&&!q||9<=h))I=-I;J=v.scrollLeft;z(v,I,0);I=v.scrollLeft-J;x.x-=I}if(0<K*E&&(v.scrollTop||v==c||v.scrollHeight>v.offsetHeight))I=Math.ceil(Math[0>E?"max":"min"](E,K)),J=v.scrollTop,z(v,0,I),I=v.scrollTop-J,x.y-=I;v=v!=c&&!D&&v.parentNode}}}catch(Q){console.error("scrollIntoView: "+Q),a.scrollIntoView(!1)}}};f.setObject("dojo.window",g);return g})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(f,l,p,r,d){var n=
{};f.setObject("dojo.number",n);n.format=function(d,a){a=f.mixin({},a||{});var b=l.normalizeLocale(a.locale),b=l.getLocalization("dojo.cldr","number",b);a.customs=b;b=a.pattern||b[(a.type||"decimal")+"Format"];return isNaN(d)||Infinity==Math.abs(d)?null:n._applyPattern(d,b,a)};n._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;n._applyPattern=function(d,a,b){b=b||{};var c=b.customs.group,e=b.customs.decimal;a=a.split(";");var f=a[0];a=a[0>d?1:0]||"-"+f;if(-1!=a.indexOf("%"))d*=100;else if(-1!=a.indexOf("\u2030"))d*=
1E3;else if(-1!=a.indexOf("\u00a4"))c=b.customs.currencyGroup||c,e=b.customs.currencyDecimal||e,a=a.replace(/\u00a4{1,3}/,function(a){return b[["symbol","currency","displayName"][a.length-1]]||b.currency||""});else if(-1!=a.indexOf("E"))throw Error("exponential notation not supported");var h=n._numberPatternRE,f=f.match(h);if(!f)throw Error("unable to find a number expression in pattern: "+a);!1===b.fractional&&(b.places=0);return a.replace(h,n._formatAbsolute(d,f[0],{decimal:e,group:c,places:b.places,
round:b.round}))};n.round=function(d,a,b){b=10/(b||10);return(b*+d).toFixed(a)/b};if(0==(0.9).toFixed()){var m=n.round;n.round=function(d,a,b){var c=Math.pow(10,-a||0),e=Math.abs(d);if(!d||e>=c)c=0;else if(e/=c,0.5>e||0.95<=e)c=0;return m(d,a,b)+(0<d?c:-c)}}n._formatAbsolute=function(d,a,b){b=b||{};!0===b.places&&(b.places=0);Infinity===b.places&&(b.places=6);a=a.split(".");var c="string"==typeof b.places&&b.places.indexOf(","),e=b.places;c?e=b.places.substring(c+1):0<=e||(e=(a[1]||[]).length);0>
b.round||(d=n.round(d,e,b.round));d=String(Math.abs(d)).split(".");var f=d[1]||"";a[1]||b.places?(c&&(b.places=b.places.substring(0,c)),c=void 0!==b.places?b.places:a[1]&&a[1].lastIndexOf("0")+1,c>f.length&&(d[1]=r.pad(f,c,"0",!0)),e<f.length&&(d[1]=f.substr(0,e))):d[1]&&d.pop();e=a[0].replace(",","");c=e.indexOf("0");-1!=c&&(c=e.length-c,c>d[0].length&&(d[0]=r.pad(d[0],c)),-1==e.indexOf("#")&&(d[0]=d[0].substr(d[0].length-c)));var e=a[0].lastIndexOf(","),h,m;-1!=e&&(h=a[0].length-e-1,a=a[0].substr(0,
e),e=a.lastIndexOf(","),-1!=e&&(m=a.length-e-1));a=[];for(e=d[0];e;)c=e.length-h,a.push(0<c?e.substr(c):e),e=0<c?e.slice(0,c):"",m&&(h=m,delete m);d[0]=a.reverse().join(b.group||",");return d.join(b.decimal||".")};n.regexp=function(d){return n._parseInfo(d).regexp};n._parseInfo=function(g){g=g||{};var a=l.normalizeLocale(g.locale),a=l.getLocalization("dojo.cldr","number",a),b=g.pattern||a[(g.type||"decimal")+"Format"],c=a.group,e=a.decimal,f=1;if(-1!=b.indexOf("%"))f/=100;else if(-1!=b.indexOf("\u2030"))f/=
1E3;else{var h=-1!=b.indexOf("\u00a4");h&&(c=a.currencyGroup||c,e=a.currencyDecimal||e)}a=b.split(";");1==a.length&&a.push("-"+a[0]);a=d.buildGroupRE(a,function(a){a="(?:"+d.escapeString(a,".")+")";return a.replace(n._numberPatternRE,function(a){var b={signed:!1,separator:g.strict?c:[c,""],fractional:g.fractional,decimal:e,exponent:!1};a=a.split(".");var d=g.places;1==a.length&&1!=f&&(a[1]="###");1==a.length||0===d?b.fractional=!1:(void 0===d&&(d=g.pattern?a[1].lastIndexOf("0")+1:Infinity),d&&void 0==
g.fractional&&(b.fractional=!0),!g.places&&d<a[1].length&&(d+=","+a[1].length),b.places=d);a=a[0].split(",");1<a.length&&(b.groupSize=a.pop().length,1<a.length&&(b.groupSize2=a.pop().length));return"("+n._realNumberRegexp(b)+")"})},!0);h&&(a=a.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,b,e,c){a=d.escapeString(g[["symbol","currency","displayName"][e.length-1]]||g.currency||"");b=b?"[\\s\\xa0]":"";c=c?"[\\s\\xa0]":"";return!g.strict?(b&&(b+="*"),c&&(c+="*"),"(?:"+b+a+c+")?"):b+a+c}));
return{regexp:a.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:c,decimal:e,factor:f}};n.parse=function(d,a){var b=n._parseInfo(a),c=RegExp("^"+b.regexp+"$").exec(d);if(!c)return NaN;var e=c[1];if(!c[1]){if(!c[2])return NaN;e=c[2];b.factor*=-1}e=e.replace(RegExp("["+b.group+"\\s\\xa0]","g"),"").replace(b.decimal,".");return e*b.factor};n._realNumberRegexp=function(g){g=g||{};"places"in g||(g.places=Infinity);"string"!=typeof g.decimal&&(g.decimal=".");if(!("fractional"in g)||/^0/.test(g.places))g.fractional=
[!0,!1];"exponent"in g||(g.exponent=[!0,!1]);"eSigned"in g||(g.eSigned=[!0,!1]);var a=n._integerRegexp(g),b=d.buildGroupRE(g.fractional,function(a){var b="";a&&0!==g.places&&(b="\\"+g.decimal,b=Infinity==g.places?"(?:"+b+"\\d+)?":b+("\\d{"+g.places+"}"));return b},!0),c=d.buildGroupRE(g.exponent,function(a){return a?"([eE]"+n._integerRegexp({signed:g.eSigned})+")":""}),a=a+b;b&&(a="(?:(?:"+a+")|(?:"+b+"))");return a+c};n._integerRegexp=function(g){g=g||{};"signed"in g||(g.signed=[!0,!1]);"separator"in
g?"groupSize"in g||(g.groupSize=3):g.separator="";var a=d.buildGroupRE(g.signed,function(a){return a?"[-+]":""},!0),b=d.buildGroupRE(g.separator,function(a){if(!a)return"(?:\\d+)";a=d.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var b=g.groupSize,f=g.groupSize2;return f?(a="(?:0|[1-9]\\d{0,"+(f-1)+"}(?:["+a+"]\\d{"+f+"})*["+a+"]\\d{"+b+"})",0<b-f?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(b-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(b-1)+"}(?:["+a+"]\\d{"+b+"})*)"},!0);return a+b};return n})},"esri/geometry/Polygon":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./Extent ./mathUtils".split(" "),
function(f,l,p,r,d,n,m,g,a,b,c){var e={type:"polygon",rings:null},k=f(g,{declaredClass:"esri.geometry.Polygon",constructor:function(a){p.mixin(this,e);this.rings=[];this._ring=0;a&&(p.isArray(a)?this.rings=p.isArray(a[0][0])?a:[a]:a.rings?p.mixin(this,a):this.spatialReference=a,this.spatialReference&&(this.spatialReference=new m(this.spatialReference)));this.verifySR()},_extent:null,addRing:function(a){this._extent=this._centroid=null;this._ring=this.rings.length;this.rings[this._ring]=[];p.isArray(a[0])?
l.forEach(a,this._addPointArr,this):l.forEach(a,this._addPoint,this);return this},_addPointArr:function(a){this.rings[this._ring].push(a)},_addPoint:function(a){this.rings[this._ring].push([a.x,a.y])},_insertPoints:function(a,b){this._extent=this._centroid=null;this._ring=b;this.rings[this._ring]||(this.rings[this._ring]=[]);l.forEach(a,this._addPoint,this)},_validateInputs:function(a,b){return null!==a&&void 0!==a&&(0>a||a>=this.rings.length)||null!==b&&void 0!==a&&(0>b||b>=this.rings[a].length)?
!1:!0},getPoint:function(b,e){if(this._validateInputs(b,e))return new a(this.rings[b][e],this.spatialReference)},setPoint:function(a,b,e){if(this._validateInputs(a,b))return this._extent=this._centroid=null,this.rings[a][b]=[e.x,e.y],this},insertPoint:function(a,b,e){if(this._validateInputs(a)&&n.isDefined(b)&&0<=b&&b<=this.rings[a].length)return this._extent=this._centroid=null,this.rings[a].splice(b,0,[e.x,e.y]),this},removeRing:function(b){if(this._validateInputs(b,null)){this._extent=this._centroid=
null;b=this.rings.splice(b,1)[0];var e,c=b.length,d=this.spatialReference;for(e=0;e<c;e++)b[e]=new a(b[e],d);return b}},removePoint:function(b,e){if(this._validateInputs(b,e))return this._extent=this._centroid=null,new a(this.rings[b].splice(e,1)[0],this.spatialReference)},getExtent:function(){var a;if(this._extent)return a=new b(this._extent),a._partwise=this._partwise,a;a=this.rings;var e=a.length;if(e&&a[0].length){var c,d,g,f,k,m,l,n,p=f=a[0][0][0],r=k=a[0][0][1],A=Math.min,y=Math.max,H=this.spatialReference,
F=[],E,G,K,I;for(m=0;m<e;m++){c=a[m];E=G=c[0]&&c[0][0];K=I=c[0]&&c[0][1];n=c.length;for(l=0;l<n;l++)d=c[l],g=d[0],d=d[1],p=A(p,g),r=A(r,d),f=y(f,g),k=y(k,d),E=A(E,g),K=A(K,d),G=y(G,g),I=y(I,d);F.push(new b({xmin:E,ymin:K,xmax:G,ymax:I,spatialReference:H?H.toJson():null}))}this._extent={xmin:p,ymin:r,xmax:f,ymax:k,spatialReference:H?H.toJson():null};this._partwise=1<F.length?F:null;a=new b(this._extent);a._partwise=this._partwise;return a}},contains:function(b){var e=this.rings,c,d=!1,g,f,k,m,l,n,
p=e.length;c=this.spatialReference;g=b.spatialReference;var r=b.x;b=b.y;c&&(g&&!c.equals(g)&&c._canProject(g))&&(b=c.isWebMercator()?a.lngLatToXY(r,b):a.xyToLngLat(r,b,!0),r=b[0],b=b[1]);for(n=0;n<p;n++){c=e[n];k=c.length;for(l=m=0;l<k;l++)if(m++,m===k&&(m=0),g=c[l],f=c[m],(g[1]<b&&f[1]>=b||f[1]<b&&g[1]>=b)&&g[0]+(b-g[1])/(f[1]-g[1])*(f[0]-g[0])<r)d=!d}return d},getCentroid:function(){if(null!=this._centroid)return this._centroid;var b,e,c,d,g=[],f,k;l.forEach(this.rings,function(a){b=e=c=0;l.forEach(a,
function(d,g){g<a.length-1&&(f=a[g+1],k=d[0]*f[1]-f[0]*d[1],b+=(d[0]+f[0])*k,e+=(d[1]+f[1])*k,c+=k)});0<c&&(c*=-1);g.push([b,e,c/2])});g.sort(function(a,b){return a[2]-b[2]});d=6*g[0][2];return this._centroid=new a(g[0][0]/d,g[0][1]/d,this.spatialReference)},isClockwise:function(a){var b=0,e,c=a.length,d=p.isArray(a[0])?function(a,b){return a[0]*b[1]-b[0]*a[1]}:function(a,b){return a.x*b.y-b.x*a.y};for(e=0;e<c;e++)b+=d(a[e],a[(e+1)%c]);return 0>=b/2},isSelfIntersecting:function(a){a=a||this;var b,
e,d,g,f,k,m,l=a.rings.length,n;for(d=0;d<l;d++){for(b=0;b<a.rings[d].length-1;b++){f=[[a.rings[d][b][0],a.rings[d][b][1]],[a.rings[d][b+1][0],a.rings[d][b+1][1]]];for(e=d+1;e<l;e++)for(g=0;g<a.rings[e].length-1;g++)if(k=[[a.rings[e][g][0],a.rings[e][g][1]],[a.rings[e][g+1][0],a.rings[e][g+1][1]]],(m=c._getLineIntersection2(f,k))&&!(m[0]===f[0][0]&&m[1]===f[0][1]||m[0]===k[0][0]&&m[1]===k[0][1]||m[0]===f[1][0]&&m[1]===f[1][1]||m[0]===k[1][0]&&m[1]===k[1][1]))return!0}g=a.rings[d].length;if(!(4>=g))for(b=
0;b<g-3;b++){n=g-1;0===b&&(n=g-2);f=[[a.rings[d][b][0],a.rings[d][b][1]],[a.rings[d][b+1][0],a.rings[d][b+1][1]]];for(e=b+2;e<n;e++)if(k=[[a.rings[d][e][0],a.rings[d][e][1]],[a.rings[d][e+1][0],a.rings[d][e+1][1]]],(m=c._getLineIntersection2(f,k))&&!(m[0]===f[0][0]&&m[1]===f[0][1]||m[0]===k[0][0]&&m[1]===k[0][1]||m[0]===f[1][0]&&m[1]===f[1][1]||m[0]===k[1][0]&&m[1]===k[1][1]))return!0}}return!1},toJson:function(){var a={rings:p.clone(this.rings)},b=this.spatialReference;b&&(a.spatialReference=b.toJson());
return a}});k.defaultProps=e;k.createEllipse=function(a){var b=a.center.x,e=a.center.y,c=a.longAxis,d=a.shortAxis,g=a.numberOfPoints,f=a.map,m,l,n;a=[];var p=2*Math.PI/g;for(l=0;l<g;l++)m=Math.cos(l*p),n=Math.sin(l*p),m=f.toMap({x:c*m+b,y:d*n+e}),a.push(m);a.push(a[0]);b=new k(f.spatialReference);b.addRing(a);return b};k.createCircle=function(a){return k.createEllipse({center:a.center,longAxis:a.r,shortAxis:a.r,numberOfPoints:a.numberOfPoints,map:a.map})};k.fromExtent=function(a){var b=a.xmin,e=a.ymin,
c=a.xmax,d=a.ymax;a=a.spatialReference;return new k({rings:[[[b,e],[b,d],[c,d],[c,e],[b,e]]],spatialReference:a?a.toJson():null})};r("extend-esri")&&(p.setObject("geometry.Polygon",k,d),d.geometry.defaultPolygon=e,d.geometry.createEllipse=k.createEllipse,d.geometry.createCircle=k.createCircle,d.geometry.isClockwise=k.prototype.isClockwise,d.geometry.polygonSelfIntersecting=k.prototype.isSelfIntersecting);return k})},"esri/InfoWindowBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Deferred dojo/dom-construct dojo/has dijit/registry ./kernel ./lang ./geometry/ScreenPoint".split(" "),
function(f,l,p,r,d,n,m,g,a,b,c){f=f(null,{declaredClass:"esri.InfoWindowBase",constructor:function(){var a=l.hitch;this.__set_title=a(this,this.__set_title);this.__err_title=a(this,this.__err_title);this.__set_content=a(this,this.__set_content);this.__err_content=a(this,this.__err_content)},setMap:function(a){this.map=a},unsetMap:function(a){delete this.map},setTitle:function(){},setContent:function(){},show:function(){},hide:function(){},resize:function(){},onShow:function(){},onHide:function(){},
place:function(a,c){b.isDefined(a)?l.isObject(a)?n.place(a,c,"only"):c.innerHTML=a:c.innerHTML=""},startupDijits:function(a){this._processDijits(a)},destroyDijits:function(a){this._processDijits(a,!0)},_processDijits:function(a,b){if(a&&1===a.children.length){var c=a.children[0];if(c){var d=g.byNode(c),c=d?[d]:g.findWidgets(c);p.forEach(c,function(a){if(b){if(a._started&&!a._destroyed)try{a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy()}catch(e){console.debug("An error occurred when destroying a widget embedded within InfoWindow: "+
e.message)}}else if(!a._started)try{a.startup()}catch(c){console.debug("An error occurred when starting a widget embedded within InfoWindow: "+c.message)}})}}},__registerMapListeners:function(){this.__unregisterMapListeners();var a=this.map;this.__handles=[r.connect(a,"onPan",this,this.__onMapPan),r.connect(a,"onZoomStart",this,this.__onMapZmStart),r.connect(a,"onExtentChange",this,this.__onMapExtChg)]},__unregisterMapListeners:function(){var a=this.__handles;a&&(p.forEach(a,r.disconnect,r),this.__handles=
null)},__onMapPan:function(a,b){this.move(b,!0)},__onMapZmStart:function(){this.__mcoords=this.mapCoords||this.map.toMap(new c(this.coords));this.hide(null,!0)},__onMapExtChg:function(a,b,c){a=this.map;var d=this.mapCoords;d?this.show(d,null,!0):(b=c?a.toScreen(this.__mcoords):this.coords.offset(b&&b.x||0,b&&b.y||0),this.show(b,null,!0))},__setValue:function(a,c){this[a].innerHTML="";var g="_dfd"+a,f=this[g];f&&-1===f.fired&&(f.cancel(),this[g]=null);b.isDefined(c)&&(c instanceof d?(this[g]=c,c.addCallbacks(this["__set"+
a],this["__err"+a])):this.__render(a,c))},__set_title:function(a){this._dfd_title=null;this.__render("_title",a)},__err_title:function(a){this._dfd_title=null},__set_content:function(a){this._dfd_content=null;this.__render("_content",a)},__err_content:function(a){this._dfd_content=null},__render:function(a,b){var c=this[a];this.place(b,c);this.isShowing&&(this.startupDijits(c),"_title"===a&&this._adjustContentArea&&this._adjustContentArea())}});m("extend-esri")&&(a.InfoWindowBase=f);return f})},"esri/layers/TileMap":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/io-query ../request ../urlUtils".split(" "),
function(f,l,p,r,d,n,m){return f(null,{declaredClass:"esri.layers.TileMap",constructor:function(d){this.layer=d;this._tileMaps={}},getTile:function(d,a,b,c,e){d={id:c,level:d,row:a,col:b};a=this._getResamplingBudget();0<a?this._process({tile:d,requestedTile:d,callback:e,resamplingBudget:a}):(e||this.callback).call(this,d,d)},statusOf:function(d,a,b){var c=this._getResamplingBudget();d={level:d,row:a,col:b};if(0===c)return 1;for(;0<=c;){a=this._tileToTileMap(d);if(!this._tileMaps[a.uid])return-1;a=
this._tileMaps[a.uid];if(!a.promise.isFulfilled())return-1;if(this._isTileAvailable(d,a))return 1;d=this._parentTile(d);if(!d)break;c--}return 0},style:function(d,a){if(!(d.level===a.level&&d.row===a.row&&d.col===a.col)){for(var b=this.layer.tileInfo,c=b.lods,e=b.cols,b=b.rows,f,h,m=c.length-1;!f||!h;)!f&&c[m].level===d.level&&(f=c[m]),!h&&c[m].level===a.level&&(h=c[m]),m--;c=Math.round(f.resolution/h.resolution);return{width:e*c+"px",height:b*c+"px",margin:"-"+a.row%c*b+"px 0 0 -"+a.col%c*e+"px"}}},
_process:function(d){var a=d.tile,b=this._tileToTileMap(a),c=this._parentTile(a);this._getTileMap(b).then(l.hitch(this,function(e){b=e;this._isTileAvailable(a,b)?(d.callback||this.callback).call(this,a,d.requestedTile):0<d.resamplingBudget&&c?(d.resamplingBudget--,d.tile=c,this._process(d)):(d.callback||this.callback).call(this,d.requestedTile,d.requestedTile)}),l.hitch(this,function(){(d.callback||this.callback).call(this,d.requestedTile,d.requestedTile)}))},_getTileMap:function(d){var a,b,c,e,f=
null;this._tileMaps[d.uid]?(d=this._tileMaps[d.uid],a=d.promise):(this._tileMaps[d.uid]=d,b=new r,n({url:this._getTileMapUrl(d.level,d.row,d.col),handleAs:"json",callbackParamName:"callback",timeout:3E3,load:function(a){l.mixin(d,a);if(d.data&&0<d.data.length){e=d.data.length;if(1===e)f=d.data[0];else{f=d.data[0];for(c=1;c<e;c++)if(d.data[c]!==f){f=null;break}}null!==f&&(delete d.data,d.value=f)}b.resolve(d)},error:function(a){b.reject()}}),a=d.promise=b.promise);return a},_parentTile:function(d){var a=
this.layer.tileInfo.lods,b,c,e=null;p.some(a,function(a,e){return d.level===a.level?(b=a,c=e,!0):!1});0<c&&(a=a[c-1],e={id:d.id,level:a.level,row:Math.floor(d.row*b.resolution/a.resolution+0.01),col:Math.floor(d.col*b.resolution/a.resolution+0.01)});return e},_tileToTileMap:function(d){var a=8*Math.floor(d.row/8),b=8*Math.floor(d.col/8);return{uid:d.level+"_"+a+"_"+b,level:d.level,row:a,col:b}},_isTileAvailable:function(d,a){var b,c;a.valid?void 0!==a.value?b=a.value:(b=a.location.left,c=a.location.top,
b=(d.row-c)*a.location.width+(d.col-b),b=b<a.data.length?a.data[b]:0):b=0;return b},_getTileMapUrl:function(f,a,b){var c=this.layer,e=c.tileServers,k=c._getToken(),h=c._url.query;f=(e?e[a%e.length]:c._url.path)+"/tilemap/"+f+"/"+a+"/"+b+"/8/8";h&&(f+="?"+d.objectToQuery(h));if(k&&(!h||!h.token))f+=(-1===f.indexOf("?")?"?":"\x26")+"token\x3d"+k;f=c.addTimestampToURL(f);return m.addProxy(f)},_getResamplingBudget:function(){var d=this.layer,a=0;if(d.resampling&&(a=d._resamplingTolerance,null===a||void 0===
a))a=d.tileInfo.lods.length;return a}})})},"esri/units":function(){define(["dojo/has","./kernel"],function(f,l){var p={CENTIMETERS:"esriCentimeters",DECIMAL_DEGREES:"esriDecimalDegrees",DEGREE_MINUTE_SECONDS:"esriDegreeMinuteSeconds",DECIMETERS:"esriDecimeters",FEET:"esriFeet",INCHES:"esriInches",KILOMETERS:"esriKilometers",METERS:"esriMeters",MILES:"esriMiles",MILLIMETERS:"esriMillimeters",NAUTICAL_MILES:"esriNauticalMiles",POINTS:"esriPoints",UNKNOWN:"esriUnknownUnits",YARDS:"esriYards",ACRES:"esriAcres",
ARES:"esriAres",SQUARE_KILOMETERS:"esriSquareKilometers",SQUARE_MILES:"esriSquareMiles",SQUARE_FEET:"esriSquareFeet",SQUARE_METERS:"esriSquareMeters",HECTARES:"esriHectares",SQUARE_YARDS:"esriSquareYards",SQUARE_INCHES:"esriSquareInches",SQUARE_MILLIMETERS:"esriSquareMillimeters",SQUARE_CENTIMETERS:"esriSquareCentimeters",SQUARE_DECIMETERS:"esriSquareDecimeters",SQUARE_NAUTICAL_MILES:"esriSquareNauticalMiles"};f("extend-esri")&&(l.Units=p);return p})},"dojox/collections/ArrayList":function(){define(["dojo/_base/kernel",
"dojo/_base/array","./_base"],function(f,l,p){p.ArrayList=function(l){var d=[];l&&(d=d.concat(l));this.count=d.length;this.add=function(f){d.push(f);this.count=d.length};this.addRange=function(f){if(f.getIterator)for(f=f.getIterator();!f.atEnd();)this.add(f.get());else for(var m=0;m<f.length;m++)d.push(f[m]);this.count=d.length};this.clear=function(){d.splice(0,d.length);this.count=0};this.clone=function(){return new p.ArrayList(d)};this.contains=function(f){for(var m=0;m<d.length;m++)if(d[m]==f)return!0;
return!1};this.forEach=function(l,m){f.forEach(d,l,m)};this.getIterator=function(){return new p.Iterator(d)};this.indexOf=function(f){for(var m=0;m<d.length;m++)if(d[m]==f)return m;return-1};this.insert=function(f,m){d.splice(f,0,m);this.count=d.length};this.item=function(f){return d[f]};this.remove=function(f){f=this.indexOf(f);0<=f&&d.splice(f,1);this.count=d.length};this.removeAt=function(f){d.splice(f,1);this.count=d.length};this.reverse=function(){d.reverse()};this.sort=function(f){f?d.sort(f):
d.sort()};this.setByIndex=function(f,m){d[f]=m;this.count=d.length};this.toArray=function(){return[].concat(d)};this.toString=function(f){return d.join(f||",")}};return p.ArrayList})},"dojo/fx/Toggler":function(){define(["../_base/lang","../_base/declare","../_base/fx","../aspect"],function(f,l,p,r){return l("dojo.fx.Toggler",null,{node:null,showFunc:p.fadeIn,hideFunc:p.fadeOut,showDuration:200,hideDuration:200,constructor:function(d){f.mixin(this,d);this.node=d.node;this._showArgs=f.mixin({},d);
this._showArgs.node=this.node;this._showArgs.duration=this.showDuration;this.showAnim=this.showFunc(this._showArgs);this._hideArgs=f.mixin({},d);this._hideArgs.node=this.node;this._hideArgs.duration=this.hideDuration;this.hideAnim=this.hideFunc(this._hideArgs);r.after(this.showAnim,"beforeBegin",f.hitch(this.hideAnim,"stop",!0),!0);r.after(this.hideAnim,"beforeBegin",f.hitch(this.showAnim,"stop",!0),!0)},show:function(d){return this.showAnim.play(d||0)},hide:function(d){return this.hideAnim.play(d||
0)}})})},"esri/renderers/ClassBreaksRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer".split(" "),function(f,l,p,r,d,n,m,g){f=f(g,{declaredClass:"esri.renderer.ClassBreaksRenderer",constructor:function(a,b){this.breaks=[];this._symbols={};this.infos=[];this.isMaxInclusive=!0;if(a&&!a.declaredClass){var c=a;this.attributeField=c.field;this.defaultSymbol=(a=c.defaultSymbol)&&(a.declaredClass?a:m.fromJson(a));this.backgroundFillSymbol=
(a=c.backgroundFillSymbol)&&(a.declaredClass?a:m.fromJson(a));this._copy(["defaultLabel","classificationMethod:rest","normalizationType:rest","normalizationField","normalizationTotal"],c,this);var e=c.minValue;(c=c.classBreakInfos)&&(c[0]&&n.isDefined(c[0].classMaxValue))&&l.forEach(c,function(a){var b=a.classMaxValue;a.minValue=e;e=a.maxValue=b},this);l.forEach(c,this._addBreakInfo,this)}else this.defaultSymbol=a,this.attributeField=b},addBreak:function(a,b,c){a=p.isObject(a)?a:{minValue:a,maxValue:b,
symbol:c};this._addBreakInfo(a)},removeBreak:function(a,b){var c,e=this.breaks,d,f=e.length,g=this._symbols;for(d=0;d<f;d++)if(c=e[d],c[0]==a&&c[1]==b){e.splice(d,1);delete g[a+"-"+b];this.infos.splice(d,1);break}},clearBreaks:function(){this.breaks=[];this._symbols={};this.infos=[]},getBreakIndex:function(a){var b=this.attributeField,c=a.attributes,e=this.breaks,d=e.length,f=this.isMaxInclusive;if(p.isFunction(b))a=b(a);else{a=parseFloat(c[b]);var b=this.normalizationType,g;b&&(g=parseFloat(this.normalizationTotal),
c=parseFloat(c[this.normalizationField]),"log"===b?a=Math.log(a)*Math.LOG10E:"percent-of-total"===b&&!isNaN(g)?a=100*(a/g):"field"===b&&!isNaN(c)&&(a/=c))}for(c=0;c<d;c++)if(b=e[c],b[0]<=a&&(f?a<=b[1]:a<b[1]))return c;return-1},getBreakInfo:function(a){a=this.getBreakIndex(a);return-1!==a?this.infos[a]:null},getSymbol:function(a){return(a=this.breaks[this.getBreakIndex(a)])?this._symbols[a[0]+"-"+a[1]]:this.defaultSymbol},setMaxInclusive:function(a){this.isMaxInclusive=a},_normalizationTypeEnums:[["field",
"esriNormalizeByField"],["log","esriNormalizeByLog"],["percent-of-total","esriNormalizeByPercentOfTotal"]],_classificationMethodEnums:[["natural-breaks","esriClassifyNaturalBreaks"],["equal-interval","esriClassifyEqualInterval"],["quantile","esriClassifyQuantile"],["standard-deviation","esriClassifyStandardDeviation"],["geometrical-interval","esriClassifyGeometricalInterval"]],_copy:function(a,b,c){l.forEach(a,function(a){var d=a.split(":"),f,g,m;1<d.length&&(a=d[0],f=this["_"+a+"Enums"],"rest"===
d[1]?(g="1",m="0"):"sdk"===d[1]&&(g="0",m="1"));d=b[a];if(void 0!==d&&(c[a]=d,f&&g)){var l,n=f.length;for(l=0;l<n;l++)if(f[l][g]===d){c[a]=f[l][m];break}}},this)},_addBreakInfo:function(a){var b=a.minValue,c=a.maxValue;this.breaks.push([b,c]);this.infos.push(a);var e=a.symbol;e&&!e.declaredClass&&(a.symbol=m.fromJson(e));this._symbols[b+"-"+c]=a.symbol},toJson:function(){var a=this.infos||[],b=n.fixJson,c=a[0]&&a[0].minValue,e=this.backgroundFillSymbol,a=p.mixin(this.inherited(arguments),{type:"classBreaks",
field:this.attributeField,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.toJson(),backgroundFillSymbol:e&&e.toJson(),minValue:-Infinity===c?-Number.MAX_VALUE:c,classBreakInfos:l.map(a,function(a){a=p.mixin({},a);a.symbol=a.symbol&&a.symbol.toJson();a.classMaxValue=Infinity===a.maxValue?Number.MAX_VALUE:a.maxValue;delete a.minValue;delete a.maxValue;return b(a)})});this._copy(["defaultLabel","classificationMethod:sdk","normalizationType:sdk","normalizationField","normalizationTotal"],this,a);
return b(a)}});r("extend-esri")&&p.setObject("renderer.ClassBreaksRenderer",f,d);return f})},"esri/layers/ImageParameters":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has ../kernel ../lang ../layerUtils".split(" "),function(f,l,p,r,d,n,m,g){l=l(null,{declaredClass:"esri.layers.ImageParameters",constructor:function(){this.layerDefinitions=[]},bbox:null,extent:null,width:null,height:null,dpi:null,format:null,imageSpatialReference:null,layerOption:null,
layerIds:null,transparent:null,timeExtent:null,layerTimeOptions:null,toJson:function(a){this.bbox&&f.deprecated(this.declaredClass+" : Property 'bbox' deprecated. Use property 'extent'.");var b=this.bbox||this.extent,b=b&&a&&b._normalize(!0);a=this.layerOption;var c=b?b.spatialReference.wkid||r.toJson(b.spatialReference.toJson()):null,e=this.imageSpatialReference,b={dpi:this.dpi,format:this.format,transparent:this.transparent,size:null!==this.width&&null!==this.height?this.width+","+this.height:null,
bbox:b?b.xmin+","+b.ymin+","+b.xmax+","+b.ymax:null,bboxSR:c,layers:a?a+":"+this.layerIds.join(","):null,imageSR:e?e.wkid||r.toJson(e.toJson()):c};b.layerDefs=g._serializeLayerDefinitions(this.layerDefinitions);a=this.timeExtent;b.time=a?a.toJson().join(","):null;b.layerTimeOptions=g._serializeTimeOptions(this.layerTimeOptions);return m.filter(b,function(a){if(null!==a)return!0})}});p.mixin(l,{LAYER_OPTION_SHOW:"show",LAYER_OPTION_HIDE:"hide",LAYER_OPTION_INCLUDE:"include",LAYER_OPTION_EXCLUDE:"exclude"});
d("extend-esri")&&p.setObject("layers.ImageParameters",l,n);return l})},"esri/renderers/TimeClassBreaksAger":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has dojo/date ../kernel ../lang ../symbols/jsonUtils ../Color ./SymbolAger".split(" "),function(f,l,p,r,d,n,m,g,a,b){var c=f(b,{declaredClass:"esri.renderer.TimeClassBreaksAger",constructor:function(a,b){this.infos=a;this.timeUnits=b||"day";a.sort(function(a,b){return a.minAge<b.minAge?-1:a.minAge>b.minAge?1:0})},getAgedSymbol:function(a,
b){var c=b.getLayer(),f=b.attributes,q=m.isDefined;a=g.fromJson(a.toJson());var n=c._map.timeExtent.endTime;if(!n)return a;var p=d.difference(new Date(f[c._startTimeField]),n,this.timeUnits);l.some(this.infos,function(b){if(p>=b.minAge&&p<=b.maxAge){var c=b.color,d=b.size;b=b.alpha;c&&a.setColor(c);q(d)&&this._setSymbolSize(a,d);q(b)&&a.color&&(a.color.a=b);return!0}},this);return a},toJson:function(){var b={agerClassBreakInfos:[]},c,d,f;b.timeUnits=this._getRestUnits(this.timeUnits);for(c=0;c<this.infos.length;c+=
1)d=this.infos[c],f={},f.oldestAge=Infinity===d.maxAge?null:d.maxAge,f.size=d.size,d.color&&(f.color=a.toJsonColor(d.color)),d.alpha&&(f.alpha=Math.round(255*d.alpha)),b.agerClassBreakInfos[c]=f;return b},_getRestUnits:function(a){var b="esriTimeUnitsDays";switch(a){case c.UNIT_SECONDS:b="esriTimeUnitsSeconds";break;case c.UNIT_MILLISECONDS:b="esriTimeUnitsMilliseconds";break;case c.UNIT_HOURS:b="esriTimeUnitsHours";break;case c.UNIT_MINUTES:b="esriTimeUnitsMinutes";break;case c.UNIT_MONTHS:b="esriTimeUnitsMonths";
break;case c.UNIT_WEEKS:b="esriTimeUnitsWeeks";break;case c.UNIT_YEARS:b="esriTimeUnitsYears"}return b}});p.mixin(c,{UNIT_DAYS:"day",UNIT_HOURS:"hour",UNIT_MILLISECONDS:"millisecond",UNIT_MINUTES:"minute",UNIT_MONTHS:"month",UNIT_SECONDS:"second",UNIT_WEEKS:"week",UNIT_YEARS:"year"});r("extend-esri")&&p.setObject("renderer.TimeClassBreaksAger",c,n);return c})},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(f,
l,p,r,d){var n=null;p.add("vml",function(d,f,a){a.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';d="adj"in a.firstChild;a.innerHTML="";return d});return{load:function(m,g,a){function b(){g(["dojox/gfx/"+c],function(b){f.renderer=c;n=b;a(b)})}if(n&&"force"!=m)a(n);else{var c=d.forceGfxRenderer;m=!c&&(l.isString(d.gfxRenderer)?d.gfxRenderer:"svg,vml,canvas,silverlight").split(",");for(var e,k;!c&&m.length;)switch(m.shift()){case "svg":"SVGAngle"in r.global&&(c="svg");break;case "vml":p("vml")&&(c="vml");break;
case "silverlight":try{p("ie")?(e=new ActiveXObject("AgControl.AgControl"))&&e.IsVersionSupported("1.0")&&(k=!0):navigator.plugins["Silverlight Plug-In"]&&(k=!0)}catch(h){k=!1}finally{e=null}k&&(c="silverlight");break;case "canvas":r.global.CanvasRenderingContext2D&&(c="canvas")}"canvas"===c&&!1!==d.canvasEvents&&(c="canvasWithEvents");d.isDebug&&console.log("gfx renderer \x3d "+c);"svg"==c&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(b):b()}}}})},"esri/domUtils":function(){define(["dojo/_base/connect",
"dojo/_base/lang","dojo/dom-style","dojo/has","./kernel"],function(f,l,p,r,d){var n={show:function(d){d&&(d.style.display="block")},hide:function(d){d&&(d.style.display="none")},toggle:function(d){d.style.display="none"===d.style.display?"block":"none"},documentBox:8>=r("ie")?{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}:{w:window.innerWidth,h:window.innerHeight},setScrollable:function(d){var g=0,a=0,b=0,c=0,e=0,k=0;return[f.connect(d,"ontouchstart",function(f){g=
f.touches[0].screenX;a=f.touches[0].screenY;b=d.scrollWidth;c=d.scrollHeight;e=d.clientWidth;k=d.clientHeight}),f.connect(d,"ontouchmove",function(f){f.preventDefault();var l=d.firstChild;l instanceof Text&&(l=d.childNodes[1]);var q=l._currentX||0,n=l._currentY||0,q=q+(f.touches[0].screenX-g);0<q?q=0:0>q&&Math.abs(q)+e>b&&(q=-1*(b-e));l._currentX=q;n+=f.touches[0].screenY-a;0<n?n=0:0>n&&Math.abs(n)+k>c&&(n=-1*(c-k));l._currentY=n;p.set(l,{"-webkit-transition-property":"-webkit-transform","-webkit-transform":"translate("+
q+"px, "+n+"px)"});g=f.touches[0].screenX;a=f.touches[0].screenY})]}};r("extend-esri")&&l.mixin(d,n);return n})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(f,l,p){var r={},d={},n={length:0,add:function(f){if(d[f.id])throw Error("Tried to register widget with id\x3d\x3d"+f.id+" but that id is already registered");d[f.id]=f;this.length++},remove:function(f){d[f]&&(delete d[f],this.length--)},byId:function(f){return"string"==typeof f?d[f]:f},byNode:function(f){return d[f.getAttribute("widgetId")]},
toArray:function(){var f=[],g;for(g in d)f.push(d[g]);return f},getUniqueId:function(f){var g;do g=f+"_"+(f in r?++r[f]:r[f]=0);while(d[g]);return"dijit"==p._scopeName?g:p._scopeName+"_"+g},findWidgets:function(f,g){function a(c){for(c=c.firstChild;c;c=c.nextSibling)if(1==c.nodeType){var e=c.getAttribute("widgetId");e?(e=d[e])&&b.push(e):c!==g&&a(c)}}var b=[];a(f);return b},_destroyAll:function(){p._curFocus=null;p._prevFocus=null;p._activeStack=[];f.forEach(n.findWidgets(l.body()),function(d){d._destroyed||
(d.destroyRecursive?d.destroyRecursive():d.destroy&&d.destroy())})},getEnclosingWidget:function(f){for(;f;){var g=1==f.nodeType&&f.getAttribute("widgetId");if(g)return d[g];f=f.parentNode}return null},_hash:d};return p.registry=n})},"esri/main":function(){define(["./kernel","dojo/i18n!./nls/jsapi","./config","./sniff"],function(f,l){f.bundle=l;return f})},"dojo/io/script":function(){define("../_base/connect ../_base/kernel ../_base/lang ../sniff ../_base/window ../_base/xhr ../dom ../dom-construct ../request/script ../aspect".split(" "),
function(f,l,p,r,d,n,m,g,a,b){l.deprecated("dojo/io/script","Use dojo/request/script.","2.0");var c={get:function(e){var d,f=this._makeScriptDeferred(e,function(a){d&&d.cancel()}),g=f.ioArgs;n._ioAddQueryToUrl(g);n._ioNotifyStart(f);d=a.get(g.url,{timeout:e.timeout,jsonp:g.jsonp,checkString:e.checkString,ioArgs:g,frameDoc:e.frameDoc,canAttach:function(a){g.requestId=a.id;g.scriptId=a.scriptId;g.canDelete=a.canDelete;return c._canAttach(g)}},!0);b.around(d,"isValid",function(a){return function(b){c._validCheck(f);
return a.call(this,b)}});d.then(function(){f.resolve(f)}).otherwise(function(a){f.ioArgs.error=a;f.reject(a)});return f},attach:a._attach,remove:a._remove,_makeScriptDeferred:function(b,d){var f=n._ioSetArgs(b,d||this._deferredCancel,this._deferredOk,this._deferredError),g=f.ioArgs;g.id=l._scopeName+"IoScript"+(b.callbackSuffix||this._counter++);g.canDelete=!1;g.jsonp=b.callbackParamName||b.jsonp;g.jsonp&&(g.query=g.query||"",0<g.query.length&&(g.query+="\x26"),g.query+=g.jsonp+"\x3d"+(b.frameDoc?
"parent.":"")+l._scopeName+".io.script.jsonp_"+g.id+"._jsonpCallback",g.frameDoc=b.frameDoc,g.canDelete=!0,f._jsonpCallback=this._jsonpCallback,this["jsonp_"+g.id]=f);f.addBoth(function(b){g.canDelete&&(b instanceof Error?c["jsonp_"+g.id]._jsonpCallback=function(){delete c["jsonp_"+g.id];if(g.requestId)l.global[a._callbacksProperty][g.requestId]()}:c._addDeadScript(g))});return f},_deferredCancel:function(a){a.canceled=!0},_deferredOk:function(a){a=a.ioArgs;return a.json||a.scriptLoaded||a},_deferredError:function(a,
b){console.log("dojo.io.script error",a);return a},_deadScripts:[],_counter:1,_addDeadScript:function(a){c._deadScripts.push({id:a.id,frameDoc:a.frameDoc});a.frameDoc=null},_validCheck:function(a){if((a=c._deadScripts)&&0<a.length){for(var b=0;b<a.length;b++)c.remove(a[b].id,a[b].frameDoc),delete c["jsonp_"+a[b].id],a[b].frameDoc=null;c._deadScripts=[]}return!0},_ioCheck:function(a){a=a.ioArgs;return a.json||a.scriptLoaded&&!a.args.checkString?!0:(a=a.args.checkString)&&eval("typeof("+a+") !\x3d 'undefined'")},
_resHandle:function(a){c._ioCheck(a)?a.callback(a):a.errback(Error("inconceivable dojo.io.script._resHandle error"))},_canAttach:function(){return!0},_jsonpCallback:function(b){this.ioArgs.json=b;if(this.ioArgs.requestId)l.global[a._callbacksProperty][this.ioArgs.requestId](b)}};p.setObject("dojo.io.script",c);return c})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(f,
l,p,r,d,n,m,g,a){function b(a,b,e,c){return c.replace(/([a-z])\1*/ig,function(d){var f,g,h=d.charAt(0);d=d.length;var l=["abbr","wide","narrow"];switch(h){case "G":f=b[4>d?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":f=a.getFullYear();switch(d){case 1:break;case 2:if(!e.fullYear){f=String(f);f=f.substr(f.length-2);break}default:g=!0}break;case "Q":case "q":f=Math.ceil((a.getMonth()+1)/3);g=!0;break;case "M":case "L":f=a.getMonth();3>d?(f+=1,g=!0):(h=["months","L"==h?"standAlone":"format",
l[d-3]].join("-"),f=b[h][f]);break;case "w":f=k._getWeekOfYear(a,0);g=!0;break;case "d":f=a.getDate();g=!0;break;case "D":f=k._getDayOfYear(a);g=!0;break;case "e":case "c":if(f=a.getDay(),2>d){f=(f-r.getFirstDayOfWeek(e.locale)+8)%7;break}case "E":f=a.getDay();3>d?(f+=1,g=!0):(h=["days","c"==h?"standAlone":"format",l[d-3]].join("-"),f=b[h][f]);break;case "a":h=12>a.getHours()?"am":"pm";f=e[h]||b["dayPeriods-format-wide-"+h];break;case "h":case "H":case "K":case "k":g=a.getHours();switch(h){case "h":f=
g%12||12;break;case "H":f=g;break;case "K":f=g%12;break;case "k":f=g||24}g=!0;break;case "m":f=a.getMinutes();g=!0;break;case "s":f=a.getSeconds();g=!0;break;case "S":f=Math.round(a.getMilliseconds()*Math.pow(10,d-3));g=!0;break;case "v":case "z":if(f=k._getZone(a,!0,e))break;d=4;case "Z":h=k._getZone(a,!1,e);h=[0>=h?"+":"-",m.pad(Math.floor(Math.abs(h)/60),2),m.pad(Math.abs(h)%60,2)];4==d&&(h.splice(0,0,"GMT"),h.splice(3,0,":"));f=h.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
c);}g&&(f=m.pad(f,d));return f})}function c(a,b,e,c){var d=function(a){return a};b=b||d;e=e||d;c=c||d;var f=a.match(/(''|[^'])+/g),g="'"==a.charAt(0);l.forEach(f,function(a,c){a?(f[c]=(g?e:b)(a.replace(/''/g,"'")),g=!g):f[c]=""});return c(f.join(""))}function e(a,b,e,c){c=n.escapeString(c);e.strict||(c=c.replace(" a"," ?a"));return c.replace(/([a-z])\1*/ig,function(c){var d;d=c.charAt(0);var f=c.length,g="",h="";e.strict?(1<f&&(g="0{"+(f-1)+"}"),2<f&&(h="0{"+(f-2)+"}")):(g="0?",h="0{0,2}");switch(d){case "y":d=
"\\d{2,4}";break;case "M":case "L":d=2<f?"\\S+?":"1[0-2]|"+g+"[1-9]";break;case "D":d="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+g+"[1-9][0-9]|"+h+"[1-9]";break;case "d":d="3[01]|[12]\\d|"+g+"[1-9]";break;case "w":d="[1-4][0-9]|5[0-3]|"+g+"[1-9]";break;case "E":case "e":case "c":d=".+?";break;case "h":d="1[0-2]|"+g+"[1-9]";break;case "k":d="1[01]|"+g+"\\d";break;case "H":d="1\\d|2[0-3]|"+g+"\\d";break;case "K":d="1\\d|2[0-4]|"+g+"[1-9]";break;case "m":case "s":d="[0-5]\\d";break;case "S":d="\\d{"+f+"}";
break;case "a":f=e.am||b["dayPeriods-format-wide-am"];g=e.pm||b["dayPeriods-format-wide-pm"];d=f+"|"+g;e.strict||(f!=f.toLowerCase()&&(d+="|"+f.toLowerCase()),g!=g.toLowerCase()&&(d+="|"+g.toLowerCase()),-1!=d.indexOf(".")&&(d+="|"+d.replace(/\./g,"")));d=d.replace(/\./g,"\\.");break;default:d=".*"}a&&a.push(c);return"("+d+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var k={};f.setObject(a.id.replace(/\//g,"."),k);k._getZone=function(a,b,e){return b?p.getTimezoneName(a):a.getTimezoneOffset()};k.format=
function(a,e){e=e||{};var g=d.normalizeLocale(e.locale),h=e.formatLength||"short",g=k._getGregorianBundle(g),m=[],l=f.hitch(this,b,a,g,e);if("year"==e.selector)return c(g["dateFormatItem-yyyy"]||"yyyy",l);var n;"date"!=e.selector&&(n=e.timePattern||g["timeFormat-"+h])&&m.push(c(n,l));"time"!=e.selector&&(n=e.datePattern||g["dateFormat-"+h])&&m.push(c(n,l));return 1==m.length?m[0]:g["dateTimeFormat-"+h].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return m[b]})};k.regexp=function(a){return k._parseInfo(a).regexp};
k._parseInfo=function(a){a=a||{};var b=d.normalizeLocale(a.locale),b=k._getGregorianBundle(b),g=a.formatLength||"short",h=a.datePattern||b["dateFormat-"+g],m=a.timePattern||b["timeFormat-"+g],g="date"==a.selector?h:"time"==a.selector?m:b["dateTimeFormat-"+g].replace(/\{(\d+)\}/g,function(a,b){return[m,h][b]}),l=[];return{regexp:c(g,f.hitch(this,e,l,b,a)),tokens:l,bundle:b}};k.parse=function(a,b){var e=/[\u200E\u200F\u202A\u202E]/g,c=k._parseInfo(b),d=c.tokens,f=c.bundle,e=RegExp("^"+c.regexp.replace(e,
"")+"$",c.strict?"":"i").exec(a&&a.replace(e,""));if(!e)return null;var g=["abbr","wide","narrow"],h=[1970,0,1,0,0,0,0],m="",e=l.every(e,function(a,e){if(!e)return!0;var c=d[e-1],k=c.length,c=c.charAt(0);switch(c){case "y":if(2!=k&&b.strict)h[0]=a;else if(100>a)a=Number(a),c=""+(new Date).getFullYear(),k=100*c.substring(0,2),c=Math.min(Number(c.substring(2,4))+20,99),h[0]=a<c?k+a:k-100+a;else{if(b.strict)return!1;h[0]=a}break;case "M":case "L":if(2<k){if(k=f["months-"+("L"==c?"standAlone":"format")+
"-"+g[k-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),k=l.map(k,function(a){return a.replace(".","").toLowerCase()})),a=l.indexOf(k,a),-1==a)return!1}else a--;h[1]=a;break;case "E":case "e":case "c":k=f["days-"+("c"==c?"standAlone":"format")+"-"+g[k-3]].concat();b.strict||(a=a.toLowerCase(),k=l.map(k,function(a){return a.toLowerCase()}));a=l.indexOf(k,a);if(-1==a)return!1;break;case "D":h[1]=0;case "d":h[2]=a;break;case "a":k=b.am||f["dayPeriods-format-wide-am"];c=b.pm||f["dayPeriods-format-wide-pm"];
if(!b.strict){var n=/\./g;a=a.replace(n,"").toLowerCase();k=k.replace(n,"").toLowerCase();c=c.replace(n,"").toLowerCase()}if(b.strict&&a!=k&&a!=c)return!1;m=a==c?"p":a==k?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;h[3]=a;break;case "m":h[4]=a;break;case "s":h[5]=a;break;case "S":h[6]=a}return!0}),c=+h[3];"p"===m&&12>c?h[3]=c+12:"a"===m&&12==c&&(h[3]=0);c=new Date(h[0],h[1],h[2],h[3],h[4],h[5],h[6]);b.strict&&c.setFullYear(h[0]);var n=d.join(""),r=-1!=n.indexOf("d"),
n=-1!=n.indexOf("M");if(!e||n&&c.getMonth()>h[1]||r&&c.getDate()>h[2])return null;if(n&&c.getMonth()<h[1]||r&&c.getDate()<h[2])c=p.add(c,"hour",1);return c};var h=[];k.addCustomFormats=function(a,b){h.push({pkg:a,name:b})};k._getGregorianBundle=function(a){var b={};l.forEach(h,function(e){e=d.getLocalization(e.pkg,e.name,a);b=f.mixin(b,e)},this);return b};k.addCustomFormats(a.id.replace(/\/date\/locale$/,".cldr"),"gregorian");k.getNames=function(a,b,e,c){var d;c=k._getGregorianBundle(c);a=[a,e,b];
"standAlone"==e&&(e=a.join("-"),d=c[e],1==d[0]&&(d=void 0));a[1]="format";return(d||c[a.join("-")]).concat()};k.isWeekend=function(a,b){var e=r.getWeekend(b),c=(a||new Date).getDay();e.end<e.start&&(e.end+=7,c<e.start&&(c+=7));return c>=e.start&&c<=e.end};k._getDayOfYear=function(a){return p.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};k._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var e=(new Date(a.getFullYear(),0,1)).getDay(),c=Math.floor((k._getDayOfYear(a)+(e-b+7)%7-
1)/7);e==b&&c++;return c};return k})},"esri/renderers/SymbolAger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(f,l,p,r){f=f(null,{declaredClass:"esri.renderer.SymbolAger",getAgedSymbol:function(d,f){},_setSymbolSize:function(d,f){switch(d.type){case "simplemarkersymbol":d.setSize(f);break;case "picturemarkersymbol":d.setWidth(f);d.setHeight(f);break;case "simplelinesymbol":case "cartographiclinesymbol":d.setWidth(f);break;case "simplefillsymbol":case "picturefillsymbol":d.outline&&
d.outline.setWidth(f)}}});p("extend-esri")&&l.setObject("renderer.SymbolAger",f,r);return f})},"esri/config":function(){define(["dojo/_base/config","dojo/topic","dojo/has","./kernel"],function(f,l,p,r){var d={defaults:{screenDPI:96,geometryService:null,kmlService:null,map:{width:400,height:400,layerNamePrefix:"layer",graphicsLayerNamePrefix:"graphicsLayer",slider:{left:"30px",top:"30px",width:null,height:"200px"},sliderLabel:{tick:5,labels:null,style:"width:2em; font-family:Verdana; font-size:75%;"},
sliderChangeImmediate:!0,zoomSymbol:{color:[0,0,0,64],outline:{color:[255,0,0,255],width:1.25,style:"esriSLSSolid"},style:"esriSFSSolid"},zoomDuration:500,zoomRate:25,panDuration:350,panRate:25,logoLink:"http://www.esri.com",basemaps:{streets:{title:"Streets",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer"}]},satellite:{title:"Satellite",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}]},hybrid:{title:"Imagery with Labels",
baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"},{url:"http://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",isReference:!0}]},topo:{title:"Topographic",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer"}]},gray:{title:"Light Gray Canvas",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer"},
{url:"http://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",isReference:!0}]},oceans:{title:"Oceans",baseMapLayers:[{url:"http://services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{url:"http://services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",isReference:!0}]},"national-geographic":{title:"National Geographic",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer"}]},
osm:{title:"OpenStreetMap",baseMapLayers:[{type:"OpenStreetMap"}]}}},autoSpatialIndexing:window.Worker&&!1,io:{errorHandler:function(d,f){l.publish("esri.Error",[d])},proxyUrl:null,alwaysUseProxy:!1,useCors:!0,corsEnabledServers:"www.arcgis.com tiles.arcgis.com services.arcgis.com services1.arcgis.com services2.arcgis.com services3.arcgis.com static.arcgis.com utility.arcgisonline.com geocode.arcgis.com geoenrich.arcgis.com qaext.arcgis.com tilesqa.arcgis.com servicesqa.arcgis.com servicesqa1.arcgis.com servicesqa2.arcgis.com servicesqa3.arcgis.com geocodeqa.arcgis.com geoenrichqa.arcgis.com dev.arcgis.com devext.arcgis.com tilesdevext.arcgis.com servicesdev.arcgis.com servicesdev1.arcgis.com servicesdev2.arcgis.com servicesdev3.arcgis.com geocodedev.arcgis.com geoenrichdev.arcgis.com".split(" "),
corsDetection:window.cordova?!1:!0,_processedCorsServers:{},webTierAuthServers:[],proxyRules:[],postLength:2E3,timeout:6E4,useWorkers:"on-request",maxRequestWorkers:5}}};p("extend-esri")&&(r.config=d);f.noGlobals||(window.esriConfig=d);return d})},"esri/utils":function(){define("./domUtils ./lang ./urlUtils ./request ./tileUtils ./graphicsUtils ./deferredUtils ./layerUtils ./geometry/normalizeUtils".split(" "),function(){return{}})},"esri/kernel":function(){define(["dojo/_base/kernel","dojo/_base/config",
"dojo/has"],function(f,l,p){var r=window.location,d=r.pathname,d={version:"3.11",_appBaseUrl:r.protocol+"//"+r.host+d.substring(0,d.lastIndexOf(d.split("/")[d.split("/").length-1]))};l.noGlobals||(window.esri=d);f.isAsync||p.add("extend-esri",1);(d.dijit=d.dijit||{})._arcgisUrl=("file:"===r.protocol?"http:":r.protocol)+"//www.arcgis.com/sharing/rest";return d})},"esri/symbols/SimpleFillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./FillSymbol ./SimpleLineSymbol require".split(" "),
function(f,l,p,r,d,n,m,g,a,b){var c={STYLE_SOLID:"solid",STYLE_NULL:"none",STYLE_HORIZONTAL:"horizontal",STYLE_VERTICAL:"vertical",STYLE_FORWARD_DIAGONAL:"forwarddiagonal",STYLE_BACKWARD_DIAGONAL:"backwarddiagonal",STYLE_CROSS:"cross",STYLE_DIAGONAL_CROSS:"diagonalcross",STYLE_FORWARDDIAGONAL:"forwarddiagonal",STYLE_BACKWARDDIAGONAL:"backwarddiagonal",STYLE_DIAGONALCROSS:"diagonalcross"},e={style:c.STYLE_SOLID,color:[0,0,0,0.25]};f=f(g,{declaredClass:"esri.symbol.SimpleFillSymbol",type:"simplefillsymbol",
patternUrlPrefix:b.toUrl("../images/symbol/sfs/"),_styles:{solid:"esriSFSSolid",none:"esriSFSNull",horizontal:"esriSFSHorizontal",vertical:"esriSFSVertical",forwarddiagonal:"esriSFSForwardDiagonal",backwarddiagonal:"esriSFSBackwardDiagonal",cross:"esriSFSCross",diagonalcross:"esriSFSDiagonalCross"},constructor:function(b,c,d){b?l.isString(b)?(this.style=b,void 0!==c&&(this.outline=c),void 0!==d&&(this.color=d)):this.style=m.valueOf(this._styles,b.style):(l.mixin(this,e),this.outline=new a(this.outline),
this.color=new p(this.color))},setStyle:function(a){this.style=a;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){var a=this.style;return a===c.STYLE_NULL?null:a===c.STYLE_SOLID?this.color:l.mixin({},d.defaultPattern,{src:this.patternUrlPrefix+a+".png",width:10,height:10})},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 E"},fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){return m.fixJson(l.mixin(this.inherited("toJson",
arguments),{type:"esriSFS",style:this._styles[this.style]}))}});l.mixin(f,c);f.defaultProps=e;r("extend-esri")&&(l.setObject("symbol.SimpleFillSymbol",f,n),n.symbol.defaultSimpleFillSymbol=e);return f})},"esri/layers/DynamicLayerInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./LayerInfo ./LayerMapSource ./LayerDataSource".split(" "),function(f,l,p,r,d,n,m,g){f=f(n,{declaredClass:"esri.layers.DynamicLayerInfo",defaultVisibility:!0,parentLayerId:-1,maxScale:0,
minScale:0,constructor:function(a){a&&(a.source?a="mapLayer"===a.source.type?new m(a.source):new g(a.source):(a=new m,a.mapLayerId=this.id),this.source=a)},toJson:function(){var a=this.inherited(arguments);a.source=this.source&&this.source.toJson();return d.fixJson(a)}});p("extend-esri")&&l.setObject("layers.DynamicLayerInfo",f,r);return f})},"esri/geometry/scaleUtils":function(){define("dojo/_base/lang dojo/has ../kernel ../config ../lang ../WKIDUnitConversion".split(" "),function(f,l,p,r,d,n){function m(e,
d,f){return e&&d?e.getWidth()/d*(f||b)*a*c.screenDPI:0}function g(d,f,g,m,k){return d.expand(m*f/(((k?g:e.values[e[g]])||b)*a*c.screenDPI)/d.getWidth())}var a=39.37,b=20015077/180,c=r.defaults,e=n,k={getUnitValue:function(a){var b,c,d;a&&("object"===typeof a?(b=a.wkid,c=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(c=a));b?d=e.values[e[b]]:c&&-1!==c.search(/^PROJCS/i)&&(a=/UNIT\[([^\]]+)\]\]$/i.exec(c))&&a[1]&&(d=parseFloat(a[1].split(",")[1]));return d},getScale:function(a,b,e){var c,f,g;
1<arguments.length&&d.isDefined(b)&&!b.declaredClass?(c=a,f=b,b=null,g=k.getUnitValue(e)):(c=b||a.extent,f=a.width,g=k.getUnitValue(c&&c.spatialReference));return m(c,f,g)},getExtentForScale:function(a,b,e){return g(e||a.extent,a.width,k.getUnitValue(a.spatialReference),b,!0)}};l("extend-esri")&&(f.mixin(f.getObject("geometry",!0,p),k),p.geometry._getScale=m,p.geometry._getExtentForScale=g);return k})},"dojo/io/iframe":function(){define("../_base/config ../_base/json ../_base/kernel ../_base/lang ../_base/xhr ../sniff ../_base/window ../dom ../dom-construct ../query require ../aspect ../request/iframe".split(" "),
function(f,l,p,r,d,n,m,g,a,b,c,e,k){p.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");n=k._iframeName;n=n.substring(0,n.lastIndexOf("_"));var h=r.delegate(k,{create:function(){return h._frame=k.create.apply(k,arguments)},get:null,post:null,send:function(a){var b,c=d._ioSetArgs(a,function(a){b&&b.cancel()},function(a){var c=null;a=a.ioArgs;try{var e=a.handleAs;"xml"===e||"html"===e?c=b.response.data:(c=b.response.text,"json"===e?c=l.fromJson(c):"javascript"===e&&(c=p.eval(c)))}catch(d){c=
d}return c},function(a,b){b.ioArgs._hasError=!0;return a}),h=c.ioArgs,m="GET",n=g.byId(a.form);a.method&&("POST"===a.method.toUpperCase()&&n)&&(m="POST");a={method:m,handleAs:"json"===a.handleAs||"javascript"===a.handleAs?"text":a.handleAs,form:a.form,query:n?null:a.content,data:n?a.content:null,timeout:a.timeout,ioArgs:h};a.method&&(a.method=a.method.toUpperCase());if(f.ioPublish&&p.publish&&!1!==h.args.ioPublish)var r=e.after(k,"_notifyStart",function(a){a.options.ioArgs===h&&(r.remove(),d._ioNotifyStart(c))},
!0);b=k(h.url,a,!0);h._callNext=b._callNext;b.then(function(){c.resolve(c)}).otherwise(function(a){c.ioArgs.error=a;c.reject(a)});return c},_iframeOnload:m.global[n+"_onload"]});r.setObject("dojo.io.iframe",h);return h})},"esri/tileUtils":function(){define(["dojo/_base/array","dojo/has","./kernel","./geometry/Point","./geometry/Extent"],function(f,l,p,r,d){var n={_addFrameInfo:function(d,g){var a,b,c=2*g.origin[1],e=g.origin[0],k=d.origin.x,h=d.width,l;f.forEach(d.lods,function(d){a=Math.round(c/
d.resolution);b=Math.ceil(a/h);l=Math.floor((e-k)/(h*d.resolution));d._frameInfo||(d._frameInfo=[b,l,l+b-1,a])})},getContainingTileCoords:function(d,f,a){var b=d.origin;a=a.resolution;return{row:Math.floor((b.y-f.y)/(d.height*a)),col:Math.floor((f.x-b.x)/(d.width*a))}},getCandidateTileInfo:function(f,g,a){var b;b=f.width;for(var c=f.height,e=a.xmax-a.xmin,k=a.ymax-a.ymin,h=f.__tileInfo===g,l=h?f.getMinZoom():-1,h=h?f.getMaxZoom():-1,q=-1,n=g.lods,p=Math.abs,x,v,C,h=-1<h?h:n.length-1,l=-1<l?l:0;l<=
h;l++)if(v=n[l])if(C=e>k?p(k-c*v.resolution):p(e-b*v.resolution),0>q||C<=q)x=v,q=C;else break;b=x;x=b.resolution;c=(a.xmin+a.xmax)/2;e=(a.ymin+a.ymax)/2;k=f.width/2*x;x*=f.height/2;c=new d(c-k,e-x,c+k,e+x,a.spatialReference);a=new r(c.xmin,c.ymax,a.spatialReference);h=b.resolution;k=g.width;e=g.height;g=g.origin;f=f.__visibleDelta;x=Math.floor;n=k*h;p=e*h;h=x((g.y-a.y)/p);q=x((a.x-g.x)/n);l=g.y-h*p;g=x(Math.abs((a.x-(g.x+q*n))*k/n))+f.x;f=x(Math.abs((a.y-l)*e/p))+f.y;return{tile:{point:a,coords:{row:h,
col:q},offsets:{x:g,y:f}},lod:b,extent:c}},getTileExtent:function(f,g,a,b){var c=f.origin;g=f.lods[g].resolution;var e=f.width,k=f.height;return new d(b*g*e+c.x,c.y-(a+1)*g*k,(b+1)*g*e+c.x,c.y-a*g*k,f.spatialReference)}};l("extend-esri")&&(p.TileUtils=n);return n})},"esri/renderers/SimpleRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer".split(" "),function(f,l,p,r,d,n,m){f=f(m,{declaredClass:"esri.renderer.SimpleRenderer",constructor:function(d){if(d&&
!d.declaredClass){var a=d;this.symbol=(d=a.symbol)&&(d.declaredClass?d:n.fromJson(d));this.label=a.label;this.description=a.description}else this.symbol=d},getSymbol:function(d){return this.symbol},toJson:function(){var f=l.mixin(this.inherited(arguments),{type:"simple",label:this.label,description:this.description,symbol:this.symbol&&this.symbol.toJson()});return d.fixJson(f)}});p("extend-esri")&&l.setObject("renderer.SimpleRenderer",f,r);return f})},"esri/symbols/MarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ./Symbol".split(" "),
function(f,l,p,r,d,n){f=f(n,{declaredClass:"esri.symbol.MarkerSymbol",angle:0,xoffset:0,yoffset:0,size:12,constructor:function(d){d&&l.isObject(d)&&(this.size="auto"===this.size?this.size:r.pt2px(this.size),this.xoffset=r.pt2px(this.xoffset),this.yoffset=r.pt2px(this.yoffset),this.angle&&(this.angle*=-1))},setAngle:function(d){this.angle=d;return this},setSize:function(d){this.size=d;return this},setOffset:function(d,f){this.xoffset=d;this.yoffset=f;return this},toJson:function(){var d=r.px2pt(this.size),
d=isNaN(d)?void 0:d,f=r.px2pt(this.xoffset),f=isNaN(f)?void 0:f,a=r.px2pt(this.yoffset),a=isNaN(a)?void 0:a;return l.mixin(this.inherited("toJson",arguments),{size:"auto"===this.size?this.size:d,angle:this.angle&&-1*this.angle,xoffset:f,yoffset:a})}});p("extend-esri")&&l.setObject("symbol.MarkerSymbol",f,d);return f})},"esri/layers/RangeDomain":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./Domain".split(" "),function(f,l,p,r,d,n){f=f([n],{declaredClass:"esri.layers.RangeDomain",
constructor:function(d){d&&l.isObject(d)&&(this.minValue=d.range[0],this.maxValue=d.range[1])},toJson:function(){var f=this.inherited(arguments);f.range=[this.minValue,this.maxValue];return d.fixJson(f)}});p("extend-esri")&&l.setObject("layers.RangeDomain",f,r);return f})},"esri/layers/Field":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ./RangeDomain ./CodedValueDomain".split(" "),function(f,l,p,r,d,n){f=f(null,{declaredClass:"esri.layers.Field",constructor:function(f){if(f&&
l.isObject(f)&&(this.name=f.name,this.type=f.type,this.alias=f.alias,this.length=f.length,this.editable=f.editable,this.nullable=f.nullable,(f=f.domain)&&l.isObject(f)))switch(f.type){case "range":this.domain=new d(f);break;case "codedValue":this.domain=new n(f)}}});p("extend-esri")&&l.setObject("layers.Field",f,r);return f})},"esri/geometry/Point":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry".split(" "),function(f,l,p,r,d,n,m){function g(a,
c){89.99999<c?c=89.99999:-89.99999>c&&(c=-89.99999);var e=c*k;return[a*k*b,b/2*Math.log((1+Math.sin(e))/(1-Math.sin(e)))]}function a(a,d,f){a=a/b*e;if(f)return d=c/2-2*Math.atan(Math.exp(-1*d/b)),[a,d*e];f=a-360*Math.floor((a+180)/360);d=c/2-2*Math.atan(Math.exp(-1*d/b));return[f,d*e]}var b=6378137,c=3.141592653589793,e=57.29577951308232,k=0.017453292519943,h={type:"point",x:0,y:0};f=f(m,{declaredClass:"esri.geometry.Point",constructor:function(a,b,c){l.mixin(this,h);l.isArray(a)?(this.x=a[0],this.y=
a[1],this.spatialReference=b):l.isObject(a)?(l.mixin(this,a),d.isDefined(this.latitude)&&(this.y=this.latitude),d.isDefined(this.longitude)&&(this.x=this.longitude),this.spatialReference&&(this.spatialReference=new n(this.spatialReference))):(this.x=a,this.y=b,this.spatialReference=c);this.verifySR()},offset:function(a,b){return new this.constructor(this.x+a,this.y+b,this.spatialReference)},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setLongitude:function(a){var b=
this.spatialReference;b&&(b._isWebMercator()?this.x=g(a,this.y)[0]:4326===b.wkid&&(this.x=a));return this},setLatitude:function(a){var b=this.spatialReference;b&&(b._isWebMercator()?this.y=g(this.x,a)[1]:4326===b.wkid&&(this.y=a));return this},getLongitude:function(){var b=this.spatialReference,c;b&&(b._isWebMercator()?c=a(this.x,this.y)[0]:4326===b.wkid&&(c=this.x));return c},getLatitude:function(){var b=this.spatialReference,c;b&&(b._isWebMercator()?c=a(this.x,this.y)[1]:4326===b.wkid&&(c=this.y));
return c},update:function(a,b){this.x=a;this.y=b;return this},normalize:function(){var a=this.x,b=this.spatialReference;if(b){var c=b._getInfo();if(c){var e=c.valid[0],d=c.valid[1],c=2*d;a>d?(e=Math.ceil(Math.abs(a-d)/c),a-=e*c):a<e&&(e=Math.ceil(Math.abs(a-e)/c),a+=e*c)}}return new this.constructor(a,this.y,b)},toJson:function(){var a={x:this.x,y:this.y},b=this.spatialReference;b&&(a.spatialReference=b.toJson());return a}});f.lngLatToXY=g;f.xyToLngLat=a;f.defaultProps=h;p("extend-esri")&&(l.setObject("geometry.Point",
f,r),r.geometry.defaultPoint=h);return f})},"esri/map":function(){define("require dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/event dojo/on dojo/aspect dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dijit/registry ./kernel ./config ./sniff ./lang ./_coremap ./MapNavigationManager".split(" "),function(f,l,p,r,d,n,m,g,a,b,c,e,k,h,s,q,t,u,x,v,C){var z={up:"panUp",right:"panRight",down:"panDown",left:"panLeft"},w={upperRight:"panUpperRight",
lowerRight:"panLowerRight",lowerLeft:"panLowerLeft",upperLeft:"panUpperLeft"},D=r.connect,B=r.disconnect,A=e.create,y=h.set,H=d.hitch,F=k.getMarginBox,E=l.deprecated,G=d.mixin,K=0;l=p(v,{declaredClass:"esri.Map",constructor:function(b,c){G(this,{_slider:null,_navDiv:null,_mapParams:G({attributionWidth:0.45,slider:!0,nav:!1,logo:!0,sliderStyle:"small",sliderPosition:"top-left",sliderOrientation:"vertical",autoResize:!0},c||{})});G(this,{isDoubleClickZoom:!1,isShiftDoubleClickZoom:!1,isClickRecenter:!1,
isScrollWheelZoom:!1,isPan:!1,isRubberBandZoom:!1,isKeyboardNavigation:!1,isPanArrows:!1,isZoomSlider:!1});d.isFunction(q._css)&&(q._css=q._css(this._mapParams.force3DTransforms),this.force3DTransforms=this._mapParams.force3DTransforms);var e=u("esri-transforms")&&u("esri-transitions");this.navigationMode=this._mapParams.navigationMode||e&&"css-transforms"||"classic";"css-transforms"===this.navigationMode&&!e&&(this.navigationMode="classic");this.fadeOnZoom=x.isDefined(this._mapParams.fadeOnZoom)?
this._mapParams.fadeOnZoom:"css-transforms"===this.navigationMode;"css-transforms"!==this.navigationMode&&(this.fadeOnZoom=!1);this.setMapCursor("default");this.smartNavigation=c&&c.smartNavigation;if(!x.isDefined(this.smartNavigation)&&u("mac")&&!u("esri-touch")&&!u("esri-pointer")&&!(3.5>=u("ff"))){var h=navigator.userAgent.match(/Mac\s+OS\s+X\s+([\d]+)(\.|\_)([\d]+)\D/i);h&&(x.isDefined(h[1])&&x.isDefined(h[3]))&&(e=parseInt(h[1],10),h=parseInt(h[3],10),this.smartNavigation=10<e||10===e&&6<=h)}this.showAttribution=
x.isDefined(this._mapParams.showAttribution)?this._mapParams.showAttribution:!1;this._onLoadHandler_connect=D(this,"onLoad",this,"_onLoadInitNavsHandler");var k=A("div",{"class":"esriControlsBR"+(this._mapParams.nav?" withPanArrows":"")},this.root);if(this.showAttribution)if(e=d.getObject("esri.dijit.Attribution",!1))this._initAttribution(e,k);else{var l=K++,m=this;this._rids&&this._rids.push(l);f(["./dijit/Attribution"],function(a){var b=m._rids?n.indexOf(m._rids,l):-1;-1!==b&&(m._rids.splice(b,
1),m._initAttribution(a,k))})}this._mapParams.logo&&(e={},6===u("ie")&&(e.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled\x3d'true', sizingMethod\x3d'crop', src\x3d'"+f.toUrl("./images/map/logo-med.png")+"')"),this._ogol=A("div",{style:e},k),this._setLogoSize(),this._onMapResizeLogo_connect=D(this,"onResize",this,"_setLogoSize"),u("esri-touch")||(this._ogol_connect=D(this._ogol,"onclick",this,"_openLogoLink")));this.navigationManager=new C(this);c&&c.basemap&&(this._onLoadFix=!0,
this.setBasemap(c.basemap),this._onLoadFix=!1);if(this.autoResize=this._mapParams.autoResize)e=this._getEnclosingResizableWidget(this.container)||window,h=H(this,this.resize),this._rszSignal=g.pausable(e,"resize",h),this._oriSignal=g.pausable(window,"orientationchange",h),a.after(e,"resize",h,!0)},_getEnclosingResizableWidget:function(a){var b=s.getEnclosingWidget(a);return!b?b:b.resize?b:this._getEnclosingResizableWidget(a.parentNode)},_setLogoSize:function(){this._ogol&&(25E4>this.root.clientWidth*
this.root.clientHeight?(c.remove(this._ogol,"logo-med"),c.add(this._ogol,"logo-sm")):(c.remove(this._ogol,"logo-sm"),c.add(this._ogol,"logo-med")))},_initAttribution:function(a,b){var e=A("span",{"class":"esriAttribution"},b,"first");y(e,"maxWidth",Math.floor(this.width*this._mapParams.attributionWidth)+"px");this._connects.push(D(e,"onclick",function(){c.contains(this,"esriAttributionOpen")?c.remove(this,"esriAttributionOpen"):this.scrollWidth>this.clientWidth&&c.add(this,"esriAttributionOpen")}));
this.attribution=new a({map:this},e)},_cleanUp:function(){this.disableMapNavigation();this.navigationManager.destroy();var a=this._slider;a&&(a.destroy&&!a._destroyed)&&a.destroy();var a=this._navDiv,b=this.attribution;a&&e.destroy(a);b&&b.destroy();this._connects.push(this._slider_connect,this._ogol_connect,this._rszSignal,this._oriSignal);n.forEach(this._connects,B);this.attribution=this.navigationManager=this._rids=this._connects=this._slider_connect=this._ogol_connect=this._rszSignal=this._oriSignal=
null;this.inherited("_cleanUp",arguments)},_isPanningOrZooming:function(){return this.__panning||this.__zooming},_canZoom:function(a){var b=this.getLevel();return!this.__tileInfo||!(b===this.getMinZoom()&&0>a||b===this.getMaxZoom()&&0<a)},_onLoadInitNavsHandler:function(){this.enableMapNavigation();this._createNav();if("small"===this._mapParams.sliderStyle||!this._createSlider)this._createSimpleSlider();else if(this._mapParams.slider){var a=-1!==this._getSliderClass(!0).indexOf("Horizontal"),a=[a?
"dijit.form.HorizontalSlider":"dijit.form.VerticalSlider",a?"dijit.form.HorizontalRule":"dijit.form.VerticalRule",a?"dijit.form.HorizontalRuleLabels":"dijit.form.VerticalRuleLabels"];if(n.some(a,function(a){return!d.getObject(a,!1)})){var a=n.map(a,function(a){return a.replace(/\./g,"/")}),b=K++,c=this;this._rids&&this._rids.push(b);f(a,function(){var a=c._rids?n.indexOf(c._rids,b):-1;-1!==a&&(c._rids.splice(a,1),c._createSlider.apply(c,arguments))})}else a=n.map(a,function(a){return d.getObject(a,
!1)}),this._createSlider.apply(this,a)}B(this._onLoadHandler_connect)},_createNav:function(){if(this._mapParams.nav){var a,b,e,d=c.add,f=this.id;this._navDiv=A("div",{id:f+"_navdiv"},this.root);d(this._navDiv,"navDiv");var g=this.width/2,h=this.height/2,k;for(e in z)b=z[e],a=A("div",{id:f+"_pan_"+e},this._navDiv),d(a,"fixedPan "+b),"up"===e||"down"===e?(k=parseInt(F(a).w,10)/2,y(a,{left:g-k+"px",zIndex:30})):(k=parseInt(F(a).h,10)/2,y(a,{top:h-k+"px",zIndex:30})),this._connects.push(D(a,"onclick",
H(this,this[b])));this._onMapResizeNavHandler_connect=D(this,"onResize",this,"_onMapResizeNavHandler");for(e in w)b=w[e],a=A("div",{id:f+"_pan_"+e,style:{zIndex:30}},this._navDiv),d(a,"fixedPan "+b),this._connects.push(D(a,"onclick",H(this,this[b])));this.isPanArrows=!0}},_onMapResizeNavHandler:function(a,c,e){a=this.id;c/=2;e/=2;var d=b.byId,f,g,h;for(f in z)g=d(a+"_pan_"+f),"up"===f||"down"===f?(h=parseInt(F(g).w,10)/2,y(g,"left",c-h+"px")):(h=parseInt(F(g).h,10)/2,y(g,"top",e-h+"px"))},_createSimpleSlider:function(){if(this._mapParams.slider){var a=
this._slider=A("div",{id:this.id+"_zoom_slider","class":this._getSliderClass(),style:{zIndex:30}}),e=u("esri-touch")&&!u("ff")?"touchstart":u("esri-pointer")?navigator.msPointerEnabled?"MSPointerDown":"pointerdown":"onclick",d=A("div",{"class":"esriSimpleSliderIncrementButton"},a),f=A("div",{"class":"esriSimpleSliderDecrementButton"},a);this._incButton=d;this._decButton=f;this._simpleSliderZoomHandler(null,null,null,this.getLevel());d.innerHTML="+";f.innerHTML="\x26ndash;";8>u("ie")&&c.add(f,"dj_ie67Fix");
this._connects.push(D(d,e,this,this._simpleSliderChangeHandler));this._connects.push(D(f,e,this,this._simpleSliderChangeHandler));"touchstart"==e&&(this._connects.push(D(d,"onclick",this,this._simpleSliderChangeHandler)),this._connects.push(D(f,"onclick",this,this._simpleSliderChangeHandler)));(-1<this.getMaxZoom()||-1<this.getMinZoom())&&this._connects.push(D(this,"onZoomEnd",this,this._simpleSliderZoomHandler));10>u("ie")&&b.setSelectable(a,!1);this.root.appendChild(a);this.isZoomSlider=!0}},_simpleSliderChangeHandler:function(a){m.stop(a);
a=-1!==a.currentTarget.className.indexOf("IncrementButton")?!0:!1;this._extentUtil({numLevels:a?1:-1})},_simpleSliderZoomHandler:function(a,b,e,d){var f;a=this._incButton;b=this._decButton;-1<d&&d===this.getMaxZoom()?f=a:-1<d&&d===this.getMinZoom()&&(f=b);f?(c.add(f,"esriSimpleSliderDisabledButton"),c.remove(f===a?b:a,"esriSimpleSliderDisabledButton")):(c.remove(a,"esriSimpleSliderDisabledButton"),c.remove(b,"esriSimpleSliderDisabledButton"))},_getSliderClass:function(a){a=a?"Large":"Simple";var b=
this._mapParams.sliderOrientation,c=this._mapParams.sliderPosition||"",b=b&&"horizontal"===b.toLowerCase()?"esri"+a+"SliderHorizontal":"esri"+a+"SliderVertical";if(c)switch(c.toLowerCase()){case "top-left":c="esri"+a+"SliderTL";break;case "top-right":c="esri"+a+"SliderTR";break;case "bottom-left":c="esri"+a+"SliderBL";break;case "bottom-right":c="esri"+a+"SliderBR"}return"esri"+a+"Slider "+b+" "+c},_openLogoLink:function(a){window.open(t.defaults.map.logoLink,"_blank");m.stop(a)},enableMapNavigation:function(){this.navigationManager.enableNavigation()},
disableMapNavigation:function(){this.navigationManager.disableNavigation()},enableDoubleClickZoom:function(){this.isDoubleClickZoom||(this.navigationManager.enableDoubleClickZoom(),this.isDoubleClickZoom=!0)},disableDoubleClickZoom:function(){this.isDoubleClickZoom&&(this.navigationManager.disableDoubleClickZoom(),this.isDoubleClickZoom=!1)},enableShiftDoubleClickZoom:function(){this.isShiftDoubleClickZoom||(E(this.declaredClass+": Map.(enable/disable)ShiftDoubleClickZoom deprecated. Shift-Double-Click zoom behavior will not be supported.",
null,"v2.0"),this.navigationManager.enableShiftDoubleClickZoom(),this.isShiftDoubleClickZoom=!0)},disableShiftDoubleClickZoom:function(){this.isShiftDoubleClickZoom&&(E(this.declaredClass+": Map.(enable/disable)ShiftDoubleClickZoom deprecated. Shift-Double-Click zoom behavior will not be supported.",null,"v2.0"),this.navigationManager.disableShiftDoubleClickZoom(),this.isShiftDoubleClickZoom=!1)},enableClickRecenter:function(){this.isClickRecenter||(this.navigationManager.enableClickRecenter(),this.isClickRecenter=
!0)},disableClickRecenter:function(){this.isClickRecenter&&(this.navigationManager.disableClickRecenter(),this.isClickRecenter=!1)},enablePan:function(){this.isPan||(this.navigationManager.enablePan(),this.isPan=!0)},disablePan:function(){this.isPan&&(this.navigationManager.disablePan(),this.isPan=!1)},enableRubberBandZoom:function(){this.isRubberBandZoom||(this.navigationManager.enableRubberBandZoom(),this.isRubberBandZoom=!0)},disableRubberBandZoom:function(){this.isRubberBandZoom&&(this.navigationManager.disableRubberBandZoom(),
this.isRubberBandZoom=!1)},enableKeyboardNavigation:function(){this.isKeyboardNavigation||(this.navigationManager.enableKeyboardNavigation(),this.isKeyboardNavigation=!0)},disableKeyboardNavigation:function(){this.isKeyboardNavigation&&(this.navigationManager.disableKeyboardNavigation(),this.isKeyboardNavigation=!1)},enableScrollWheelZoom:function(){this.isScrollWheelZoom||(this.navigationManager.enableScrollWheelZoom(),this.isScrollWheelZoom=!0)},disableScrollWheelZoom:function(){this.isScrollWheelZoom&&
(this.navigationManager.disableScrollWheelZoom(),this.isScrollWheelZoom=!1)},showPanArrows:function(){this._navDiv&&(this._navDiv.style.display="block",this.isPanArrows=!0)},hidePanArrows:function(){this._navDiv&&(this._navDiv.style.display="none",this.isPanArrows=!1)},showZoomSlider:function(){this._slider&&(y(this._slider.domNode||this._slider,"visibility","visible"),this.isZoomSlider=!0)},hideZoomSlider:function(){this._slider&&(y(this._slider.domNode||this._slider,"visibility","hidden"),this.isZoomSlider=
!1)}});u("extend-esri")&&(q.Map=l);return l})},"esri/PopupManager":function(){define("./geometry/Extent ./geometry/ScreenPoint ./kernel ./layerUtils ./tasks/query dijit/registry dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang dojo/has dojo/on dojo/promise/all dojo/Stateful require".split(" "),function(f,l,p,r,d,n,m,g,a,b,c,e,k,h,s){var q;g=g(h,{declaredClass:"esri.PopupManager",enabled:!1,map:null,_mapClickHandle:null,_featureLayersCache:{},constructor:function(a){this._mapClickHandler=
b.hitch(this,this._mapClickHandler)},setMap:function(a){if(this.map)if(a!==this.map)this.unsetMap();else return;this.map=a;this._setupClickHandler()},unsetMap:function(){this.map&&(this.map=null);this._mapClickHandle&&(this._mapClickHandle.remove(),this._mapClickHandle=null)},getMapLayer:function(a){var b;if(a&&(b=a.getLayer()))if(a=b.id,this._featureLayersCache[a]){var c=a.lastIndexOf("_");-1<c&&(a=a.substring(0,c),b=this.map.getLayer(a))}return b},_enabledSetter:function(a){this.enabled=a;this._setupClickHandler()},
_setupClickHandler:function(){this._mapClickHandle&&(this._mapClickHandle.remove(),this._mapClickHandle=null);this.enabled&&this.map&&(this._mapClickHandle=this.map.on("click",this._mapClickHandler))},_mapClickHandler:function(a){var b=this.map.infoWindow,c=a.graphic;b&&this.map.loaded&&(b.clearFeatures&&b.setFeatures?this._showPopup(a):c&&c.getInfoTemplate()&&this._showInfoWindow(c,a.mapPoint))},_showPopup:function(b){var c=this.map,e=c.infoWindow,g=this,h=[],k=[c.graphics].concat(m.map(c.graphicsLayerIds,
c.getLayer,c));m.forEach(k,function(a){a&&(a.loaded&&a.infoTemplate&&!a.suspended)&&h.push(a)});var n=[];m.forEach(c.layerIds,function(a){(a=c.getLayer(a))&&(a.loaded&&!a.suspended)&&("esri.layers.ArcGISImageServiceLayer"===a.declaredClass&&a.infoTemplate?h.push(a):("esri.layers.ArcGISDynamicMapServiceLayer"===a.declaredClass||"esri.layers.ArcGISTiledMapServiceLayer"===a.declaredClass)&&a.infoTemplates&&n.push(a))});this._getSubLayerFeatureLayers(n).then(function(k){h=h.concat(k);k=null;b.graphic&&
b.graphic.getInfoTemplate()&&(k=b.graphic);if(h.length||k){var n=g._calculateClickTolerance(h),q=b.screenPoint,p=c.toMap(new l(q.x-n,q.y+n)),n=c.toMap(new l(q.x+n,q.y-n)),r=new f(p.x,p.y,n.x,n.y,c.spatialReference),s=new d,w=!!k,z=!0,p=m.map(h,function(e){var d;s.timeExtent=e.useMapTime?c.timeExtent:null;if("esri.layers.ArcGISImageServiceLayer"===e.declaredClass)s.geometry=b.mapPoint,z=!1,d=e.queryVisibleRasters(s,{rasterAttributeTableFieldPrefix:"Raster.",returnDomainValues:!0}),d.addCallback(function(){var a=
e.getVisibleRasters();w=w||0<a.length;return a});else if(g._featureLayersCache[e.id]||"function"===typeof e.queryFeatures&&(0===e.currentMode||1===e.currentMode))s.geometry=r,d=e.queryFeatures(s),d.addCallback(function(a){a=a.features;w=w||0<a.length;return a});else{d=new a;var f=m.filter(e.graphics,function(a){return a&&r.intersects(a.geometry)});w=w||0<f.length;d.resolve(f)}return d});k&&(n=new a,n.resolve([k]),p.unshift(n));!m.some(p,function(a){return!a.isFulfilled()})&&!w?(e.hide(),e.clearFeatures()):
(e.setFeatures(p),e.show(b.mapPoint,{closestFirst:z}))}})},_getSubLayerFeatureLayers:function(b,c){var d=c||new a,f=[],g=b.length,h=Math.floor(this.map.extent.getWidth()/this.map.width),l=this.map.getScale(),n=!1,p=this,A=0;a:for(;A<g;A++){var y=b[A],H=y.dynamicLayerInfos||y.layerInfos;if(H){var F=null;if(y._params&&(y._params.layers||y._params.dynamicLayers))F=y.visibleLayers;for(var F=r._getVisibleLayers(H,F),E=r._getLayersForScale(l,H),G=H.length,K=0;K<G;K++){var I=H[K],J=I.id,Q=y.infoTemplates[J];
if(!I.subLayerIds&&Q&&Q.infoTemplate&&-1<m.indexOf(F,J)&&-1<m.indexOf(E,J)){if(!q){n=!0;break a}var P=y.id+"_"+J,M=this._featureLayersCache[P];if(!M||!M.loadError)M||((M=Q.layerUrl)||(M=I.source?this._getLayerUrl(y.url,"/dynamicLayer"):this._getLayerUrl(y.url,J)),M=new q(M,{id:P,drawMode:!1,mode:q.MODE_SELECTION,outFields:this._getOutFields(Q.infoTemplate),resourceInfo:Q.resourceInfo,source:I.source}),this._featureLayersCache[P]=M),M.setDefinitionExpression(y.layerDefinitions&&y.layerDefinitions[J]),
M.setGDBVersion(y.gdbVersion),M.setInfoTemplate(Q.infoTemplate),M.setMaxAllowableOffset(h),M.setUseMapTime(!!y.useMapTime),y.layerDrawingOptions&&(y.layerDrawingOptions[J]&&y.layerDrawingOptions[J].renderer)&&M.setRenderer(y.layerDrawingOptions[J].renderer),f.push(M)}}}}if(n){var S=new a;s(["./layers/FeatureLayer"],function(a){q=a;S.resolve()});S.then(function(){p._getSubLayerFeatureLayers(b,d)})}else{var T=[];m.forEach(f,function(b){if(!b.loaded){var c=new a;e.once(b,"load, error",function(){c.resolve()});
T.push(c.promise)}});T.length?k(T).then(function(){f=m.filter(f,function(a){return!a.loadError&&a.isVisibleAtScale(l)});d.resolve(f)}):(f=m.filter(f,function(a){return a.isVisibleAtScale(l)}),d.resolve(f))}return d.promise},_getLayerUrl:function(a,b){var c=a.indexOf("?");return-1===c?a+"/"+b:a.substring(0,c)+"/"+b+a.substring(c)},_getOutFields:function(a){var b;a.info&&"esri.dijit.PopupTemplate"===a.declaredClass?(b=[],m.forEach(a.info.fieldInfos,function(a){var c=a.fieldName&&a.fieldName.toLowerCase();
c&&("shape"!==c&&0!==c.indexOf("relationships/"))&&b.push(a.fieldName)})):b=["*"];return b},_calculateClickTolerance:function(a){var b=6;m.forEach(a,function(a){if(a=a.renderer)"esri.renderer.SimpleRenderer"===a.declaredClass?((a=a.symbol)&&a.xoffset&&(b=Math.max(b,Math.abs(a.xoffset))),a&&a.yoffset&&(b=Math.max(b,Math.abs(a.yoffset)))):("esri.renderer.UniqueValueRenderer"===a.declaredClass||"esri.renderer.ClassBreaksRenderer"===a.declaredClass)&&m.forEach(a.infos,function(a){(a=a.symbol)&&a.xoffset&&
(b=Math.max(b,Math.abs(a.xoffset)));a&&a.yoffset&&(b=Math.max(b,Math.abs(a.yoffset)))})});return b},_showInfoWindow:function(a,c){var e=this.map.infoWindow,d=a.geometry,d=d&&"point"===d.type?d:c,f=a.getContent();e.setTitle(a.getTitle());if(f&&b.isString(f.id)){var g=n.byId(f.id);g&&(g.set&&/_PopupRenderer/.test(g.declaredClass))&&g.set("showTitle",!1)}e.setContent(f);e.show(d)}});c("extend-esri")&&(p.PopupManager=g);return g})},"esri/dijit/Popup":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/kernel dojo/has dojo/window dojo/Stateful dojo/query dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dijit/registry ../kernel ../lang ../domUtils ../geometry/Polyline ../geometry/Polygon ../InfoWindowBase ../PopupBase dojo/i18n!../nls/jsapi dojo/NodeList-dom".split(" "),
function(f,l,p,r,d,n,m,g,a,b,c,e,k,h,s,q,t,u,x,v,C,z,w,D){f=f([z,w,g],{declaredClass:"esri.dijit.Popup",offsetX:3,offsetY:3,zoomFactor:4,marginLeft:25,marginTop:25,highlight:!0,pagingControls:!0,pagingInfo:!0,keepHighlightOnHide:!1,popupWindow:!0,titleInBody:!0,anchor:"auto",visibleWhenEmpty:!0,hideDelay:1E3,location:null,constructor:function(a,f){this.initialize();l.mixin(this,a);this.domNode=b.byId(f);var g=this._nls=l.mixin({},D.widgets.popup),k=this.domNode;e.add(k,"esriPopup");(this._isRTL=!h.isBodyLtr())&&
s.set(k,"direction","rtl");c.set(k,"innerHTML","\x3cdiv class\x3d'esriPopupWrapper' style\x3d'position: absolute;'\x3e\x3cdiv class\x3d'sizer'\x3e\x3cdiv class\x3d'titlePane'\x3e\x3cdiv class\x3d'spinner hidden' title\x3d'"+g.NLS_searching+"...'\x3e\x3c/div\x3e\x3cdiv class\x3d'title'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton prev hidden' title\x3d'"+g.NLS_prevFeature+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton next hidden' title\x3d'"+g.NLS_nextFeature+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton maximize' title\x3d'"+
g.NLS_maximize+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton close' title\x3d'"+g.NLS_close+"'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sizer content'\x3e\x3cdiv class\x3d'contentPane'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sizer'\x3e\x3cdiv class\x3d'actionsPane'\x3e\x3cdiv class\x3d'actionList hidden'\x3e\x3ca title\x3d"+g.NLS_zoomTo+" class\x3d'action zoomTo' href\x3d'javascript:void(0);'\x3e\x3cspan\x3e"+g.NLS_zoomTo+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'pointer hidden'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'outerPointer hidden'\x3e\x3c/div\x3e");
this._sizers=d.query(".sizer",k);g=d.query(".titlePane",k)[0];b.setSelectable(g,!1);this._title=d.query(".title",g)[0];this._prevFeatureButton=d.query(".prev",g)[0];this._nextFeatureButton=d.query(".next",g)[0];this._maxButton=d.query(".maximize",g)[0];this._spinner=d.query(".spinner",g)[0];this._contentPane=d.query(".contentPane",k)[0];this._positioner=d.query(".esriPopupWrapper",k)[0];this._pointer=d.query(".pointer",k)[0];this._outerPointer=d.query(".outerPointer",k)[0];this._actionList=d.query(".actionsPane .actionList",
k)[0];this._eventConnections=[r.connect(d.query(".close",g)[0],"onclick",this,this.hide),r.connect(this._prevFeatureButton,"onclick",this,this.selectPrevious),r.connect(this._nextFeatureButton,"onclick",this,this.selectNext),r.connect(this._maxButton,"onclick",this,this._toggleSize),r.connect(d.query(".zoomTo",this._actionList)[0],"onclick",this,this._zoomToFeature),r.connect(this,"onClearFeatures",this,this._featuresCleared),r.connect(this,"onSelectionChange",this,this._featureSelected),r.connect(this,
"onDfdComplete",this,this._updateUI)];n("esri-touch")&&(k=x.setScrollable(this._contentPane),this._eventConnections.push(k[0],k[1]));this._toggleVisibility(!1)},onMaximize:function(){},onRestore:function(){},setMap:function(a){this.inherited(arguments);k.place(this.domNode,a.root);this.highlight&&this.enableHighlight(a);this._maxHeight=s.get(this._contentPane,"maxHeight")},unsetMap:function(){this.disableHighlight(this.map);this.inherited(arguments)},setTitle:function(a){if(this.popupWindow){if(!u.isDefined(a)||
""===a)a="\x26nbsp;";this.destroyDijits(this._title);this.place(a,this._title);this.isShowing&&(this.startupDijits(this._title),this.reposition())}},setContent:function(a){if(this.popupWindow){if(!u.isDefined(a)||""===a)a="\x26nbsp;";this.destroyDijits(this._contentPane);this.place(a,this._contentPane);this.isShowing&&(this.startupDijits(this._contentPane),this.reposition())}},show:function(a,b){if(this.popupWindow)if(this._delayHide=!1,a){var c=this.map,e;a.spatialReference?(this.location=a,e=c.toScreen(a)):
(this.location=c.toMap(a),e=a);var d=c._getFrameWidth();if(-1!==d&&(e.x%=d,0>e.x&&(e.x+=d),c.width>d))for(c=(c.width-d)/2;e.x<c;)e.x+=d;this._maximized?this.restore():this._setPosition(e);b&&b.closestFirst&&this.showClosestFirst(this.location);this.isShowing||(this._toggleVisibility(!0),this._followMap(),this.startupDijits(this._title),this.startupDijits(this._contentPane),this.reposition(),this.showHighlight(),this.onShow())}else this._toggleVisibility(!0)},hide:function(){this.isShowing&&(this._toggleVisibility(!1),
this._unfollowMap(),this.keepHighlightOnHide||this.hideHighlight(),this.onHide())},resize:function(a,b){this.popupWindow&&(this._sizers.style({width:a+"px"}),s.set(this._contentPane,"maxHeight",b+"px"),this._maxHeight=b,this.isShowing&&this.reposition())},reposition:function(){this.popupWindow&&this.map&&(this.location&&!this._maximized&&this.isShowing)&&this._setPosition(this.map.toScreen(this.location))},maximize:function(){var a=this.map;if(a&&!this._maximized&&this.popupWindow){this._maximized=
!0;var b=this._maxButton;e.remove(b,"maximize");e.add(b,"restore");c.set(b,"title",this._nls.NLS_restore);var b=this.marginLeft,d=this.marginTop,f=a.width-2*b,a=a.height-2*d;s.set(this.domNode,{left:this._isRTL?null:b+"px",right:this._isRTL?b+"px":null,top:d+"px",bottom:null});s.set(this._positioner,{left:null,right:null,top:null,bottom:null});this._savedWidth=s.get(this._sizers[0],"width");this._savedHeight=s.get(this._contentPane,"maxHeight");this._sizers.style({width:f+"px"});s.set(this._contentPane,
{maxHeight:a-65+"px",height:a-65+"px"});this._showPointer("");this._unfollowMap();e.add(this.domNode,"esriPopupMaximized");this.onMaximize()}},restore:function(){if(this.map&&this._maximized&&this.popupWindow){this._maximized=!1;var a=this._maxButton;e.remove(a,"restore");e.add(a,"maximize");c.set(a,"title",this._nls.NLS_maximize);s.set(this._contentPane,"height",null);this.resize(this._savedWidth,this._savedHeight);this._savedWidth=this._savedHeight=null;this.show(this.location);this._followMap();
e.remove(this.domNode,"esriPopupMaximized");this.onRestore()}},startup:function(){},destroy:function(){this.map&&this.unsetMap();this.cleanup();this.isShowing&&this.hide();this.destroyDijits(this._title);this.destroyDijits(this._content);p.forEach(this._eventConnections,r.disconnect);k.destroy(this.domNode);this._sizers=this._contentPane=this._actionList=this._positioner=this._pointer=this._outerPointer=this._title=this._prevFeatureButton=this._nextFeatureButton=this._spinner=this._eventConnections=
this._pagerScope=this._targetLocation=this._nls=this._maxButton=null},selectNext:function(){this.select(this.selectedIndex+1)},selectPrevious:function(){this.select(this.selectedIndex-1)},setFeatures:function(){this.inherited(arguments);this._updateUI()},postscript:null,_highlightSetter:function(a){var b=this.highlight,c=this.map;this.highlight=a;if(c&&a!==b)if(a){if(this.enableHighlight(c),a=this.features&&this.features[this.selectedIndex])this.updateHighlight(c,a),this.showHighlight()}else this.disableHighlight(c)},
_pagingControlsSetter:function(a){var b=this.pagingControls,c=this.map;this.pagingControls=a;c&&a!==b&&this._updatePagingControls()},_pagingInfoSetter:function(a){var b=this.pagingInfo,c=this.map;this.pagingInfo=a;c&&(a!==b&&this.features&&this.features.length)&&this._updatePagingInfo()},_popupWindowSetter:function(a){var b=this.popupWindow,c=this.map;this.popupWindow=a;c&&a!==b&&(a?(this._updateUI(),this._updateWindow()):(this.hide(),this.showHighlight()))},_anchorSetter:function(a){var b=this.anchor;
this.anchor=a;this.map&&a!==b&&this.reposition()},_featuresCleared:function(){this.setTitle("\x26nbsp;");this.setContent("\x26nbsp;");this._setPagerCallbacks(this);this._updateUI();this.hideHighlight()},_featureSelected:function(){this._updateUI();this._updateWindow()},_updateWindow:function(){var a=this.selectedIndex;if(0<=a){var b=this.features[a].getContent(),c;!this.titleInBody&&b&&l.isString(b.id)&&(c=q.byId(b.id))&&(c.set&&/_PopupRenderer/.test(c.declaredClass))&&c.set("showTitle",!1);this.setContent(b);
this.updateHighlight(this.map,this.features[a]);this.showHighlight()}},_toggleVisibility:function(a){this._setVisibility(a);this.isShowing=a},_setVisibility:function(a){s.set(this.domNode,"visibility",a?"visible":"hidden");e.toggle(this.domNode,"esriPopupVisible",a)},_waitAndHide:function(a){var b=this;this._delayHide=!0;setTimeout(function(){b._delayHide&&(b._delayHide=!1,b.hide())},a)},_followMap:function(){this._unfollowMap();var a=this.map;this._handles=[r.connect(a,"onPanStart",this,this._onPanStart),
r.connect(a,"onPan",this,this._onPan),r.connect(a,"onZoomStart",this,this._onZoomStart),r.connect(a,"onExtentChange",this,this._onExtentChange)]},_unfollowMap:function(){var a=this._handles;a&&(p.forEach(a,r.disconnect),this._handles=null)},_onPanStart:function(){var a=this.domNode.style;this._panOrigin={left:a.left,top:a.top,right:a.right,bottom:a.bottom}},_onPan:function(a,b){var c=this._panOrigin,e=b.x,d=b.y,f=c.left,g=c.top,h=c.right,c=c.bottom;f&&(f=parseFloat(f)+e+"px");g&&(g=parseFloat(g)+
d+"px");h&&(h=parseFloat(h)-e+"px");c&&(c=parseFloat(c)-d+"px");s.set(this.domNode,{left:f,top:g,right:h,bottom:c})},_onZoomStart:function(){this._setVisibility(!1)},_onExtentChange:function(a,b,c){c&&(this._setVisibility(!0),this.show(this._targetLocation||this.location));this._targetLocation=null},_toggleSize:function(){this._maximized?this.restore():this.maximize()},_setPosition:function(a){var b=a.x,c=a.y;a=this.offsetX||0;var e=this.offsetY||0,d=0,f=0,g=h.position(this.map.container,!0),k=g.w,
l=g.h,n="Left",q="bottom",p=h.getContentBox(this._positioner),r=p.w/2,t=p.h/2,w=s.get(this._sizers[0],"height")+this._maxHeight+s.get(this._sizers[2],"height"),z=w/2,u=0,D=0,x=b,v=c,C=this.anchor.toLowerCase();if("auto"===C){if(C=m.getBox)C=C(),u=Math.max(C.l,g.x),k=Math.min(C.l+C.w,g.x+g.w),D=Math.max(C.t,g.y),l=Math.min(C.t+C.h,g.y+g.h),x+=g.x,v+=g.y;g=v-D>=w;w=l-v>=w;C=k-x>=p.w;p=x-u>=p.w;v-D>z&&l-v>=z&&(C?(q="",n="Left"):p&&(q="",n="Right"));n&&q&&(x-u>r&&k-x>=r)&&(g?(n="",q="bottom"):w&&(n="",
q="top"));n&&q&&(C&&g?(n="Left",q="bottom"):C&&w?(n="Left",q="top"):p&&w?(n="Right",q="top"):p&&g&&(n="Right",q="bottom"))}else q=n="",-1!==C.indexOf("top")?q="bottom":-1!==C.indexOf("bottom")&&(q="top"),-1!==C.indexOf("left")?n="Right":-1!==C.indexOf("right")&&(n="Left");z=q+n;switch(z){case "top":case "bottom":f=14;break;case "Left":case "Right":d=13;break;case "topLeft":case "topRight":case "bottomLeft":case "bottomRight":f=14,d=-16}s.set(this.domNode,{left:b+"px",top:c+"px",right:null,bottom:null});
b={left:null,right:null,top:null,bottom:null};n?b[n.toLowerCase()]=d+a+"px":b.left=-r+"px";q?b[q]=f+e+"px":b.top=-t+"px";s.set(this._positioner,b);this._showPointer(z)},_showPointer:function(a){e.remove(this._pointer,"top bottom right left topLeft topRight bottomRight bottomLeft hidden".split(" "));e.remove(this._outerPointer,["right","left","hidden"]);"Right"===a||"Left"===a?(a=a.toLowerCase(),e.add(this._outerPointer,a)):e.add(this._pointer,a)},_setPagerCallbacks:function(a,b,c){if(this.pagingControls&&
!(a===this&&(!this._pagerScope||this._pagerScope===this))&&a!==this._pagerScope){this._pagerScope=a;a===this&&(b=this.selectPrevious,c=this.selectNext);var e=this._eventConnections;r.disconnect(e[1]);r.disconnect(e[2]);b&&(e[1]=r.connect(this._prevFeatureButton,"onclick",a,b));c&&(e[2]=r.connect(this._nextFeatureButton,"onclick",a,c))}},_getLocation:function(a){var b=this.map,c,e,d=0,f;if(a=a&&a.geometry)switch(a.type){case "point":c=a;break;case "multipoint":c=a.getPoint(0);e=a.getExtent();break;
case "polyline":c=a.getPoint(0,0);e=a.getExtent();-1!==b._getFrameWidth()&&(p.forEach(a.paths,function(a){a=(new v({paths:[a,b.spatialReference]})).getExtent();var c=Math.abs(a.ymax-a.ymin),e=Math.abs(a.xmax-a.xmin),c=e>c?e:c;c>d&&(d=c,f=a)}),f.spatialReference=e.spatialReference,e=f);break;case "polygon":c=a.getPoint(0,0),e=a.getExtent(),-1!==b._getFrameWidth()&&(p.forEach(a.rings,function(a){a=(new C({rings:[a,b.spatialReference]})).getExtent();var c=Math.abs(a.ymax-a.ymin),e=Math.abs(a.xmax-a.xmin),
c=e>c?e:c;c>d&&(d=c,f=a)}),f.spatialReference=e.spatialReference,e=f)}return[c,e]},_zoomToFeature:function(a){a.preventDefault();var b=this.features,c=this.selectedIndex;a=this.map;if(b){c=this._getLocation(b[c]);b=c[0];c=c[1];b||(b=this.location);if(!c||!c.intersects(this.location))this.location=b;if(c&&c.getWidth()&&c.getHeight())a.setExtent(c,!0);else{var e=a.getNumLevels(),c=a.getLevel(),d=a.getMaxZoom(),f=this.zoomFactor||1;0<e?c!==d&&(e=c+f,e>d&&(e=d),a.navigationManager._wheelZoom({value:e-
c,mapPoint:b},!0)):a.navigationManager._wheelZoom({value:2*(1/Math.pow(2,f)),mapPoint:b},!0)}}},_updatePagingControls:function(){var a=this._prevFeatureButton,b=this._nextFeatureButton,c=this.selectedIndex,d=this.features?this.features.length:0;this.pagingControls&&1<d?(0===c?e.add(a,"hidden"):e.remove(a,"hidden"),c===d-1?e.add(b,"hidden"):e.remove(b,"hidden")):(e.add(a,"hidden"),e.add(b,"hidden"))},_updatePagingInfo:function(){var a=this.features?this.features.length:0,b=this._nls,c="\x26nbsp;";
this.pagingInfo&&(1<a&&b.NLS_pagingInfo)&&(c=u.substitute({index:this.selectedIndex+1,total:a},b.NLS_pagingInfo));if(a&&(b=this.getSelectedFeature(),a=b.getInfoTemplate(),b=b.getTitle(),(!a||/esri\.InfoTemplate/.test(a.declaredClass)||!this.titleInBody)&&b))c=b+("\x26nbsp;"===c?"":" "+c);this.setTitle(c)},_updateUI:function(){if(this.popupWindow){var a=this.features,b=this.deferreds,c=a?a.length:0,d=this._spinner,f=this._actionList,g=this._nls;this._updatePagingControls();this._updatePagingInfo();
c?e.remove(f,"hidden"):e.add(f,"hidden");b&&b.length?a?e.remove(d,"hidden"):this.setContent("\x3cdiv style\x3d'text-align: center;'\x3e"+g.NLS_searching+"...\x3c/div\x3e"):(e.add(d,"hidden"),c||(this.setContent("\x3cdiv style\x3d'text-align: center;'\x3e"+g.NLS_noInfo+".\x3c/div\x3e"),this.visibleWhenEmpty||this._waitAndHide(this.hideDelay)))}}});n("extend-esri")&&l.setObject("dijit.Popup",f,t);return f})},"esri/layers/agstiled":function(){define(["./agscommon","./ArcGISTiledMapServiceLayer"],function(){return{}})},
"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(f,l,p,r,d,n,m,g,a,b,c){p.isAsync||b(0,function(){c(["./fx/Toggler"])});p=p.fx={};b={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}};var e=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;r.forEach(this._animations,function(a){this.duration+=
a.duration;a.delay&&(this.duration+=a.delay)},this)};e.prototype=new l;f.extend(e,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=d.after(this._current,"onAnimate",f.hitch(this,"_onAnimate"),!0),this._onEndCtx=d.after(this._current,"onEnd",f.hitch(this,"_onEnd"),
!0),this._current.play(0,!0))},play:function(a,b){this._current||(this._current=this._animations[this._index=0]);if(!b&&"playing"==this._current.status())return this;var c=d.after(this._current,"beforeBegin",f.hitch(this,function(){this._fire("beforeBegin")}),!0),e=d.after(this._current,"onBegin",f.hitch(this,function(a){this._fire("onBegin",arguments)}),!0),g=d.after(this._current,"onPlay",f.hitch(this,function(a){this._fire("onPlay",arguments);c.remove();e.remove();g.remove()}));this._onAnimateCtx&&
this._onAnimateCtx.remove();this._onAnimateCtx=d.after(this._current,"onAnimate",f.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=d.after(this._current,"onEnd",f.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=d.after(this._current,"onPause",f.hitch(this,function(b){this._fire("onPause",arguments);a.remove()}),!0);this._current.pause()}return this},gotoPercent:function(a,b){this.pause();
var c=this.duration*a;this._current=null;r.some(this._animations,function(a,b){if(c<=a.duration)return this._current=a,this._index=b,!0;c-=a.duration;return!1},this);this._current&&this._current.gotoPercent(c/this._current.duration);b&&this.play();return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var b=d.after(this._current,"onStop",f.hitch(this,function(a){this._fire("onStop",
arguments);b.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});f.extend(e,b);p.chain=function(a){return new e(a)};var k=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=0;r.forEach(a,function(a){var b=a.duration;a.delay&&(b+=a.delay);this.duration<b&&(this.duration=b);this._connects.push(d.after(a,
"onEnd",f.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new n.Animation({curve:[0,1],duration:this.duration});var b=this;r.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){b._connects.push(d.after(b._pseudoAnimation,a,function(){b._fire(a,arguments)},!0))})};f.extend(k,{_doAction:function(a,b){r.forEach(this._animations,function(c){c[a].apply(c,b)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,
b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,b){var c=this.duration*a;r.forEach(this._animations,function(a){a.gotoPercent(a.duration<c?1:c/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",
arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){this.stop();r.forEach(this._connects,function(a){a.remove()})}});f.extend(k,b);p.combine=function(a){return new k(a)};p.wipeIn=function(a){var b=a.node=m.byId(a.node),c=b.style,e;a=n.animateProperty(f.mixin({properties:{height:{start:function(){e=c.overflow;c.overflow="hidden";if("hidden"==c.visibility||"none"==c.display)return c.height="1px",c.display="",c.visibility="",1;var a=g.get(b,"height");return Math.max(a,
1)},end:function(){return b.scrollHeight}}}},a));var k=function(){c.height="auto";c.overflow=e};d.after(a,"onStop",k,!0);d.after(a,"onEnd",k,!0);return a};p.wipeOut=function(a){var b=(a.node=m.byId(a.node)).style,c;a=n.animateProperty(f.mixin({properties:{height:{end:1}}},a));d.after(a,"beforeBegin",function(){c=b.overflow;b.overflow="hidden";b.display=""},!0);var e=function(){b.overflow=c;b.height="auto";b.display="none"};d.after(a,"onStop",e,!0);d.after(a,"onEnd",e,!0);return a};p.slideTo=function(b){var c=
null,e=null,k=function(b){return function(){var d=g.getComputedStyle(b),f=d.position;c="absolute"==f?b.offsetTop:parseInt(d.top)||0;e="absolute"==f?b.offsetLeft:parseInt(d.left)||0;"absolute"!=f&&"relative"!=f&&(d=a.position(b,!0),c=d.y,e=d.x,b.style.position="absolute",b.style.top=c+"px",b.style.left=e+"px")}}(b.node=m.byId(b.node));k();b=n.animateProperty(f.mixin({properties:{top:b.top||0,left:b.left||0}},b));d.after(b,"beforeBegin",k,!0);return b};return p})},"esri/InfoTemplate":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/has","./kernel","./lang"],function(f,l,p,r,d){f=f(null,{declaredClass:"esri.InfoTemplate",constructor:function(d,f){d&&l.isObject(d)&&!l.isFunction(d)?l.mixin(this,d):(this.title=d||"${*}",this.content=f||"${*}")},setTitle:function(d){this.title=d;return this},setContent:function(d){this.content=d;return this},toJson:function(){return d.fixJson({title:this.title,content:this.content})}});p("extend-esri")&&(r.InfoTemplate=f);return f})},"esri/layers/TiledMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/url dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/dom-style dojox/collections/ArrayList dojox/gfx/matrix ../kernel ../config ../sniff ../domUtils ../tileUtils ../geometry/Point ../geometry/Rect ../geometry/Extent ./layer".split(" "),
function(f,l,p,r,d,n,m,g,a,b,c,e,k,h,s,q,t,u,x,v){var C=k.defaults.map.zoomDuration;f=f(v,{declaredClass:"esri.layers.TiledMapServiceLayer",constructor:function(a,b){l.connect(this,"onLoad",this,"_initTiledLayer");this._lowestLevel=(this._displayLevels=b?b.displayLevels:null)?this._displayLevels[0]:0;this.resampling=b?b.resampling:!1;this._resamplingTolerance=b?b.resamplingTolerance:null;this.exclusionAreas=b?b.exclusionAreas:null;var c=p.hitch;this._addImage=c(this,this._addImage);this._tileLoadHandler=
c(this,this._tileLoadHandler);this._tileErrorHandler=c(this,this._tileErrorHandler);this._tilePopPop=c(this,this._tilePopPop);this._cleanUpRemovedImages=c(this,this._cleanUpRemovedImages);this._fireOnUpdateEvent=c(this,this._fireOnUpdateEvent);this._transitionEnd=c(this,this._transitionEnd);this._tileMapCallback=c(this,this._tileMapCallback)},opacity:1,isPNG32:!1,_multiple:1,_initTiledLayer:function(){var a=this.tileInfo,b=a.lods;this._tileW=a.width;this._tileH=a.height;var c=this.scales=[],e=this._displayLevels,
d="esri.layers.WMTSLayer"===this.declaredClass&&96!=a.dpi,f=-Infinity,g=Infinity,k=this.fullExtent,l=new t(k.xmin,k.ymax),k=new t(k.xmax,k.ymin),m=q.getContainingTileCoords,n,p,s,u=b.length;for(s=0;s<u;s++)if(p=b[s],d&&(p.scale=96*p.scale/a.dpi),n=m(a,l,p),p.startTileRow=0>n.row?0:n.row,p.startTileCol=0>n.col?0:n.col,n=m(a,k,p),p.endTileRow=n.row,p.endTileCol=n.col,!e||-1!==r.indexOf(e,p.level))c[s]=p.scale,f=p.scale>f?p.scale:f,g=p.scale<g?p.scale:g;d&&(a.dpi=96);-Infinity!==f&&!this._hasMin&&this.setMinScale(f);
Infinity!==g&&!this._hasMax&&this.setMaxScale(g);this.setExclusionAreas(this.exclusionAreas);this._patchIE=6<=h("ie")&&7>h("ie")&&(this.isPNG32||"Mixed"===a.format)},_isMapAtVisibleScale:function(){var a=this.inherited(arguments);if(a){var b;b=this._map;var a=this.scales,c=b.getScale(),e=!1,d=b.width>b.height?b.width:b.height;for(b=0;b<a.length;b++)if(Math.abs(a[b]-c)/a[b]<1/d){e=!0;break}a=e}return a},_setMap:function(b,c,d,f){this.inherited(arguments);this._map=b;var g=this._div=n.create("div",
null,c),h=b.__visibleDelta,k=l.connect,m=e._css.names,p={position:"absolute",width:b.width+"px",height:b.height+"px",overflow:"visible"};"css-transforms"===b.navigationMode?(p[m.transform]=e._css.translate(-h.x,-h.y),a.set(g,p),delete p[m.transform],p[m.transition]=m.transformName+" "+C+"ms ease",a.set(this._active=n.create("div",null,g),p),this._active._remove=0,this._passives=[]):(p.left=-h.x+"px",p.top=-h.y+"px",a.set(g,p));this._onResizeHandler_connect=k(b,"onResize",this,"_onResizeHandler");
this._opacityChangeHandler_connect=k(this,"onOpacityChange",this,"_opacityChangeHandler");h=this.tileInfo;k=h.spatialReference;m=k._getInfo();(this._wrap=b.wrapAround180&&k._isWrappable()&&Math.abs(m.origin[0]-h.origin.x)<=m.dx)&&q._addFrameInfo(h,m);this.setExclusionAreas(this.exclusionAreas);this.evaluateSuspension();if(this.suspended&&!b.loaded)var r=l.connect(b,"onLoad",this,function(){l.disconnect(r);r=null;this.setExclusionAreas(this.exclusionAreas);this.evaluateSuspension()});return g},_unsetMap:function(a,
b){this.suspended||this._suspendImpl();n.destroy(this._div);this._map=this._div=null;var c=l.disconnect;c(this._onResizeHandler_connect);c(this._opacityChangeHandler_connect);this.inherited(arguments)},onSuspend:function(){this.inherited(arguments);this._suspendImpl()},_suspendImpl:function(){s.hide(this._div);clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors();var a=this._tiles,b=this._tileIds,c=this._loadingList,e,d,f=l.disconnect,g=n.destroy;c&&0<c.count&&(c.forEach(function(b){if(e=
a[b])f(e._onload_connect),f(e._onerror_connect),f(e._onabort_connect),e._onload_connect=e._onerror_connect=e._onabort_connect=null}),c.clear(),this._fireUpdateEnd());this._removeList.clear();for(c=b.length-1;0<=c;c--)(e=(d=b[c])&&a[d])&&g(e);if("css-transforms"===this._map.navigationMode){b=this._active;d=this._passives;var h;this._noDom=0;for(c=d.length-1;0<=c;c--)h=d[c],h._endHandle&&f(h._endHandle),h._matrix=h._multiply=h._endHandle=null,h._marked=h._remove=0,d.splice(c,1),g(h);b._matrix=b._multiply=
null;b._marked=b._remove=0}this._tileIds=this._tiles=this._tileBounds=this._ct=this._loadingList=this._removeList=this._standby=null},onResume:function(){this.inherited(arguments);this._tileIds=[];this._tiles=[];this._tileBounds=[];this._ct=null;this._removeList=new b;this._loadingList=new b;s.show(this._div);this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(p.hitch(this,function(){this.suspended||this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD)}),0)},_enableDrawConnectors:function(){var a=
this._map,b=l.connect;if("css-transforms"===a.navigationMode){if(this._onScaleHandler_connect=b(a,"onScale",this,this._onScaleHandler),h("esri-touch")||h("esri-pointer")){this._standby=[];var c=this,e=function(){c._noDom=1};this._onPanStartHandler_connect=b(a,"onPanStart",e);this._onZoomStartHandler_connect=b(a,"onZoomStart",e)}}else this._onZoomHandler_connect=b(a,"onZoom",this,"_onZoomHandler");this._onPanHandler_connect=b(a,"onPan",this,"_onPanHandler");this._onExtentChangeHandler_connect=b(a,
"onExtentChange",this,"_onExtentChangeHandler")},_disableDrawConnectors:function(){var a=l.disconnect;a(this._onPanHandler_connect);a(this._onZoomHandler_connect);a(this._onScaleHandler_connect);a(this._onExtentChangeHandler_connect);a(this._onPanStartHandler_connect);a(this._onZoomStartHandler_connect);this._onPanHandler_connect=this._onZoomHandler_connect=this._onScaleHandler_connect=this._onExtentChangeHandler_connect=this._onPanStartHandler_connect=this._onZoomStartHandler_connect=null},_onResizeHandler:function(b,
c,e){b={width:c+"px",height:e+"px"};c=a.set;c(this._div,b);if("css-transforms"===this._map.navigationMode){this._active&&c(this._active,b);for(e=this._passives.length-1;0<=e;e--)c(this._passives[e],b)}},_onExtentChangeHandler:function(b,d,f,h){d=this._map;var k=this._standby,l;clearTimeout(this._wakeTimer);this._wakeTimer=null;if(!d._isPanningOrZooming()){if("css-transforms"===d.navigationMode){if(f)for(h=this._passives.length-1;0<=h;h--)l=this._passives[h],a.set(l,e._css.names.transition,"none"),
l._marked?(this._passives.splice(h,1),l.parentNode&&l.parentNode.removeChild(l),n.destroy(l)):0<l.childNodes.length&&(l._multiply=l._multiply?c.multiply(l._matrix,l._multiply):l._matrix);this._noDom=0;if(k&&k.length)for(h=k.length-1;0<=h;h--)l=k[h],a.set(l,"visibility","visible"),this._tilePopPop(l),k.splice(h,1)}this._fireUpdateStart();this._rrIndex=0;h=q.getCandidateTileInfo(d,this.tileInfo,b);b=d.__visibleDelta;if(!this._ct||h.lod.level!==this._ct.lod.level||f){l=h&&this._ct&&h.lod.level!==this._ct.lod.level;
this._ct=h;var m=this._tiles,p=this._tileIds,r=this._tileBounds,s=this._removeList,t,v=p.length;this._cleanUpRemovedImages();for(h=0;h<v;h++)k=p[h],t=m[k],r[k]=p[h]=null,"css-transforms"===d.navigationMode&&(l&&t.parentNode&&d.fadeOnZoom)&&(t._fadeOut=l,t.parentNode._remove++),s.add(t);f&&(this._tileIds=[],this._tiles=[],this._tileBounds=[])}h=b.x;f=b.y;"css-transforms"===d.navigationMode?(k={},k[e._css.names.transform]=e._css.translate(h,f),a.set(this._div,k)):a.set(this._div,{left:h+"px",top:f+
"px"});this.__coords_dx=h;this.__coords_dy=f;this._updateImages(new u(0,0,b.width,b.height));0===this._loadingList.count?(this._cleanUpRemovedImages(),this.onUpdate(),this._fireUpdateEnd()):this._fireOnUpdate=!0;f=this._tileW;m=this._tileH;b=new u(-b.x,-b.y,b.width,b.height);for(h=this._tileIds.length-1;0<=h;h--)(k=this._tileIds[h])?(l=this._tiles[k],p=g.getMarginBox(l),p=new u(p.l,p.t,f,m),"css-transforms"===d.navigationMode&&(p.x=l._left,p.y=l._top),b.intersects(p)?this._tileBounds[k]=p:(this._loadingList.contains(k)&&
this._tilePopPop(l),n.destroy(l),this._tileIds.splice(h,1),delete this._tileBounds[k],delete this._tiles[k])):(this._tileIds.splice(h,1),delete this._tileBounds[k],delete this._tiles[k])}},_onPanHandler:function(b,c){var d=this._map,f=d.__visibleDelta.offset(c.x,c.y);this.__coords_dx=this.__coords_dy=0;"css-transforms"===d.navigationMode?(d={},d[e._css.names.transform]=e._css.translate(f.x,f.y),a.set(this._div,d),!h("esri-touch")&&!h("esri-pointer")&&this._updateImages({x:-f.x,y:-f.y,width:f.width,
height:f.height})):(a.set(this._div,{left:f.x+"px",top:f.y+"px"}),this._updateImages({x:-f.x,y:-f.y,width:f.width,height:f.height}));0<this._loadingList.count&&(this._fireUpdateStart(),this._fireOnUpdate=!0)},_onScaleHandler:function(b,d){var f,g={},h=e._css.names,k=this._map;for(f=this._passives.length-1;0<=f;f--){var l=this._passives[f];0===l.childNodes.length?(this._passives.splice(f,1),n.destroy(l)):("none"===l.style[h.transition]&&a.set(l,h.transition,h.transformName+" "+C+"ms ease"),a.set(l,
h.transition,d?"none":h.transformName+" "+C+"ms ease"),l._matrix=b,g[h.transform]=e._css.matrix(l._multiply?c.multiply(b,l._multiply):b),a.set(l,g))}this._active&&0===this._active.childNodes.length||(a.set(this._active,h.transition,d?"none":h.transformName+" "+C+"ms ease"),this._active._matrix=b,g[h.transform]=e._css.matrix(this._active._matrix),a.set(this._active,g),this._passives.push(this._active),g={position:"absolute",width:k.width+"px",height:k.height+"px",overflow:"visible"},g[h.transition]=
h.transformName+" "+C+"ms ease",a.set(this._active=n.create("div",null,this._div),g),this._active._remove=0,k.fadeOnZoom&&n.place(this._active,this._div,"first"))},_onZoomHandler:function(b,c,e){b=g.getMarginBox(this._div);e=e.offset(-b.l,-b.t);if(!this._previousScale||1===c)this._previousScale=1;var d,f=this._tileW*c,k=this._tileH*c,l=this._tileBounds,m=this._tiles,n=this._previousScale,p=this._multiple,q=a.set,s,t;if((b=h("ie"))&&8>b)r.forEach(this._tileIds,function(a){t="";d=l[a];s=m[a].style.margin.split(" ");
r.forEach(s,function(a){""!==t&&(t+=" ");a=parseFloat(a);t+=a/n*c+"px"});q(m[a],{left:d.x-(f-d.width)*(e.x-d.x)/d.width+"px",top:d.y-(k-d.height)*(e.y-d.y)/d.height+"px",margin:1!==p&&-1===t.indexOf("NaN")?t:"",zoom:c})});else{var u=f*p,v=k*p,x,C;r.forEach(this._tileIds,function(a){t="";d=l[a];x=d.x-(f-d.width)*(e.x-d.x)/d.width;C=d.y-(k-d.height)*(e.y-d.y)/d.height;s=m[a].style.margin.split(" ");r.forEach(s,function(a){""!==t&&(t+=" ");a=parseFloat(a);t+=a/n*c+"px"});q(m[a],{left:x+"px",top:C+"px",
margin:1!==p&&-1===t.indexOf("NaN")?t:"",width:u+"px",height:v+"px"})})}this._previousScale=c},_updateImages:function(a){if(this._ct){var b,c=this._tileW,e=this._tileH,d=this._ct;b=d.lod;var d=d.tile,f=d.offsets,g=d.coords,h=g.row,g=g.col,k=b.level,l=this.opacity,m=this._tileIds,n=this._loadingList,p=this._addImage,q=this._map.id,s=this.id,t=a.x,u=a.y,v=b.startTileRow,x=b.endTileRow,C=b.startTileCol,ca=b.endTileCol,Z=r.indexOf,U,L,$=f.x-this.__coords_dx,V=f.y-this.__coords_dy;L=c-$+-a.x;var N=e-V+
-a.y;U=Math.ceil;L=0<L?L%c:c-Math.abs(L)%c;N=0<N?N%e:e-Math.abs(N)%e;t=0<t?Math.floor((t+$)/c):U((t-(c-$))/c);u=0<u?Math.floor((u+V)/e):U((u-(e-V))/e);V=t+U((a.width-L)/c);a=u+U((a.height-N)/e);var R,W,X;this._wrap&&(R=b._frameInfo,W=R[0],X=R[1],R=R[2]);for(N=t;N<=V;N++)for(t=u;t<=a;t++)U=h+t,L=g+N,this._wrap&&(L<X?(L%=W,L=L<X?L+W:L):L>R&&(L%=W)),!this._isExcluded(k,U,L)&&(U>=v&&U<=x&&L>=C&&L<=ca)&&(b=q+"_"+s+"_tile_"+k+"_"+t+"_"+N,-1===Z(m,b)&&(n.add(b),m.push(b),p(k,t,U,N,L,b,c,e,l,d,f)))}},_cleanUpRemovedImages:function(){var b=
this._removeList,c=n.destroy,d,f=e._css.names;b.forEach(function(a){a._fadeOut||(a.style.filter="",a.style.zoom=1,c(a))});if("css-transforms"===this._map.navigationMode)for(d=this._passives.length-1;0<=d;d--){var g=this._passives[d];0===g.childNodes.length?(this._passives.splice(d,1),c(g)):this._map.fadeOnZoom&&(!g._marked&&g._remove===g.childNodes.length)&&(a.set(g,f.transition,"opacity 0.65s"),a.set(g,"opacity",0),g._marked=1,l.disconnect(g._endHandle),g._endHandle=l.connect(g,f.endEvent,this._transitionEnd))}b.clear()},
_transitionEnd:function(a){var b=a.target;"opacity"===a.propertyName&&(l.disconnect(b._endHandle),b._endHandle=null,a=r.indexOf(this._passives,b),-1<a&&this._passives.splice(a,1),b.parentNode&&b.parentNode.removeChild(b),n.destroy(b))},_addImage:function(b,c,d,f,g,h,k,q,r,s,t){if(this._patchIE)s=this._tiles[h]=n.create("div"),s.id=h,m.add(s,"layerTile"),a.set(s,{left:k*f-t.x+"px",top:q*c-t.y+"px",width:k+"px",height:q+"px",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+this.getTileUrl(b,
d,g)+"', sizingMethod\x3d'scale')"}),1>r&&a.set(s,"opacity",r),b=s.appendChild(n.create("div")),a.set(b,{opacity:0,width:k+"px",height:q+"px"}),this._div.appendChild(s),this._loadingList.remove(h),this._fireOnUpdateEvent();else{s=this._tiles[h]=n.create("img");var u=l.connect;s.id=h;m.add(s,"layerTile");f=k*f-t.x;t=q*c-t.y;c=this._map;var v=e._css.names;k={width:k+"px",height:q+"px",visibility:"hidden"};"css-transforms"===c.navigationMode?(k[v.transform]=e._css.translate(f,t),a.set(s,k),s._left=f,
s._top=t):(k.left=f+"px",k.top=t+"px",a.set(s,k));1>r&&a.set(s,"opacity",r);s._onload_connect=u(s,"onload",this,"_tileLoadHandler");s._onerror_connect=u(s,"onerror",p.hitch(this,"_tileErrorHandler",d,g));s._onabort_connect=u(s,"onabort",this,"_tileAbortHandler");if(this.tileMap)this.tileMap.getTile(b,d,g,h,this._tileMapCallback);else if(h=this.getTileUrl(b,d,g,s))this._failedRequests&&this._failedRequests[h]?(a.set(s,this._failedRequests[h].css),s.src=this._failedRequests[h].src,this._multiple=parseInt(this._failedRequests[h].css.width)/
this._tileW):(this._multiple=1,s.src=h);"css-transforms"===c.navigationMode?this._active.appendChild(s):this._div.appendChild(s)}},_tileMapCallback:function(b,c){var e,d;!this.suspended&&this._tiles[c.id]&&(this._multiple=2*(c.level-b.level)||1,d=this._tiles[c.id],e=this.tileMap.style(b,c),a.set(d,e),d.src=this.getTileUrl(b.level,b.row,b.col))},getTileUrl:function(a,b,c){},_reCheckTS:/[\?\&]_ts=/ig,_reReplaceTS:/([\?\&]_ts=)[0-9]+/ig,addTimestampToURL:function(a){var b=this._refreshTS;b&&(a=this._reCheckTS.test(a)?
a.replace(this._reReplaceTS,"$$$1"+b):a+((-1===a.indexOf("?")?"?":"\x26")+"_ts\x3d"+b));return a},refresh:function(){this.suspended||(this._refreshTS=(new Date).getTime(),this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD))},_tilePopPop:function(a){var b=l.disconnect;b(a._onload_connect);b(a._onerror_connect);b(a._onabort_connect);a._onload_connect=a._onerror_connect=a._onabort_connect=null;this._loadingList.remove(a.id);this._fireOnUpdateEvent()},_tileLoadHandler:function(b){b=
b.currentTarget;this._noDom?this._standby.push(b):(a.set(b,"visibility","visible"),this._tilePopPop(b))},_tileAbortHandler:function(b){b=b.currentTarget;this.onError(Error("Unable to load tile: "+b.src));a.set(b,"visibility","hidden");this._tilePopPop(b)},_tileErrorHandler:function(b,c,e){e=e.currentTarget;var f,g,h=!0;if(this.tileMap||!this.resampling)h=!1;else if(f=new d(e.src),f=f.path.split("/"),f=parseInt(f[f.length-3]),g=this._ct.lod.level-f+1,this._multiple=Math.pow(2,g),f===this._lowestLevel||
0===this._resamplingTolerance||this._resamplingTolerance&&Math.log(this._multiple)/Math.LN2>this._resamplingTolerance)h=!1;h?this._resample(e,b,c):(this.onError(Error("Unable to load tile: "+e.src)),a.set(e,"visibility","hidden"),this._tilePopPop(e))},_resample:function(b,c,e){var f=(new d(b.src)).path.split("/"),g=this._multiple,k=parseInt(f[f.length-3])-1,l=parseInt(c/g),m=parseInt(e/g),f=e%g,n=c%g,l=this.getTileUrl(k,l,m);c=this.getTileUrl(k+Math.log(g)/Math.LN2,c,e);g={width:this._tileW*g+"px",
height:this._tileH*g+"px",margin:"-"+this._tileW*n+"px 0 0 "+("-"+this._tileH*f+"px")};this._failedRequests||(this._failedRequests={});this._failedRequests[c]={src:l,css:g};a.set(b,g);h("chrome")&&b.setAttribute("src",null);b.src=l},_fireOnUpdateEvent:function(){0===this._loadingList.count&&(this._cleanUpRemovedImages(),this._fireOnUpdate&&(this._fireOnUpdate=!1,this.onUpdate(),this._fireUpdateEnd()))},setOpacity:function(a){if(this.opacity!=a)this.onOpacityChange(this.opacity=a)},onOpacityChange:function(){},
_opacityChangeHandler:function(b){var c=a.set,e,d,f;if("css-transforms"===this._map.navigationMode){if(this._active){f=this._active.childNodes;for(e=f.length-1;0<=e;e--)c(f[e],"opacity",b)}for(e=this._passives.length-1;0<=e;e--){f=this._passives[e].childNodes;for(d=f.length-1;0<=d;d--)c(f[d],"opacity",b)}}else{f=this._div.childNodes;for(e=f.length-1;0<=e;e--)c(f[e],"opacity",b)}},setExclusionAreas:function(a){this.exclusionAreas=a;if(this.loaded&&this._map&&this._map.loaded){var b=this._map.spatialReference,
c=this.tileInfo,e=c.origin,d=c.lods,f=d[0].level,g=d[d.length-1].level,h,k,l,m,n,p,q,r,s;if(!this.exclusionAreas||!this.exclusionAreas.length)this._exclusionsPerZoom=null;else{this._exclusionsPerZoom=[];k=0;for(l=a.length;k<l;k++)if(h=a[k],(s=h.geometry)&&"extent"===s.type&&s.xmin<=s.xmax&&s.ymin<=s.ymax){if(!b.equals(s.spatialReference))if(b._canProject(s.spatialReference))b.isWebMercator()?(r=t.lngLatToXY(s.xmin,s.ymin),s=t.lngLatToXY(s.xmax,s.ymax)):(r=t.xyToLngLat(s.xmin,s.ymin,!0),s=t.xyToLngLat(s.xmax,
s.ymax,!0)),s=new x(r[0],r[1],s[0],s[1],b);else continue;q=-1;if(h.minZoom&&-1!==h.minZoom)q=h.minZoom;else if(h.minScale&&-1!==h.minScale){m=0;for(n=d.length;m<n;m++)if(d[m].scale<=h.minScale){q=d[m].level;break}}q=Math.max(q,f);r=-1;if(h.maxZoom&&-1!==h.maxZoom)r=h.maxZoom;else if(h.maxScale&&-1!==h.maxScale){m=0;for(n=d.length;m<n;m++)if(d[m].scale<h.maxScale){r=d[m-1].level;break}else if(d[m].scale===h.maxScale){r=d[m].level;break}}r=-1===r?g:Math.min(r,g);for(h=q;h<=r;h++){m=0;for(n=d.length;m<
n;m++)if(d[m].level===h){p=d[m];break}p&&(this._exclusionsPerZoom[h]||(this._exclusionsPerZoom[h]=[]),m=1/p.resolution/c.rows,n=1/p.resolution/c.cols,this._exclusionsPerZoom[h].push({rowFrom:Math.floor((e.y-s.ymax)*m),rowTo:Math.ceil((e.y-s.ymin)*m),colFrom:Math.floor((s.xmin-e.x)*n),colTo:Math.ceil((s.xmax-e.x)*n)}))}}}this.suspended||this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD)}},_isExcluded:function(a,b,c){var e,d,f;if(!this._exclusionsPerZoom)return!1;e=this._exclusionsPerZoom[a];
if(!e)return!1;d=0;for(f=e.length;d<f;d++)if(a=e[d],b>=a.rowFrom&&b<a.rowTo&&c>=a.colFrom&&c<a.colTo)return!0;return!1}});h("extend-esri")&&p.setObject("layers.TiledMapServiceLayer",f,e);return f})},"esri/layers/layer":function(){define("dojo/_base/declare dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/Deferred dojo/_base/json dojo/has ../Evented ../kernel ../lang ../request ../deferredUtils ../urlUtils ../SpatialReference ../geometry/Extent".split(" "),function(f,l,p,r,d,n,m,g,a,
b,c,e,k,h,s){var q=f([g],{declaredClass:"esri.layers.Layer",_eventMap:{error:["error"],load:["layer"],"opacity-change":["opacity"],"update-end":["error"],"visibility-change":["visible"]},constructor:function(a,c){a&&r.isString(a)?this._url=k.urlToObject(this.url=a):(this.url=this._url=null,(c=c||a)&&c.layerDefinition&&(c=null));this.spatialReference=new h(4326);this.initialExtent=new s(-180,-90,180,90,new h(4326));this._map=this._div=null;this.normalization=!0;c&&(c.id&&(this.id=c.id),!1===c.visible&&
(this.visible=!1),b.isDefined(c.opacity)&&(this.opacity=c.opacity),b.isDefined(c.minScale)&&this.setMinScale(c.minScale),b.isDefined(c.maxScale)&&this.setMaxScale(c.maxScale),this.attributionDataUrl=c.attributionDataUrl||"",this.hasAttributionData=!!this.attributionDataUrl,b.isDefined(c.showAttribution)&&(this.showAttribution=c.showAttribution),this.className=c.className,this.refreshInterval=c.refreshInterval||0);this._errorHandler=r.hitch(this,this._errorHandler);this.refresh=r.hitch(this,this.refresh);
if(this.managedSuspension){var e=this._setMap;this._setMap=function(a){var b=e.apply(this,arguments);this.evaluateSuspension();if(this.suspended&&!a.loaded)var c=p.connect(a,"onLoad",this,function(){p.disconnect(c);c=null;this.evaluateSuspension()});return b}}this.registerConnectEvents()},id:null,visible:!0,opacity:1,loaded:!1,loadError:null,minScale:0,maxScale:0,visibleAtMapScale:!1,suspended:!0,attributionDataUrl:"",hasAttributionData:!1,showAttribution:!0,refreshInterval:0,_errorHandler:function(a){this.loaded||
(this.loadError=a);this.onError(a)},_setMap:function(a,b,c,e){this._map=a;this._lyrZEHandle=p.connect(a,"onZoomEnd",this,this._processMapScale);if(a.loaded)this.visibleAtMapScale=this._isMapAtVisibleScale();else var d=p.connect(a,"onLoad",this,function(){p.disconnect(d);d=null;this._processMapScale()})},_unsetMap:function(a,b){p.disconnect(this._lyrZEHandle);this._toggleRT();this._map=this._lyrZEHandle=null;this.suspended=!0},_cleanUp:function(){this._map=this._div=null},_fireUpdateStart:function(){this.updating||
(this.updating=!0,this.attr("data-updating",""),this._toggleRT(),this.onUpdateStart(),this._map&&this._map._incr())},_fireUpdateEnd:function(a,b){this.updating&&(this.updating=!1,this.attr("data-updating"),this._toggleRT(!0),this.onUpdateEnd(a,b),this._map&&this._map._decr())},_getToken:function(){var a=this._url,b=this.credential;return a&&a.query&&a.query.token||b&&b.token||void 0},_findCredential:function(){this.credential=a.id&&this._url&&a.id.findCredential(this._url.path)},_useSSL:function(){var a=
this._url,b=/^http:/i;this.url&&(this.url=this.url.replace(b,"https:"));a&&a.path&&(a.path=a.path.replace(b,"https:"))},refresh:function(){},show:function(){this.setVisibility(!0)},hide:function(){this.setVisibility(!1)},setMinScale:function(a){this.setScaleRange(a)},setMaxScale:function(a){this.setScaleRange(null,a)},setScaleRange:function(a,c){var e=b.isDefined(a),d=b.isDefined(c);this.loaded||(this._hasMin=this._hasMin||e,this._hasMax=this._hasMax||d);var f=this.minScale,g=this.maxScale;this.minScale=
(e?a:this.minScale)||0;this.maxScale=(d?c:this.maxScale)||0;if(f!==this.minScale||g!==this.maxScale)this.onScaleRangeChange(),this._processMapScale()},suspend:function(){this._suspended=!0;this.evaluateSuspension()},resume:function(){this._suspended=!1;this.evaluateSuspension()},canResume:function(){return this.loaded&&this._map&&this._map.loaded&&this.visible&&this.visibleAtMapScale&&!this._suspended},evaluateSuspension:function(){this.canResume()?this.suspended&&this._resume():this.suspended||this._suspend()},
_suspend:function(){this.suspended=!0;this.attr("data-suspended","");this._toggleRT();this.onSuspend();if(this._map)this._map.onLayerSuspend(this)},_resume:function(){this.suspended=!1;this.attr("data-suspended");var a=void 0===this._resumedOnce,b=this.className,c=this.getNode();if(a&&(this._resumedOnce=!0,b&&c)){var e=c.getAttribute("class")||"";RegExp("(^|\\s)"+b+"(\\s|$)","i").test(e)||c.setAttribute("class",e+((e?" ":"")+b))}this._toggleRT(!0);this.onResume({firstOccurrence:a});if(this._map)this._map.onLayerResume(this)},
_processMapScale:function(){var a=this.visibleAtMapScale;this.visibleAtMapScale=this._isMapAtVisibleScale();a!==this.visibleAtMapScale&&(this.onScaleVisibilityChange(),this.evaluateSuspension())},isVisibleAtScale:function(a){return a?q.prototype._isMapAtVisibleScale.apply(this,arguments):!1},_isMapAtVisibleScale:function(a){if(!a&&(!this._map||!this._map.loaded))return!1;a=a||this._map.getScale();var b=this.minScale,c=this.maxScale,e=!b,d=!c;!e&&a<=b&&(e=!0);!d&&a>=c&&(d=!0);return e&&d},getAttributionData:function(){var a=
this.attributionDataUrl,b=new d(e._dfdCanceller);this.hasAttributionData&&a?(b._pendingDfd=c({url:a,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}),b._pendingDfd.then(function(a){b.callback(a)},function(a){b.errback(a)})):(a=Error("Layer does not have attribution data"),a.log=l.isDebug,b.errback(a));return b},getResourceInfo:function(){var a=this.resourceInfo;return r.isString(a)?n.fromJson(a):r.clone(a)},getMap:function(){return this._map},getNode:function(){return this._div},attr:function(a,
b){var c=this.getNode();c&&(null==b?c.removeAttribute(a):c.setAttribute(a,b));return this},setRefreshInterval:function(a){var b=this.refreshInterval;this.refreshInterval=a;this._toggleRT();a&&!this.updating&&!this.suspended&&this._toggleRT(!0);if(b!==a)this.onRefreshIntervalChange();return this},_toggleRT:function(a){a&&this.refreshInterval?(clearTimeout(this._refreshT),this._refreshT=setTimeout(this.refresh,6E4*this.refreshInterval)):this._refreshT&&(clearTimeout(this._refreshT),this._refreshT=null)},
setNormalization:function(a){this.normalization=a},setVisibility:function(a){this.visible!==a&&(this.visible=a,this.onVisibilityChange(this.visible),this.evaluateSuspension());this.attr("data-hidden",a?null:"")},onLoad:function(){},onVisibilityChange:function(){},onScaleRangeChange:function(){},onScaleVisibilityChange:function(){},onSuspend:function(){},onResume:function(){},onUpdate:function(){},onUpdateStart:function(){},onUpdateEnd:function(){},onRefreshIntervalChange:function(){},onError:function(){}});
m("extend-esri")&&r.setObject("layers.Layer",q,a);return q})},"esri/urlUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/url dojo/io-query ./kernel ./config ./sniff dojo/i18n!./nls/jsapi".split(" "),function(f,l,p,r,d,n,m,g){var a={},b=n.defaults.io,c=window.location.protocol;"file:"===c&&(c="http:");a.urlToObject=function(a){var b={},c=new p(a),d=a.indexOf("?");null===c.query?b={path:a,query:null}:(b.path=a.substring(0,d),b.query=r.queryToObject(c.query));c.fragment&&(b.hash=
c.fragment,null===c.query&&(b.path=b.path.substring(0,b.path.length-(c.fragment.length+1))));return b};a.getProxyUrl=function(c,d){var h=f.isString(c)?0===f.trim(c).toLowerCase().indexOf("https:"):c,l=b.proxyUrl,m,n,p=g.io.proxyNotSet;if(f.isString(c)&&(n=a.getProxyRule(c)))l=n.proxyUrl;if(!l)throw console.log(p),Error(p);h&&(!1!==d&&0!==window.location.href.toLowerCase().indexOf("https:"))&&(h=l,0!==h.toLowerCase().indexOf("http")&&(h=a.getAbsoluteUrl(h)),h=h.replace(/^http:/i,"https:"),a.canUseXhr(h)&&
(l=h,m=1));l=a.urlToObject(l);l._xo=m;return l};a.addProxy=function(c){var d=a.getProxyRule(c),g;d?g=a.urlToObject(d.proxyUrl):b.alwaysUseProxy&&(g=a.getProxyUrl());g&&(d=a.urlToObject(c),c=g.path+"?"+d.path,(g=r.objectToQuery(f.mixin(g.query||{},d.query)))&&(c+="?"+g));return c};a.addProxyRule=function(c){var d=c.urlPrefix=a.urlToObject(c.urlPrefix).path.replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,"").toLowerCase(),f=b.proxyRules,g,l=f.length,m,n=l;for(g=0;g<l;g++)if(m=f[g].urlPrefix,0===
d.indexOf(m)){if(d.length===m)return-1;n=g;break}else 0===m.indexOf(d)&&(n=g+1);f.splice(n,0,c);return n};a.getProxyRule=function(c){var d=b.proxyRules,f=d.length,g=a.urlToObject(c).path.replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,"").toLowerCase(),l;for(c=0;c<f;c++)if(0===g.indexOf(d[c].urlPrefix)){l=d[c];break}return l};a.hasSameOrigin=function(a,b,c){a=a.toLowerCase();b=b.toLowerCase();var d=window.location.href.toLowerCase();a=0===a.indexOf("http")?new p(a):d=new p(d);b=0===b.indexOf("http")?
new p(b):f.isString(d)?new p(d):d;return(c||a.scheme===b.scheme)&&a.host===b.host&&a.port===b.port};a.canUseXhr=function(c,d){var g=m("esri-phonegap")?!0:!1,n=a.hasSameOrigin,p=b.corsEnabledServers,r,u=-1;!g&&(m("esri-cors")&&p&&p.length)&&(g=l.some(p,function(a,b){r=0!==f.trim(a).toLowerCase().indexOf("http");return n(c,r?"http://"+a:a)||r&&n(c,"https://"+a)?(u=b,!0):!1}));return d?u:g};a.getAbsoluteUrl=function(a){return f.isString(a)&&!/^https?:\/\//i.test(a)?0===a.indexOf("//")?c+a:0===a.indexOf("/")?
c+"//"+window.location.host+a:d._appBaseUrl+a:a};a.fixUrl=function(a){/^\/\//i.test(a)&&(a=c+a);return a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")};m("extend-esri")&&(f.mixin(d,a),d._getProxyUrl=a.getProxyUrl,d._getProxiedUrl=a.addProxy,d._hasSameOrigin=a.hasSameOrigin,d._canDoXOXHR=a.canUseXhr,d._getAbsoluteUrl=a.getAbsoluteUrl,d.fixUrl=a.fixUrl);return a})},"*now":function(f){f(['dojo/i18n!*preload*esri/nls/jsapi*["ar","az","ca","cs","da","de-de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ro","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])},
"*noref":1}});define("esri/jsapi","dojo/fx/Toggler dojo/_base/html dijit/_base/manager ./main ./map ./geometry ./symbol ./renderer ./utils ./layers/graphics ./layers/agstiled ./layers/agsdynamic".split(" "),function(){return{}});